<?DTDIdentifier.IdentifierValue -//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.1 20151215//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName JATS-journalpublishing1.dtd?>
<?SourceDTD.Version 1.1?>
<?ConverterInfo.XSLTName jats2jats3.xsl?>
<?ConverterInfo.Version 1?>
<?properties open_access?>
<processing-meta base-tagset="archiving" mathml-version="3.0" table-model="xhtml" tagset-family="jats">
  <restricted-by>pmc</restricted-by>
</processing-meta>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">PeerJ Comput Sci</journal-id>
    <journal-id journal-id-type="iso-abbrev">PeerJ Comput Sci</journal-id>
    <journal-id journal-id-type="publisher-id">peerj-cs</journal-id>
    <journal-title-group>
      <journal-title>PeerJ Computer Science</journal-title>
    </journal-title-group>
    <issn pub-type="epub">2376-5992</issn>
    <publisher>
      <publisher-name>PeerJ Inc.</publisher-name>
      <publisher-loc>San Diego, USA</publisher-loc>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">9680895</article-id>
    <article-id pub-id-type="publisher-id">cs-1073</article-id>
    <article-id pub-id-type="doi">10.7717/peerj-cs.1073</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Artificial Intelligence</subject>
      </subj-group>
      <subj-group subj-group-type="heading">
        <subject>Data Mining and Machine Learning</subject>
      </subj-group>
      <subj-group subj-group-type="heading">
        <subject>World Wide Web and Web Science</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>Relational graph convolutional networks: a closer look</article-title>
    </title-group>
    <contrib-group>
      <contrib id="author-1" contrib-type="author" corresp="yes">
        <name>
          <surname>Thanapalasingam</surname>
          <given-names>Thiviyan</given-names>
        </name>
        <xref rid="aff-1" ref-type="aff">1</xref>
        <xref rid="aff-2" ref-type="aff">2</xref>
        <email>t.singam@uva.nl</email>
      </contrib>
      <contrib id="author-2" contrib-type="author">
        <name>
          <surname>van Berkel</surname>
          <given-names>Lucas</given-names>
        </name>
        <xref rid="aff-1" ref-type="aff">1</xref>
      </contrib>
      <contrib id="author-3" contrib-type="author">
        <name>
          <surname>Bloem</surname>
          <given-names>Peter</given-names>
        </name>
        <xref rid="aff-2" ref-type="aff">2</xref>
      </contrib>
      <contrib id="author-4" contrib-type="author">
        <contrib-id contrib-id-type="orcid" authenticated="false">http://orcid.org/0000-0003-0183-6910</contrib-id>
        <name>
          <surname>Groth</surname>
          <given-names>Paul</given-names>
        </name>
        <xref rid="aff-1" ref-type="aff">1</xref>
      </contrib>
      <aff id="aff-1"><label>1</label><institution>University of Amsterdam</institution>, <addr-line>Amsterdam, Noord Holland</addr-line>, <country>Netherlands</country></aff>
      <aff id="aff-2"><label>2</label><institution>VU University Amsterdam</institution>, <addr-line>Amsterdam, Noord Holland</addr-line>, <country>Netherlands</country></aff>
    </contrib-group>
    <contrib-group>
      <contrib contrib-type="editor">
        <name>
          <surname>Maguitman</surname>
          <given-names>Ana</given-names>
        </name>
      </contrib>
    </contrib-group>
    <pub-date pub-type="epub" date-type="pub" iso-8601-date="2022-11-02">
      <day>2</day>
      <month>11</month>
      <year iso-8601-date="2022">2022</year>
    </pub-date>
    <pub-date pub-type="collection">
      <year>2022</year>
    </pub-date>
    <volume>8</volume>
    <elocation-id>e1073</elocation-id>
    <history>
      <date date-type="received" iso-8601-date="2022-02-01">
        <day>1</day>
        <month>2</month>
        <year iso-8601-date="2022">2022</year>
      </date>
      <date date-type="accepted" iso-8601-date="2022-07-28">
        <day>28</day>
        <month>7</month>
        <year iso-8601-date="2022">2022</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>© 2022 Thanapalasingam et al.</copyright-statement>
      <copyright-year>2022</copyright-year>
      <copyright-holder>Thanapalasingam et al.</copyright-holder>
      <license>
        <ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/" specific-use="textmining" content-type="ccbylicense">https://creativecommons.org/licenses/by/4.0/</ali:license_ref>
        <license-p>This is an open access article distributed under the terms of the <ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution License</ext-link>, which permits unrestricted use, distribution, reproduction and adaptation in any medium and for any purpose provided that it is properly attributed. For attribution, the original author(s), title, publication source (PeerJ Computer Science) and either DOI or URL of the article must be cited.</license-p>
      </license>
    </permissions>
    <self-uri xlink:href="https://peerj.com/articles/cs-1073"/>
    <abstract>
      <p>In this article, we describe a reproduction of the Relational Graph Convolutional Network (RGCN). Using our reproduction, we explain the intuition behind the model. Our reproduction results empirically validate the correctness of our implementations using benchmark Knowledge Graph datasets on node classification and link prediction tasks. Our explanation provides a friendly understanding of the different components of the RGCN for both users and researchers extending the RGCN approach. Furthermore, we introduce two new configurations of the RGCN that are more parameter efficient. The code and datasets are available at <uri xlink:href="https://github.com/thiviyanT/torch-rgcn">https://github.com/thiviyanT/torch-rgcn</uri>.</p>
    </abstract>
    <kwd-group kwd-group-type="author">
      <kwd>Relational graphs</kwd>
      <kwd>Graph convolutional network</kwd>
      <kwd>Representation learning</kwd>
      <kwd>Link prediction</kwd>
      <kwd>Node classification</kwd>
      <kwd>Knowledge graphs</kwd>
    </kwd-group>
    <funding-group>
      <award-group id="fund-1">
        <funding-source>VSNU Digital Society Program</funding-source>
      </award-group>
      <funding-statement>This research was supported by the responsible data science track of the VSNU Digital Society program. The funders had no role in study design, data collection and analysis, decision to publish, or preparation of the manuscript.</funding-statement>
    </funding-group>
  </article-meta>
</front>
<body>
  <sec sec-type="intro">
    <title>Introduction</title>
    <p>Knowledge Graphs are graph-structured knowledge bases, representing entities and relations between pairs of entities (<xref rid="ref-30" ref-type="bibr">Nickel et al., 2016</xref>). They have become critical for large-scale information systems for tasks ranging from question answering to search (<xref rid="ref-31" ref-type="bibr">Noy et al., 2019</xref>). The ability to perform statistical relational learning over such data enables new links, properties, and types to be inferred (<xref rid="ref-30" ref-type="bibr">Nickel et al., 2016</xref>), and performing this at a large scale is fundamental for the advancement of the Semantic Web. Additionally, models that can be applied to Knowledge Graphs can also be applied to Relational Database Management Systems, because there is a one-to-one mapping between the two (<xref rid="ref-7" ref-type="bibr">Bornea et al., 2013</xref>).</p>
    <p>Relational Graph Convolution Networks (RGCNs) (<xref rid="ref-36" ref-type="bibr">Schlichtkrull et al., 2018</xref>) are message passing frameworks for learning valuable latent features of relational graphs. RGCNs have become widely adopted for combining Knowledge Graphs with machine learning applications (the original article has received over 1,200 citations) for their uses include Knowledge Graph refinement (<xref rid="ref-33" ref-type="bibr">Paulheim, 2016</xref>), soft-query answering (<xref rid="ref-10" ref-type="bibr">Daza &amp; Cochez, 2020</xref>), and logical reasoning (<xref rid="ref-37" ref-type="bibr">Sinha et al., 2020</xref>). The original reference code for the RGCN is built on old platforms that are no longer supported. Furthermore, other reproductions (<xref rid="ref-39" ref-type="bibr">Wang et al., 2020</xref>; <xref rid="ref-15" ref-type="bibr">Fey &amp; Lenssen, 2019</xref>) are incomplete (At the time of writing, we are aware of additional implementations in PyTorch Geometric (<xref rid="ref-15" ref-type="bibr">Fey &amp; Lenssen, 2019</xref>), which reproduces only the RGCN layer, and in Deep Graph Library (<xref rid="ref-39" ref-type="bibr">Wang et al., 2020</xref>), which provides the node classification and link prediction model. However, they are not focused on scientific reproducibility). Existing descriptions of the model are are mathematically dense, with little exposition, and assume prior knowledge about geometric deep learning.</p>
    <p>We reproduced the model in PyTorch, a widely-used framework for deep learning (<xref rid="ref-32" ref-type="bibr">Paszke et al., 2019</xref>). Using our reproduction, we provide a thorough and friendly description for a wider audience. The contributions of this article are as follows:
<list list-type="order"><list-item><p>A <italic toggle="yes">reproduction of the experiments</italic> as described in the original article by <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref>;</p></list-item><list-item><p>A new publicly available PyTorch implementation of the model called <italic toggle="yes">Torch-RGCN</italic>;</p></list-item><list-item><p>A description of the <italic toggle="yes">subtleties of the RGCN</italic> that are crucial for its understanding, use and efficient implementation;</p></list-item><list-item><p><italic toggle="yes">New configurations</italic> of the model that are parameter efficient.</p></list-item></list></p>
    <p>The rest of the article is organized as follows. We begin with an overview of the related work in “Literature review”. Then, we introduce the RGCN in “Relational graph convolutional network”, followed by a description of our re-implementation (Torch-RGCN). We then proceed to describe the reproduction of node classification (Downstream task: node classification) and link prediction models with associated experiments (Downstream task: link prediction). These sections include the model variants mentioned above. In the “Conclusion”, we discuss the lessons learned from reproducing the original article and the implications of our findings. Finally, we discuss our results and conclude.</p>
  </sec>
  <sec>
    <title>Literature review</title>
    <p>The ability to reproduce published work is the essence of scientific research. In machine learning research, reproducibility is crucial for three primary reasons: (1) Validating and verifying methods during review cycles, (2) reproducing implementations to be used as baselines, and (3) reproducing and improving previously published work. However, reproducibility of machine learning research methods still remains to be challenging for various reasons, such as modern research outgrowing older methods for communicating research results (<xref rid="ref-38" ref-type="bibr">Tatman, VanderPlas &amp; Dane, 2018</xref>) and the lack of rigorous standards for reproducibility in the field (<xref rid="ref-20" ref-type="bibr">Heil et al., 2021</xref>). Introducing standards for machine learning reproducibility would make it easier for assessing and comparing which features are required to fully support reproducibility (<xref rid="ref-23" ref-type="bibr">Isdahl &amp; Gundersen, 2019</xref>). <xref rid="ref-38" ref-type="bibr">Tatman, VanderPlas &amp; Dane (2018)</xref> propose a simple taxonomy for describing reproducibility of machine learning research articles into three categories, where the highest category describes work that provides the code, data, and full computational environment necessary to reproduce the results of the study. Similarly, <xref rid="ref-20" ref-type="bibr">Heil et al. (2021)</xref> propose standards for machine learning in the life sciences based on data, model and code publication, programming best practices and workflow automation. Ideally, reproduction is fully automated, often referred to as <italic toggle="yes">out-of-box reproducibility</italic>, allowing researchers to reproduce computational methods with little to no effort (<xref rid="ref-23" ref-type="bibr">Isdahl &amp; Gundersen, 2019</xref>; <xref rid="ref-20" ref-type="bibr">Heil et al., 2021</xref>).</p>
    <p>Machine learning over Knowledge Graphs involves learning low-dimensional continuous vector representations, called Knowledge Graph Embeddings (KGEs). Commonly, KGE models are developed and tested using link prediction benchmark datasets. Two key examples of KGEs are TransE (<xref rid="ref-6" ref-type="bibr">Bordes et al., 2013</xref>), in which relations are translations operating on the low-dimensional vector representations of entities, and DistMult (<xref rid="ref-41" ref-type="bibr">Yang et al., 2015</xref>) where the likelihood of a triple is quantified by a multiplicative scoring function. Similarly, RGCNs can be used to embed Knowledge Graphs. However, RGCNs are different from traditional link predictors, such as TransE and DistMult, because RGCNs explicitly use nodes’ neighborhood information for learning vector representations for downstream tasks (<xref rid="ref-4" ref-type="bibr">Battaglia et al., 2018</xref>). Incorporating logical background knowledge into KGE models allow generalisation to relations not seen in the training set (<xref rid="ref-14" ref-type="bibr">Donadello &amp; Serafini, 2019</xref>). On the other hand, RGCNs strictly operate under a transductive setting where entities and relations in the test set must be available during training.</p>
    <p>Besides RGCNs, there are other graph embedding models for relational data. Relational Graph Attention Networks use self-attention layers to learn attention weights of edges in relational graphs but yields similar, or in some cases poor, performance when compared to the RGCN (<xref rid="ref-8" ref-type="bibr">Busbridge et al., 2019</xref>). Heterogenous Information Networks (HINs) exploit meta-paths (a sequence consisting of node types and edge types for modelling particular relationships) to low-dimensional representation of networks (<xref rid="ref-22" ref-type="bibr">Huang &amp; Mamoulis, 2017</xref>). HINs do not use message passing and their expressivity depends on the selected meta-paths.</p>
    <p>Beyond node classification and link prediction, RGCNs have other practical applications. <xref rid="ref-10" ref-type="bibr">Daza &amp; Cochez (2020)</xref> have explored RGCNs for soft-query answering by embedding queries structured as small relational graphs. RGCNs can facilitate zero-shot entity recognition by transferring the knowledge obtained from familiar entities to unfamiliar ones (<xref rid="ref-9" ref-type="bibr">Chen et al., 2020</xref>). <xref rid="ref-29" ref-type="bibr">Mylavarapu et al. (2020)</xref> have shown that spatial information for dynamic scene understanding can be encoded as relations between objects using RGCNs. RGCNs can complement traditional machine learning approaches by reasoning on contextual information (<xref rid="ref-21" ref-type="bibr">Hu et al., 2021</xref>). Furthermore, RGCNs have contributed to the field of natural language processing by improving dependency tree extraction (<xref rid="ref-18" ref-type="bibr">Guo et al., 2021</xref>).</p>
    <p>In this section, we discussed a few examples of recent works that highlight the prevalence of RGCNs and thus, show that RGCNs are still relevant today. We refer the reader to <xref rid="ref-35" ref-type="bibr">Ruffinelli, Broscheit &amp; Gemulla (2020)</xref> and <xref rid="ref-34" ref-type="bibr">Rossi et al. (2021)</xref> for a comprehensive survey of the state of the art KGE models, and <xref rid="ref-40" ref-type="bibr">Wu et al. (2021)</xref> for an overview of graph representation learning frameworks.</p>
  </sec>
  <sec>
    <title>Relational graph convolutional network</title>
    <p><xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> introduced the RGCN as a convolution operation that performs message passing on multi-relational graphs. In this section, we are going to explain how Graph Convolution Networks operate on undirected graphs (<xref rid="ref-25" ref-type="bibr">Kipf &amp; Welling, 2017</xref>) and how they can be extended for relational graphs. We will describe message passing in terms of matrix multiplications and explain the intuition behind these operations.</p>
    <sec>
      <title>Message passing</title>
      <p>We will begin by describing the basic Graph Convolutional Network (GCN) layer for <italic toggle="yes">directed graphs</italic><xref rid="fn-1" ref-type="fn"><sup>1</sup></xref>
<fn id="fn-1"><label>1</label><p>The original Graph Convolutional Network (<xref rid="ref-25" ref-type="bibr">Kipf &amp; Welling, 2017</xref>) operates over undirected graphs.</p></fn>. This will serve as the basis for the RGCN in “Extending GCNs for multiple relations”.</p>
      <p>The GCN (<xref rid="ref-25" ref-type="bibr">Kipf &amp; Welling, 2017</xref>) is a graph-to-graph layer that takes a set of vectors representing nodes as input, together with the structure of the graph and generates a new collection of representations for nodes in the graph. A directed graph is defined as <inline-formula id="ieqn-1"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i001.jpg"/><tex-math id="tex-ieqn-1">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal G}} = ({\rm {\cal V}},{\rm {\cal E}})$\end{document}</tex-math><mml:math id="mml-ieqn-1" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">G</mml:mi></mml:mrow></mml:mrow><mml:mo>=</mml:mo><mml:mo stretchy="false">(</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">V</mml:mi></mml:mrow></mml:mrow><mml:mo>,</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">E</mml:mi></mml:mrow></mml:mrow><mml:mo stretchy="false">)</mml:mo></mml:math></alternatives></inline-formula>, where <inline-formula id="ieqn-2"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i002.jpg"/><tex-math id="tex-ieqn-2">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal V}}$\end{document}</tex-math><mml:math id="mml-ieqn-2" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">V</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> is a set of vertices (nodes) and <inline-formula id="ieqn-3"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i003.jpg"/><tex-math id="tex-ieqn-3">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\langle i,j\rangle \in {\rm {\cal E}}$\end{document}</tex-math><mml:math id="mml-ieqn-3" overflow="scroll"><mml:mo stretchy="false" fence="false">⟨</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false" fence="false">⟩</mml:mo><mml:mo>∈</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">E</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> is a set of tuples indicating the presence of <italic toggle="yes">directed</italic> edges, pointing from node <italic toggle="yes">i</italic> to <italic toggle="yes">j</italic>. <xref rid="eqn-1" ref-type="disp-formula">Equation (1)</xref> shows the message passing rule of a <italic toggle="yes">single layer</italic> GCN for an undirected graph, <inline-formula id="ieqn-4"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i004.jpg"/><tex-math id="tex-ieqn-4">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal G}}$\end{document}</tex-math><mml:math id="mml-ieqn-4" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">G</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula>.</p>
      <p>
        <disp-formula id="eqn-1">
          <label>(1)</label>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e001.jpg" position="float"/>
            <tex-math id="tex-eqn-1">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$$H = \sigma \left( {AXW} \right),$$\end{document}</tex-math>
            <mml:math id="mml-eqn-1" display="block" overflow="scroll">
              <mml:mi>H</mml:mi>
              <mml:mo>=</mml:mo>
              <mml:mi>σ</mml:mi>
              <mml:mrow>
                <mml:mo>(</mml:mo>
                <mml:mrow>
                  <mml:mi>A</mml:mi>
                  <mml:mi>X</mml:mi>
                  <mml:mi>W</mml:mi>
                </mml:mrow>
                <mml:mo>)</mml:mo>
              </mml:mrow>
              <mml:mo>,</mml:mo>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>Here, <italic toggle="yes">X</italic> is a node feature matrix, <italic toggle="yes">W</italic> represents the weight parameters, and <inline-formula id="ieqn-5"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i005.jpg"/><tex-math id="tex-ieqn-5">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\sigma$\end{document}</tex-math><mml:math id="mml-ieqn-5" overflow="scroll"><mml:mi>σ</mml:mi></mml:math></alternatives></inline-formula> is a non-linear activation function. <italic toggle="yes">A</italic> is a matrix computed by row-normalizing<xref rid="fn-2" ref-type="fn"><sup>2</sup></xref>
<fn id="fn-2"><label>2</label><p>For undirected graphs, a symmetrically normalized Laplacian matrix is used instead (<xref rid="ref-25" ref-type="bibr">Kipf &amp; Welling, 2017</xref>).</p></fn> the adjacency matrix of the graph <inline-formula id="ieqn-6"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i006.jpg"/><tex-math id="tex-ieqn-6">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal G}}$\end{document}</tex-math><mml:math id="mml-ieqn-6" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">G</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula>. The row normalization ensures that the scale of the node feature vectors do not change significantly during message passing. The node feature matrix, <italic toggle="yes">X</italic>, indicate the presence or absence of a particular feature on a node.</p>
      <p>Typically, more than a single convolutional layer is required to capture the complexity of large graphs. In these cases, the RGCN layers are stacked one after another so that the output of the preceeding RGCN layer <inline-formula id="ieqn-7"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i007.jpg"/><tex-math id="tex-ieqn-7">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${H^{(l - 1)}}$\end{document}</tex-math><mml:math id="mml-ieqn-7" overflow="scroll"><mml:mrow><mml:msup><mml:mi>H</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>l</mml:mi><mml:mo>−</mml:mo><mml:mn>1</mml:mn><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula> is used as the input for the current layer <inline-formula id="ieqn-8"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i008.jpg"/><tex-math id="tex-ieqn-8">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${H^{(l)}}$\end{document}</tex-math><mml:math id="mml-ieqn-8" overflow="scroll"><mml:mrow><mml:msup><mml:mi>H</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>l</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula>, as shown in <xref rid="eqn-2" ref-type="disp-formula">Eq. (2)</xref>. In our work, we will use superscript <italic toggle="yes">l</italic> to denote the current layer.</p>
      <p>
        <disp-formula id="eqn-2">
          <label>(2)</label>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e002.jpg" position="float"/>
            <tex-math id="tex-eqn-2">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$${H^{(l)}} = \sigma \left( {A\;{H^{(l - 1)}}\;W} \right),$$\end{document}</tex-math>
            <mml:math id="mml-eqn-2" display="block" overflow="scroll">
              <mml:mrow>
                <mml:msup>
                  <mml:mi>H</mml:mi>
                  <mml:mrow>
                    <mml:mo stretchy="false">(</mml:mo>
                    <mml:mi>l</mml:mi>
                    <mml:mo stretchy="false">)</mml:mo>
                  </mml:mrow>
                </mml:msup>
              </mml:mrow>
              <mml:mo>=</mml:mo>
              <mml:mi>σ</mml:mi>
              <mml:mrow>
                <mml:mo>(</mml:mo>
                <mml:mrow>
                  <mml:mi>A</mml:mi>
                  <mml:mspace width="thickmathspace"/>
                  <mml:mrow>
                    <mml:msup>
                      <mml:mi>H</mml:mi>
                      <mml:mrow>
                        <mml:mo stretchy="false">(</mml:mo>
                        <mml:mi>l</mml:mi>
                        <mml:mo>−</mml:mo>
                        <mml:mn>1</mml:mn>
                        <mml:mo stretchy="false">)</mml:mo>
                      </mml:mrow>
                    </mml:msup>
                  </mml:mrow>
                  <mml:mspace width="thickmathspace"/>
                  <mml:mi>W</mml:mi>
                </mml:mrow>
                <mml:mo>)</mml:mo>
              </mml:mrow>
              <mml:mo>,</mml:mo>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>If the data comes with a feature vector for each node, these can be used as the input <italic toggle="yes">X</italic> for the first layer of the model. If feature vectors are not available, one-hot vectors, of length <italic toggle="yes">N</italic> with the non-zero element indicating the node index, are often used. In this case, the input <italic toggle="yes">X</italic> becomes the identity matrix <italic toggle="yes">I</italic>, which can then be removed from <xref rid="eqn-1" ref-type="disp-formula">Eq. (1)</xref>.</p>
      <p>We can rewrite <xref rid="eqn-1" ref-type="disp-formula">Eq. (1)</xref> to make it explicit how the node representations are updated based on a node’s neighbors:</p>
      <p>
        <disp-formula id="eqn-3">
          <label>(3)</label>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e003.jpg" position="float"/>
            <tex-math id="tex-eqn-3">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$${{\bf h}_i} = \sigma \left[ {\sum\limits_{j \in N(i)} {\displaystyle{1 \over {|N(i)|}}} {{\bf x}_i}^TW} \right].$$\end{document}</tex-math>
            <mml:math id="mml-eqn-3" display="block" overflow="scroll">
              <mml:mrow>
                <mml:msub>
                  <mml:mrow>
                    <mml:mi mathvariant="bold">h</mml:mi>
                  </mml:mrow>
                  <mml:mi>i</mml:mi>
                </mml:msub>
              </mml:mrow>
              <mml:mo>=</mml:mo>
              <mml:mi>σ</mml:mi>
              <mml:mrow>
                <mml:mo>[</mml:mo>
                <mml:mrow>
                  <mml:munder>
                    <mml:mo movablelimits="false">∑</mml:mo>
                    <mml:mrow>
                      <mml:mi>j</mml:mi>
                      <mml:mo>∈</mml:mo>
                      <mml:mi>N</mml:mi>
                      <mml:mo stretchy="false">(</mml:mo>
                      <mml:mi>i</mml:mi>
                      <mml:mo stretchy="false">)</mml:mo>
                    </mml:mrow>
                  </mml:munder>
                  <mml:mrow>
                    <mml:mstyle scriptlevel="0" displaystyle="true">
                      <mml:mrow>
                        <mml:mfrac>
                          <mml:mn>1</mml:mn>
                          <mml:mrow>
                            <mml:mrow>
                              <mml:mo stretchy="false">|</mml:mo>
                            </mml:mrow>
                            <mml:mi>N</mml:mi>
                            <mml:mo stretchy="false">(</mml:mo>
                            <mml:mi>i</mml:mi>
                            <mml:mo stretchy="false">)</mml:mo>
                            <mml:mrow>
                              <mml:mo stretchy="false">|</mml:mo>
                            </mml:mrow>
                          </mml:mrow>
                        </mml:mfrac>
                      </mml:mrow>
                    </mml:mstyle>
                  </mml:mrow>
                  <mml:msup>
                    <mml:mrow>
                      <mml:msub>
                        <mml:mrow>
                          <mml:mi mathvariant="bold">x</mml:mi>
                        </mml:mrow>
                        <mml:mi>i</mml:mi>
                      </mml:msub>
                    </mml:mrow>
                    <mml:mi>T</mml:mi>
                  </mml:msup>
                  <mml:mi>W</mml:mi>
                </mml:mrow>
                <mml:mo>]</mml:mo>
              </mml:mrow>
              <mml:mo>.</mml:mo>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>Here, <inline-formula id="ieqn-9"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i009.jpg"/><tex-math id="tex-ieqn-9">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${{\bf x}_i}$\end{document}</tex-math><mml:math id="mml-ieqn-9" overflow="scroll"><mml:mrow><mml:msub><mml:mrow><mml:mi mathvariant="bold">x</mml:mi></mml:mrow><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is an input vector representing node <italic toggle="yes">i</italic>, <inline-formula id="ieqn-10"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i010.jpg"/><tex-math id="tex-ieqn-10">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${{\bf h}_i}$\end{document}</tex-math><mml:math id="mml-ieqn-10" overflow="scroll"><mml:mrow><mml:msub><mml:mrow><mml:mi mathvariant="bold">h</mml:mi></mml:mrow><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is the output vector for node <italic toggle="yes">i</italic>, and <italic toggle="yes">N</italic>(<italic toggle="yes">i</italic>) is the collection of the incoming neighbors of <italic toggle="yes">i</italic>, that is the nodes <italic toggle="yes">j</italic> for which there is an edge <inline-formula id="ieqn-11"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i011.jpg"/><tex-math id="tex-ieqn-11">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\langle$\end{document}</tex-math><mml:math id="mml-ieqn-11" overflow="scroll"><mml:mo fence="false" stretchy="false">⟨</mml:mo></mml:math></alternatives></inline-formula><italic toggle="yes">j</italic>, <italic toggle="yes">i</italic><inline-formula id="ieqn-12"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i012.jpg"/><tex-math id="tex-ieqn-12">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\rangle$\end{document}</tex-math><mml:math id="mml-ieqn-12" overflow="scroll"><mml:mo fence="false" stretchy="false">⟩</mml:mo></mml:math></alternatives></inline-formula> in the graph. For simplicity, the bias term is left out of the notation but it is usually included. We see that the GCN takes the average of <italic toggle="yes">i</italic>’s neighbouring nodes, and then applies a weight matrix <italic toggle="yes">W</italic> and an activation <inline-formula id="ieqn-13"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i013.jpg"/><tex-math id="tex-ieqn-13">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\sigma$\end{document}</tex-math><mml:math id="mml-ieqn-13" overflow="scroll"><mml:mi>σ</mml:mi></mml:math></alternatives></inline-formula> to the result. Multiplying <inline-formula id="ieqn-14"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i014.jpg"/><tex-math id="tex-ieqn-14">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${{\bf x}_i}^TW$\end{document}</tex-math><mml:math id="mml-ieqn-14" overflow="scroll"><mml:msup><mml:mrow><mml:msub><mml:mrow><mml:mi mathvariant="bold">x</mml:mi></mml:mrow><mml:mi>i</mml:mi></mml:msub></mml:mrow><mml:mi>T</mml:mi></mml:msup><mml:mi>W</mml:mi></mml:math></alternatives></inline-formula> by <inline-formula id="ieqn-15"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i015.jpg"/><tex-math id="tex-ieqn-15">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\displaystyle{1 \over {|{N_i}|}}$\end{document}</tex-math><mml:math id="mml-ieqn-15" overflow="scroll"><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mrow><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:mrow><mml:mo stretchy="false">|</mml:mo></mml:mrow><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:mo stretchy="false">|</mml:mo></mml:mrow></mml:mrow></mml:mfrac></mml:mrow></mml:mstyle></mml:math></alternatives></inline-formula> means that we sum up all the feature vectors of all neighboring nodes. This makes every convolution layer <italic toggle="yes">permutation equivariant</italic>, and that is: if either the nodes (in <italic toggle="yes">A</italic>) are permuted, then the output representations are permuted in the same way. Overall, this operation has the effect of passing information about neighboring nodes to the node of interest, <italic toggle="yes">i</italic> and is called <italic toggle="yes">message passing</italic>. Message passing is graphically represented in <xref rid="fig-1" ref-type="fig">Fig. 1</xref> for an undirected graph, where messages from neighboring nodes (<italic toggle="yes">a</italic> − <italic toggle="yes">e</italic>) are combined to generate a representation for node <italic toggle="yes">i</italic>. After message passing, the new representation of node <italic toggle="yes">i</italic> is a mixture of the vector embeddings of neighboring nodes.</p>
      <fig position="float" id="fig-1">
        <object-id pub-id-type="doi">10.7717/peerj-cs.1073/fig-1</object-id>
        <label>Figure 1</label>
        <caption>
          <title>A schematic diagram of message passing in a directed graph with six nodes.</title>
          <p><inline-formula id="ieqn-16"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i016.jpg"/><tex-math id="tex-ieqn-16">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${{\rm h}_i}$\end{document}</tex-math><mml:math id="mml-ieqn-16" overflow="scroll"><mml:mrow><mml:msub><mml:mrow><mml:mi mathvariant="bold">h</mml:mi></mml:mrow><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is a vector that represents the node embedding of the node <inline-formula id="ieqn-17"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i017.jpg"/><tex-math id="tex-ieqn-17">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$i$\end{document}</tex-math><mml:math id="mml-ieqn-17" overflow="scroll"><mml:mi>i</mml:mi></mml:math></alternatives></inline-formula> (in orange). <inline-formula id="ieqn-18"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i018.jpg"/><tex-math id="tex-ieqn-18">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm h}_{i}^{(l)}$\end{document}</tex-math><mml:math id="mml-ieqn-18" overflow="scroll"><mml:msubsup><mml:mrow><mml:mi mathvariant="bold">h</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi></mml:mrow><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>l</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> and <inline-formula id="ieqn-19"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i019.jpg"/><tex-math id="tex-ieqn-19">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm h}_{i}^{(l+1)}$\end{document}</tex-math><mml:math id="mml-ieqn-19" overflow="scroll"><mml:msubsup><mml:mrow><mml:mi mathvariant="bold">h</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi></mml:mrow><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>l</mml:mi><mml:mo>+</mml:mo><mml:mn>1</mml:mn><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> show the node embedding before and after the message passing step, respectively. The neighboring nodes are labelled from <italic toggle="yes">a</italic> to <italic toggle="yes">e</italic>.</p>
        </caption>
        <graphic xlink:href="peerj-cs-08-1073-g001" position="float"/>
      </fig>
      <p>If a graph is sparsely connected, a single graph-convolution layer may suffice for a given downstream task. Using more convolutional layers encourages mixing with nodes more than 1-hop away, however it can also lead to output features being oversmoothed (<xref rid="ref-28" ref-type="bibr">Li, Han &amp; Wu, 2018</xref>). This is an issue as the embeddings for different nodes may be indistinguishable from each other, which is not desirable.</p>
      <p>In summary, GCNs perform the following two operations: (1) They replace each node representation by the average of its neighbors, and (2) they apply a linear layer with a nonlinear activation function <inline-formula id="ieqn-20"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i020.jpg"/><tex-math id="tex-ieqn-20">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\sigma$\end{document}</tex-math><mml:math id="mml-ieqn-20" overflow="scroll"><mml:mi>σ</mml:mi></mml:math></alternatives></inline-formula>. There are two issues with this definition of the GCN. First, the input representation of node <italic toggle="yes">i</italic> does not affect the output representation, unless the graph contains a self-loop for <italic toggle="yes">i</italic>. This is often solved by adding self-loops explicitly to all nodes. Second, only the representations of nodes that have incoming links to <italic toggle="yes">i</italic> are used in the new representation of <italic toggle="yes">i</italic>. In the relational setting, we can solve both problems elegantly by adding relations to the graph which we will describe in the next section.</p>
    </sec>
    <sec>
      <title>Extending GCNs for multiple relations</title>
      <p>In this section, we explain how the basic message passing framework can be extended to relational graphs, such as Knowledge Graphs. We define a Knowledge Graph as a directed graph with labelled vertices and edges. Formally, this graph can be defined as <inline-formula id="ieqn-21"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i021.jpg"/><tex-math id="tex-ieqn-21">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal G}} = ({\rm {\cal V}},{\rm {\cal E}},{\rm {\cal R}})$\end{document}</tex-math><mml:math id="mml-ieqn-21" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">G</mml:mi></mml:mrow></mml:mrow><mml:mo>=</mml:mo><mml:mo stretchy="false">(</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">V</mml:mi></mml:mrow></mml:mrow><mml:mo>,</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">E</mml:mi></mml:mrow></mml:mrow><mml:mo>,</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">R</mml:mi></mml:mrow></mml:mrow><mml:mo stretchy="false">)</mml:mo></mml:math></alternatives></inline-formula>, where <inline-formula id="ieqn-22"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i022.jpg"/><tex-math id="tex-ieqn-22">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal R}}$\end{document}</tex-math><mml:math id="mml-ieqn-22" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">R</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> represents the set of edge labels (relations) and <inline-formula id="ieqn-23"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i023.jpg"/><tex-math id="tex-ieqn-23">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\langle s,r,o\rangle \in {\rm {\cal E}}$\end{document}</tex-math><mml:math id="mml-ieqn-23" overflow="scroll"><mml:mo stretchy="false" fence="false">⟨</mml:mo><mml:mi>s</mml:mi><mml:mo>,</mml:mo><mml:mi>r</mml:mi><mml:mo>,</mml:mo><mml:mi>o</mml:mi><mml:mo stretchy="false" fence="false">⟩</mml:mo><mml:mo>∈</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">E</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> is a set of tuples representing that a subject entity <italic toggle="yes">s</italic> and an object entity <italic toggle="yes">o</italic> are connected by the relation <inline-formula id="ieqn-24"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i024.jpg"/><tex-math id="tex-ieqn-24">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$r \in {\rm {\cal R}}$\end{document}</tex-math><mml:math id="mml-ieqn-24" overflow="scroll"><mml:mi>r</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">R</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula>.</p>
      <p>The Relational Graph Convolutional Network extends graph convolutions to Knowledge Graphs by accounting for the directions of the edges and handling message passing for different relations separately. <xref rid="eqn-4" ref-type="disp-formula">Equation (4)</xref> is an extension of the regular message passing rule (<xref rid="eqn-1" ref-type="disp-formula">Eq. (1)</xref>).</p>
      <p><disp-formula id="eqn-4"><label>(4)</label><alternatives><graphic xlink:href="peerj-cs-08-1073-e004.jpg" position="float"/><tex-math id="tex-eqn-4">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$$H = \sigma \left( {\sum\limits_{r = 1}^R {{A_r}} X{W_r}} \right),$$\end{document}</tex-math><mml:math id="mml-eqn-4" display="block" overflow="scroll"><mml:mi>H</mml:mi><mml:mo>=</mml:mo><mml:mi>σ</mml:mi><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:munderover><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mi>r</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mi>R</mml:mi></mml:munderover><mml:mrow><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:mrow><mml:mi>X</mml:mi><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mo>,</mml:mo></mml:math></alternatives></disp-formula>where <italic toggle="yes">R</italic> is the number of relations, <inline-formula id="ieqn-25"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i025.jpg"/><tex-math id="tex-ieqn-25">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_r}$\end{document}</tex-math><mml:math id="mml-ieqn-25" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is an adjacency matrix describing the edge connection for a given relation <italic toggle="yes">r</italic> and <inline-formula id="ieqn-26"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i026.jpg"/><tex-math id="tex-ieqn-26">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_r}$\end{document}</tex-math><mml:math id="mml-ieqn-26" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is a relation-specific weight matrix. The extended message passing rule defines how the information should be mixed together with neighboring nodes in a relational graph. In the message passing step, the embedding is summed over the different relations<xref rid="fn-3" ref-type="fn"><sup>3</sup></xref>
<fn id="fn-3"><label>3</label><p>Since RGCN layers are stacked such that the input of a layer is the output of the previous layer, taking the sum over <italic toggle="yes">R</italic> actually inflates the activations. However, for two-layer networks this does not seem to affect performance. For deeper models, taking the mean over the relations rather than the sum may be more appropriate.</p></fn>. We can rewrite <xref rid="eqn-4" ref-type="disp-formula">Eq. (4)</xref> to show how the node representations are updated based a node’s neighbors connected <italic toggle="yes">via</italic> different relations:</p>
      <p><disp-formula id="eqn-5"><label>(5)</label><alternatives><graphic xlink:href="peerj-cs-08-1073-e005.jpg" position="float"/><tex-math id="tex-eqn-5">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$${{\bf h}_i} = \sigma \left[ {\sum\limits_r^R {\sum\limits_{j \in {N_r}(i)} {\displaystyle{1 \over {|{N_r}(i)|}}} } {\bf x}_i^T{W_r}} \right],$$\end{document}</tex-math><mml:math id="mml-eqn-5" display="block" overflow="scroll"><mml:mrow><mml:msub><mml:mrow><mml:mi mathvariant="bold">h</mml:mi></mml:mrow><mml:mi>i</mml:mi></mml:msub></mml:mrow><mml:mo>=</mml:mo><mml:mi>σ</mml:mi><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:munderover><mml:mo movablelimits="false">∑</mml:mo><mml:mi>r</mml:mi><mml:mi>R</mml:mi></mml:munderover><mml:mrow><mml:munder><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mi>j</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:munder><mml:mrow><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mrow><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:mrow><mml:mo stretchy="false">|</mml:mo></mml:mrow><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mrow><mml:mo stretchy="false">|</mml:mo></mml:mrow></mml:mrow></mml:mfrac></mml:mrow></mml:mstyle></mml:mrow></mml:mrow><mml:msubsup><mml:mrow><mml:mi mathvariant="bold">x</mml:mi></mml:mrow><mml:mi>i</mml:mi><mml:mi>T</mml:mi></mml:msubsup><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:mrow><mml:mo>]</mml:mo></mml:mrow><mml:mo>,</mml:mo></mml:math></alternatives></disp-formula>where <inline-formula id="ieqn-27"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i027.jpg"/><tex-math id="tex-ieqn-27">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${N_r}(i)$\end{document}</tex-math><mml:math id="mml-ieqn-27" overflow="scroll"><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:math></alternatives></inline-formula> is the collection of the incoming neighbors of <italic toggle="yes">i</italic> with the relation <italic toggle="yes">r</italic>.</p>
      <p>With the message passing rule discussed thus far, the problem is that for a given triple <inline-formula id="ieqn-28"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i028.jpg"/><tex-math id="tex-ieqn-28">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\langle$\end{document}</tex-math><mml:math id="mml-ieqn-28" overflow="scroll"><mml:mo fence="false" stretchy="false">⟨</mml:mo></mml:math></alternatives></inline-formula><italic toggle="yes">s</italic>, <italic toggle="yes">r</italic>, <italic toggle="yes">o</italic><inline-formula id="ieqn-29"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i029.jpg"/><tex-math id="tex-ieqn-29">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\rangle$\end{document}</tex-math><mml:math id="mml-ieqn-29" overflow="scroll"><mml:mo fence="false" stretchy="false">⟩</mml:mo></mml:math></alternatives></inline-formula> a message is passed from <italic toggle="yes">s</italic> to <italic toggle="yes">o</italic>, but not from <italic toggle="yes">o</italic> to <italic toggle="yes">s</italic>. For instance, for the triple <inline-formula id="ieqn-30"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i030.jpg"/><tex-math id="tex-ieqn-30">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\langle$\end{document}</tex-math><mml:math id="mml-ieqn-30" overflow="scroll"><mml:mo fence="false" stretchy="false">⟨</mml:mo></mml:math></alternatives></inline-formula><monospace>Amsterdam, located_in, The_Netherlands</monospace><inline-formula id="ieqn-29a"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i031.jpg"/><tex-math id="tex-ieqn-29a">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\rangle$\end{document}</tex-math><mml:math id="mml-ieqn-29a" overflow="scroll"><mml:mo fence="false" stretchy="false">⟩</mml:mo></mml:math></alternatives></inline-formula> it would be desirable to update both <monospace>Amsterdam</monospace> with information from <monospace>The_Netherlands</monospace>, and <monospace>The_Netherlands</monospace> with information from <monospace>Amsterdam</monospace>, while modelling the two directions as meaning different things. To allow the model to pass messages in two directions, the graph is amended inside the RGCN layer by including inverse edges: for each existing edge <inline-formula id="ieqn-31"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i032.jpg"/><tex-math id="tex-ieqn-31">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\langle$\end{document}</tex-math><mml:math id="mml-ieqn-31" overflow="scroll"><mml:mo fence="false" stretchy="false">⟨</mml:mo></mml:math></alternatives></inline-formula><italic toggle="yes">s</italic>, <italic toggle="yes">r</italic>, <italic toggle="yes">o<inline-formula id="ieqn-32"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i033.jpg"/><tex-math id="tex-ieqn-32">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\rangle$\end{document}</tex-math><mml:math id="mml-ieqn-32" overflow="scroll"><mml:mo fence="false" stretchy="false">⟩</mml:mo></mml:math></alternatives></inline-formula></italic>, a new edge <inline-formula id="ieqn-33"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i034.jpg"/><tex-math id="tex-ieqn-33">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\langle o,{r^\prime },s\rangle$\end{document}</tex-math><mml:math id="mml-ieqn-33" overflow="scroll"><mml:mo stretchy="false" fence="false">⟨</mml:mo><mml:mi>o</mml:mi><mml:mo>,</mml:mo><mml:mrow><mml:msup><mml:mi>r</mml:mi><mml:mi mathvariant="normal">′</mml:mi></mml:msup></mml:mrow><mml:mo>,</mml:mo><mml:mi>s</mml:mi><mml:mo stretchy="false" fence="false">⟩</mml:mo></mml:math></alternatives></inline-formula> is added where <inline-formula id="ieqn-34"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i035.jpg"/><tex-math id="tex-ieqn-34">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${r^\prime }$\end{document}</tex-math><mml:math id="mml-ieqn-34" overflow="scroll"><mml:mrow><mml:msup><mml:mi>r</mml:mi><mml:mi mathvariant="normal">′</mml:mi></mml:msup></mml:mrow></mml:math></alternatives></inline-formula> is a new relation representing the inverse of <italic toggle="yes">r</italic>. A second problem with the naive implementation of the (R)GCN is that the output representation for a node <italic toggle="yes">i</italic> does not retain any of the information from the input representation. To allow such information to be retained, a self-loop <inline-formula id="ieqn-35"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i036.jpg"/><tex-math id="tex-ieqn-35">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\langle s,{r_s},s\rangle$\end{document}</tex-math><mml:math id="mml-ieqn-35" overflow="scroll"><mml:mo stretchy="false" fence="false">⟨</mml:mo><mml:mi>s</mml:mi><mml:mo>,</mml:mo><mml:mrow><mml:msub><mml:mi>r</mml:mi><mml:mi>s</mml:mi></mml:msub></mml:mrow><mml:mo>,</mml:mo><mml:mi>s</mml:mi><mml:mo stretchy="false" fence="false">⟩</mml:mo></mml:math></alternatives></inline-formula> is added to each node, where <inline-formula id="ieqn-36"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i037.jpg"/><tex-math id="tex-ieqn-36">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${r_s}$\end{document}</tex-math><mml:math id="mml-ieqn-36" overflow="scroll"><mml:mrow><mml:msub><mml:mi>r</mml:mi><mml:mi>s</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is a new relation that expresses identity. Altogether, if the input graph contains <italic toggle="yes">R</italic> relations, the amended graph contains 2<italic toggle="yes">R</italic> + 1 relations: <inline-formula id="ieqn-37"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i038.jpg"/><tex-math id="tex-ieqn-37">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${{\rm {\cal R}}^ + } = {\rm {\cal R}} \cup {{\rm {\cal R}}^\prime } \cup {{\rm {\cal R}}_s}$\end{document}</tex-math><mml:math id="mml-ieqn-37" overflow="scroll"><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="script">R</mml:mi></mml:mrow></mml:mrow><mml:mo>+</mml:mo></mml:msup></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">R</mml:mi></mml:mrow></mml:mrow><mml:mo>∪</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="script">R</mml:mi></mml:mrow></mml:mrow><mml:mi mathvariant="normal">′</mml:mi></mml:msup></mml:mrow><mml:mo>∪</mml:mo><mml:mrow><mml:msub><mml:mrow><mml:mrow><mml:mi mathvariant="script">R</mml:mi></mml:mrow></mml:mrow><mml:mi>s</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula>. This is graphically represented in <xref rid="fig-2" ref-type="fig">Fig. 2</xref> for a directed graph.</p>
      <fig position="float" id="fig-2">
        <object-id pub-id-type="doi">10.7717/peerj-cs.1073/fig-2</object-id>
        <label>Figure 2</label>
        <caption>
          <title>A diagram of message passing in a directed, labelled graph with six nodes.</title>
          <p><inline-formula id="ieqn-38"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i039.jpg"/><tex-math id="tex-ieqn-38">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${{\rm h}_i}$\end{document}</tex-math><mml:math id="mml-ieqn-38" overflow="scroll"><mml:mrow><mml:msub><mml:mrow><mml:mi mathvariant="bold">h</mml:mi></mml:mrow><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is a vector that represents the node embedding of the node <inline-formula id="ieqn-39"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i040.jpg"/><tex-math id="tex-ieqn-39">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$i$\end{document}</tex-math><mml:math id="mml-ieqn-39" overflow="scroll"><mml:mi>i</mml:mi></mml:math></alternatives></inline-formula> (in orange). <inline-formula id="ieqn-40"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i041.jpg"/><tex-math id="tex-ieqn-40">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm h}_{i}^{(l)}$\end{document}</tex-math><mml:math id="mml-ieqn-40" overflow="scroll"><mml:msubsup><mml:mrow><mml:mi mathvariant="bold">h</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi></mml:mrow><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>l</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> and <inline-formula id="ieqn-41"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i042.jpg"/><tex-math id="tex-ieqn-41">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm h}_{i}^{(l+1)}$\end{document}</tex-math><mml:math id="mml-ieqn-41" overflow="scroll"><mml:msubsup><mml:mrow><mml:mi mathvariant="bold">h</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi></mml:mrow><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>l+1</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> show the node embedding before and after the message passing step, respectively. The neighboring nodes are labelled from <italic toggle="yes">a</italic> to <italic toggle="yes">e</italic>.</p>
        </caption>
        <graphic xlink:href="peerj-cs-08-1073-g002" position="float"/>
      </fig>
    </sec>
    <sec>
      <title>Reducing the number of parameters</title>
      <p>We use <inline-formula id="ieqn-42"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i043.jpg"/><tex-math id="tex-ieqn-42">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${N_{in}}$\end{document}</tex-math><mml:math id="mml-ieqn-42" overflow="scroll"><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> and <inline-formula id="ieqn-43"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i044.jpg"/><tex-math id="tex-ieqn-43">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${N_{out}}$\end{document}</tex-math><mml:math id="mml-ieqn-43" overflow="scroll"><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>o</mml:mi><mml:mi>u</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> to represent the input and output dimensions of a layer, respectively. While the GCN (<xref rid="ref-25" ref-type="bibr">Kipf &amp; Welling, 2017</xref>) requires <inline-formula id="ieqn-44"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i045.jpg"/><tex-math id="tex-ieqn-44">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${N_{in}} \times {N_{out}}$\end{document}</tex-math><mml:math id="mml-ieqn-44" overflow="scroll"><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>×</mml:mo><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>o</mml:mi><mml:mi>u</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> parameters, relational message passing uses <inline-formula id="ieqn-45"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i046.jpg"/><tex-math id="tex-ieqn-45">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${R^ + } \times {N_{in}} \times {N_{out}}$\end{document}</tex-math><mml:math id="mml-ieqn-45" overflow="scroll"><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>+</mml:mo></mml:msup></mml:mrow><mml:mo>×</mml:mo><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>×</mml:mo><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>o</mml:mi><mml:mi>u</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> parameters. In addition to the extra parameters required for a separate GCN for every relation, we also face the problem that Knowledge Graphs do not usually come with a feature vector representing each node. As a result, as we saw in the previous section, the first layer of an RGCN model is often fed with a one-hot vector for each node. This means that for the first layer <inline-formula id="ieqn-46"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i047.jpg"/><tex-math id="tex-ieqn-46">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${N_{in}}$\end{document}</tex-math><mml:math id="mml-ieqn-46" overflow="scroll"><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is equal to the number of nodes in the graph.</p>
      <p>In their work, <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> introduced two weight regularisation techniques: (1) Basis Decomposition and (2) Block Diagonal Decomposition. We believe that these matrix decomposition techniques help to reduce the number of parameters (<italic toggle="yes">i.e.</italic>, increasing parameter efficiency) and thus, prevent the model from overfitting to the training datasets. <xref rid="fig-3" ref-type="fig">Figure 3</xref> shows visually how the two different regularisation techniques work.</p>
      <fig position="float" id="fig-3">
        <object-id pub-id-type="doi">10.7717/peerj-cs.1073/fig-3</object-id>
        <label>Figure 3</label>
        <caption>
          <title>A simplified visualisation of the weight regularisation methods.</title>
          <p>Left: A weight matrix, <inline-formula id="ieqn-47"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i048.jpg"/><tex-math id="tex-ieqn-47">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$W_r$\end{document}</tex-math><mml:math id="mml-ieqn-47" overflow="scroll"><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:math></alternatives></inline-formula> is decomposed into two bases (<italic toggle="yes">B</italic> = 2). Bases are represented by a tensor <inline-formula id="ieqn-48"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i049.jpg"/><tex-math id="tex-ieqn-48">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${V} \in {\mathbb R}^{B \times N_{in} \times N_{out}}$\end{document}</tex-math><mml:math id="mml-ieqn-48" overflow="scroll"><mml:mrow><mml:mi>V</mml:mi></mml:mrow><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:mo>×</mml:mo><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi></mml:mrow></mml:msub><mml:mo>×</mml:mo><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>o</mml:mi><mml:mi>u</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula> and components by matrix <inline-formula id="ieqn-49"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i050.jpg"/><tex-math id="tex-ieqn-49">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${C} \in {\mathbb R}^{R^+ \times B}$\end{document}</tex-math><mml:math id="mml-ieqn-49" overflow="scroll"><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>+</mml:mo></mml:msup><mml:mo>×</mml:mo><mml:mi>B</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula>. Right: A different weight matrix, <inline-formula id="ieqn-50"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i051.jpg"/><tex-math id="tex-ieqn-50">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$W_r$\end{document}</tex-math><mml:math id="mml-ieqn-50" overflow="scroll"><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:math></alternatives></inline-formula>, is decomposed into three blocks (<italic toggle="yes">B</italic> = 3). Blocks are tensors <inline-formula id="ieqn-51"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i052.jpg"/><tex-math id="tex-ieqn-51">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${Q_{rb}}\in{\mathbb R}^{{B}\times{N_{in}\over{B}}\times{N_{out}\over{B}}}$\end{document}</tex-math><mml:math id="mml-ieqn-51" overflow="scroll"><mml:mrow><mml:msub><mml:mi>Q</mml:mi><mml:mrow><mml:mi>r</mml:mi><mml:mi>b</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>∈</mml:mo><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>×</mml:mo><mml:mrow><mml:mfrac><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:mfrac></mml:mrow><mml:mo>×</mml:mo><mml:mrow><mml:mfrac><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>o</mml:mi><mml:mi>u</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:mfrac></mml:mrow></mml:mrow></mml:msup></mml:math></alternatives></inline-formula>. <inline-formula id="ieqn-52"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i053.jpg"/><tex-math id="tex-ieqn-52">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$N_{in}$\end{document}</tex-math><mml:math id="mml-ieqn-52" overflow="scroll"><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> and <inline-formula id="ieqn-53"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i054.jpg"/><tex-math id="tex-ieqn-53">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$N_{out}$\end{document}</tex-math><mml:math id="mml-ieqn-53" overflow="scroll"><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>o</mml:mi><mml:mi>u</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> are the input and output dimensions of layer, respectively.</p>
        </caption>
        <graphic xlink:href="peerj-cs-08-1073-g003" position="float"/>
      </fig>
      <p><bold>Basis Decomposition</bold> does not create a separate weight matrix <inline-formula id="ieqn-54"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i055.jpg"/><tex-math id="tex-ieqn-54">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_r}$\end{document}</tex-math><mml:math id="mml-ieqn-54" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> for every relation. Instead, the matrices <inline-formula id="ieqn-55"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i056.jpg"/><tex-math id="tex-ieqn-55">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_r}$\end{document}</tex-math><mml:math id="mml-ieqn-55" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> are derived as linear combinations of a smaller set of <italic toggle="yes">B</italic> basis matrices <inline-formula id="ieqn-56"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i057.jpg"/><tex-math id="tex-ieqn-56">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${V_b}$\end{document}</tex-math><mml:math id="mml-ieqn-56" overflow="scroll"><mml:mrow><mml:msub><mml:mi>V</mml:mi><mml:mi>b</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula>, which is shared across all relations. Each matrix <inline-formula id="ieqn-57"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i058.jpg"/><tex-math id="tex-ieqn-57">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_r}$\end{document}</tex-math><mml:math id="mml-ieqn-57" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is then a weighted sum of the basis vectors with component weight <inline-formula id="ieqn-58"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i059.jpg"/><tex-math id="tex-ieqn-58">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${C_{rb}}$\end{document}</tex-math><mml:math id="mml-ieqn-58" overflow="scroll"><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>r</mml:mi><mml:mi>b</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></alternatives></inline-formula>:</p>
      <p>
        <disp-formula id="eqn-6">
          <label>(6)</label>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e006.jpg" position="float"/>
            <tex-math id="tex-eqn-6">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$${W_r} = \sum\limits_{b = 1}^B {{C_{rb}}} {V_b},$$\end{document}</tex-math>
            <mml:math id="mml-eqn-6" display="block" overflow="scroll">
              <mml:mrow>
                <mml:msub>
                  <mml:mi>W</mml:mi>
                  <mml:mi>r</mml:mi>
                </mml:msub>
              </mml:mrow>
              <mml:mo>=</mml:mo>
              <mml:munderover>
                <mml:mo movablelimits="false">∑</mml:mo>
                <mml:mrow>
                  <mml:mi>b</mml:mi>
                  <mml:mo>=</mml:mo>
                  <mml:mn>1</mml:mn>
                </mml:mrow>
                <mml:mi>B</mml:mi>
              </mml:munderover>
              <mml:mrow>
                <mml:mrow>
                  <mml:msub>
                    <mml:mi>C</mml:mi>
                    <mml:mrow>
                      <mml:mi>r</mml:mi>
                      <mml:mi>b</mml:mi>
                    </mml:mrow>
                  </mml:msub>
                </mml:mrow>
              </mml:mrow>
              <mml:mrow>
                <mml:msub>
                  <mml:mi>V</mml:mi>
                  <mml:mi>b</mml:mi>
                </mml:msub>
              </mml:mrow>
              <mml:mo>,</mml:mo>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>Both the component weights and the basis matrices are learnable parameters of the model, and in total they contain fewer parameters than <inline-formula id="ieqn-59"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i060.jpg"/><tex-math id="tex-ieqn-59">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_r}$\end{document}</tex-math><mml:math id="mml-ieqn-59" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula>. With lower number of basis functions, <italic toggle="yes">B</italic>, the model will have reduced degrees of freedom and possibly better generalisation.</p>
      <p><bold>Block Diagonal Decomposition</bold> creates a weight matrix for each relation, <inline-formula id="ieqn-60"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i061.jpg"/><tex-math id="tex-ieqn-60">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_r}$\end{document}</tex-math><mml:math id="mml-ieqn-60" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula>, by partitioning <inline-formula id="ieqn-61"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i062.jpg"/><tex-math id="tex-ieqn-61">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_r}$\end{document}</tex-math><mml:math id="mml-ieqn-61" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> into <inline-formula id="ieqn-62"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i063.jpg"/><tex-math id="tex-ieqn-62">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\displaystyle{{{N_{in}}} \over B}$\end{document}</tex-math><mml:math id="mml-ieqn-62" overflow="scroll"><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mrow><mml:mfrac><mml:mrow><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mrow><mml:mi>B</mml:mi></mml:mfrac></mml:mrow></mml:mstyle></mml:math></alternatives></inline-formula> by <inline-formula id="ieqn-63"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i064.jpg"/><tex-math id="tex-ieqn-63">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\displaystyle{{{N_{out}}} \over B}$\end{document}</tex-math><mml:math id="mml-ieqn-63" overflow="scroll"><mml:mstyle scriptlevel="0" displaystyle="true"><mml:mrow><mml:mfrac><mml:mrow><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>o</mml:mi><mml:mi>u</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mrow><mml:mi>B</mml:mi></mml:mfrac></mml:mrow></mml:mstyle></mml:math></alternatives></inline-formula> blocks, and then fixing the off-diagonal blocks to zeros (shown in <xref rid="fig-3" ref-type="fig">Fig. 3</xref>)<xref rid="fn-4" ref-type="fn"><sup>4</sup></xref>
<fn id="fn-4"><label>4</label><p>The off-diagonal blocks are <inline-formula id="ieqn-64"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i065.jpg"/><tex-math id="tex-ieqn-64">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$N_{in}\over{B}$\end{document}</tex-math><mml:math id="mml-ieqn-64" overflow="scroll"><mml:mfrac><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:mfrac></mml:math></alternatives></inline-formula> by <inline-formula id="ieqn-65"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i066.jpg"/><tex-math id="tex-ieqn-65">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$N_{out}\over{B}$\end{document}</tex-math><mml:math id="mml-ieqn-65" overflow="scroll"><mml:mfrac><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:mfrac></mml:math></alternatives></inline-formula> matrices containing only zeros. In <xref rid="eqn-7" ref-type="disp-formula">Eq. (7)</xref>, we present these zeroed blocks simply with 0.</p></fn>. This deactivates the off-diagonal blocks, such that only the diagonal blocks are updated during training. An important requirement for this decomposition method is that the width/height of <inline-formula id="ieqn-66"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i067.jpg"/><tex-math id="tex-ieqn-66">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_r}$\end{document}</tex-math><mml:math id="mml-ieqn-66" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> need to be divisible by <italic toggle="yes">B</italic>.</p>
      <p>
        <disp-formula id="eqn-7">
          <label>(7)</label>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e007.jpg" position="float"/>
            <tex-math id="tex-eqn-7">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$${W_r} = \left[ {\matrix{ {{Q_{r1}}} &amp; 0 &amp; \ldots &amp; 0 \cr 0 &amp; {{Q_{r2}}} &amp; 0 &amp; 0 \cr \vdots &amp; 0 &amp; \ddots &amp; \vdots \cr 0 &amp; 0 &amp; \ldots &amp; {{Q_{rB}}} \cr } } \right]$$\end{document}</tex-math>
            <mml:math id="mml-eqn-7" display="block" overflow="scroll">
              <mml:mrow>
                <mml:msub>
                  <mml:mi>W</mml:mi>
                  <mml:mi>r</mml:mi>
                </mml:msub>
              </mml:mrow>
              <mml:mo>=</mml:mo>
              <mml:mrow>
                <mml:mo>[</mml:mo>
                <mml:mrow>
                  <mml:mtable columnspacing="1em" rowspacing="4pt">
                    <mml:mtr>
                      <mml:mtd>
                        <mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>Q</mml:mi>
                              <mml:mrow>
                                <mml:mi>r</mml:mi>
                                <mml:mn>1</mml:mn>
                              </mml:mrow>
                            </mml:msub>
                          </mml:mrow>
                        </mml:mrow>
                      </mml:mtd>
                      <mml:mtd>
                        <mml:mn>0</mml:mn>
                      </mml:mtd>
                      <mml:mtd>
                        <mml:mo>…</mml:mo>
                      </mml:mtd>
                      <mml:mtd>
                        <mml:mn>0</mml:mn>
                      </mml:mtd>
                    </mml:mtr>
                    <mml:mtr>
                      <mml:mtd>
                        <mml:mn>0</mml:mn>
                      </mml:mtd>
                      <mml:mtd>
                        <mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>Q</mml:mi>
                              <mml:mrow>
                                <mml:mi>r</mml:mi>
                                <mml:mn>2</mml:mn>
                              </mml:mrow>
                            </mml:msub>
                          </mml:mrow>
                        </mml:mrow>
                      </mml:mtd>
                      <mml:mtd>
                        <mml:mn>0</mml:mn>
                      </mml:mtd>
                      <mml:mtd>
                        <mml:mn>0</mml:mn>
                      </mml:mtd>
                    </mml:mtr>
                    <mml:mtr>
                      <mml:mtd>
                        <mml:mo>⋮</mml:mo>
                      </mml:mtd>
                      <mml:mtd>
                        <mml:mn>0</mml:mn>
                      </mml:mtd>
                      <mml:mtd>
                        <mml:mo>⋱</mml:mo>
                      </mml:mtd>
                      <mml:mtd>
                        <mml:mo>⋮</mml:mo>
                      </mml:mtd>
                    </mml:mtr>
                    <mml:mtr>
                      <mml:mtd>
                        <mml:mn>0</mml:mn>
                      </mml:mtd>
                      <mml:mtd>
                        <mml:mn>0</mml:mn>
                      </mml:mtd>
                      <mml:mtd>
                        <mml:mo>…</mml:mo>
                      </mml:mtd>
                      <mml:mtd>
                        <mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>Q</mml:mi>
                              <mml:mrow>
                                <mml:mi>r</mml:mi>
                                <mml:mi>B</mml:mi>
                              </mml:mrow>
                            </mml:msub>
                          </mml:mrow>
                        </mml:mrow>
                      </mml:mtd>
                    </mml:mtr>
                  </mml:mtable>
                </mml:mrow>
                <mml:mo>]</mml:mo>
              </mml:mrow>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>Here, <italic toggle="yes">B</italic> represents the number of blocks that <inline-formula id="ieqn-67"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i068.jpg"/><tex-math id="tex-ieqn-67">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_r}$\end{document}</tex-math><mml:math id="mml-ieqn-67" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is decomposed into and <inline-formula id="ieqn-68"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i069.jpg"/><tex-math id="tex-ieqn-68">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${Q_{rb}}$\end{document}</tex-math><mml:math id="mml-ieqn-68" overflow="scroll"><mml:mrow><mml:msub><mml:mi>Q</mml:mi><mml:mrow><mml:mi>r</mml:mi><mml:mi>b</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> are the diagonal blocks containing the relation-specific weight parameters. <xref rid="eqn-7" ref-type="disp-formula">Equation (7)</xref> shows that taking the direct sum of <inline-formula id="ieqn-69"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i070.jpg"/><tex-math id="tex-ieqn-69">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${Q_r}$\end{document}</tex-math><mml:math id="mml-ieqn-69" overflow="scroll"><mml:mrow><mml:msub><mml:mi>Q</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> over all the blocks gives <inline-formula id="ieqn-70"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i071.jpg"/><tex-math id="tex-ieqn-70">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_r}$\end{document}</tex-math><mml:math id="mml-ieqn-70" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula>, which can also be expressed as the sum of <inline-formula id="ieqn-71"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i072.jpg"/><tex-math id="tex-ieqn-71">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm diag}({Q_{rb}})$\end{document}</tex-math><mml:math id="mml-ieqn-71" overflow="scroll"><mml:mrow><mml:mi mathvariant="normal">d</mml:mi><mml:mi mathvariant="normal">i</mml:mi><mml:mi mathvariant="normal">a</mml:mi><mml:mi mathvariant="normal">g</mml:mi></mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mrow><mml:msub><mml:mi>Q</mml:mi><mml:mrow><mml:mi>r</mml:mi><mml:mi>b</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo stretchy="false">)</mml:mo></mml:math></alternatives></inline-formula> over all the diagonal elements in the block matrix. The higher the number of blocks <italic toggle="yes">b</italic>, the lower the number of trainable weight parameters for each relation, <inline-formula id="ieqn-72"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i073.jpg"/><tex-math id="tex-ieqn-72">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_r}$\end{document}</tex-math><mml:math id="mml-ieqn-72" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula>, and <italic toggle="yes">vice versa</italic>. Block diagonal decomposition is not applied to the weight matrix of the identity relation <inline-formula id="ieqn-73"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i074.jpg"/><tex-math id="tex-ieqn-73">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${r_s}$\end{document}</tex-math><mml:math id="mml-ieqn-73" overflow="scroll"><mml:mrow><mml:msub><mml:mi>r</mml:mi><mml:mi>s</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula>, which we introduced in “Extending GCNs for multiple relations” to add self-loops to the graph.</p>
    </sec>
  </sec>
  <sec>
    <title>Torch-rgcn</title>
    <p>The original implementation of the RGCN by <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> was written using two different differentiable programming frameworks, Theano 0.9 (<xref rid="ref-2" ref-type="bibr">Al-Rfou et al., 2016</xref>) and TensorFlow 1.4 (<xref rid="ref-1" ref-type="bibr">Abadi et al., 2016</xref>)<xref rid="fn-5" ref-type="fn"><sup>5</sup></xref>
<fn id="fn-5"><label>5</label><p>TensorFlow 2 is not backward compatible with TensorFlow 1 code.</p></fn>. Both frameworks have become obsolete in the past 2 years. Therefore, we have reproduced the RGCN using PyTorch (<xref rid="ref-32" ref-type="bibr">Paszke et al., 2019</xref>). We will refer to our implementation as <italic toggle="yes">Torch-RGCN</italic> and the original implementation by <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> as TensorFlow-RGCN (<italic toggle="yes">TF-RGCN</italic>). Our RGCN implementation is available at <uri xlink:href="https://github.com/thiviyanT/torch-rgcn">https://github.com/thiviyanT/torch-rgcn</uri>.</p>
    <p>In this section, we will describe how we implemented the Relational Graph Convolutional Network. We begin by introducing crucial concepts for the implementation.</p>
    <sec>
      <title>Einstein summation</title>
      <p>Message passing requires manipulating high-dimensional matrices and tensors using many different operations (<italic toggle="yes">e.g.</italic>, transposing, summing, matrix-matrix multiplication, tensor contraction). We will use Einstein summation to express these operations concisely.</p>
      <p>Einstein summation (einsum) is a notational convention for simplifying tensor operations (<xref rid="ref-27" ref-type="bibr">Kuptsov, 2022</xref>). Einsum takes two arguments: (1) an equation<xref rid="fn-6" ref-type="fn"><sup>6</sup></xref>
<fn id="fn-6"><label>6</label><p>We use a notation that maps directly to the way einstein summation is used in code, rather than the standard notation.</p></fn> in which characters identifying tensor dimensions provide instructions on how the tensors should be transformed and reshaped, and (2) a set of tensors that need to be transformed or reshaped. For example, einsum (<inline-formula id="ieqn-74"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i075.jpg"/><tex-math id="tex-ieqn-74">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$ik,jk \to ij,A,B$\end{document}</tex-math><mml:math id="mml-ieqn-74" overflow="scroll"><mml:mi>i</mml:mi><mml:mi>k</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mi>k</mml:mi><mml:mo stretchy="false">→</mml:mo><mml:mi>i</mml:mi><mml:mi>j</mml:mi><mml:mo>,</mml:mo><mml:mi>A</mml:mi><mml:mo>,</mml:mo><mml:mi>B</mml:mi></mml:math></alternatives></inline-formula>) represents the following matrix operation:</p>
      <p>
        <disp-formula id="eqn-8">
          <label>(8)</label>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e008.jpg" position="float"/>
            <tex-math id="tex-eqn-8">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$${C_{ij}} = \sum\limits_k {{A_{ik}}} \cdot {B_{jk}},$$\end{document}</tex-math>
            <mml:math id="mml-eqn-8" display="block" overflow="scroll">
              <mml:mrow>
                <mml:msub>
                  <mml:mi>C</mml:mi>
                  <mml:mrow>
                    <mml:mi>i</mml:mi>
                    <mml:mi>j</mml:mi>
                  </mml:mrow>
                </mml:msub>
              </mml:mrow>
              <mml:mo>=</mml:mo>
              <mml:munder>
                <mml:mo movablelimits="false">∑</mml:mo>
                <mml:mi>k</mml:mi>
              </mml:munder>
              <mml:mrow>
                <mml:mrow>
                  <mml:msub>
                    <mml:mi>A</mml:mi>
                    <mml:mrow>
                      <mml:mi>i</mml:mi>
                      <mml:mi>k</mml:mi>
                    </mml:mrow>
                  </mml:msub>
                </mml:mrow>
              </mml:mrow>
              <mml:mo>⋅</mml:mo>
              <mml:mrow>
                <mml:msub>
                  <mml:mi>B</mml:mi>
                  <mml:mrow>
                    <mml:mi>j</mml:mi>
                    <mml:mi>k</mml:mi>
                  </mml:mrow>
                </mml:msub>
              </mml:mrow>
              <mml:mo>,</mml:mo>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>The general rules of an einsum operation are that indices which are excluded from the result are summed out, and indices which are included in all terms are treated as the batch dimension. We use einsum operations in our implementation to simplify the message passing operations.</p>
    </sec>
    <sec>
      <title>Sparsity</title>
      <p>Since many graphs are sparsely connected, their adjacency matrices can be efficiently stored on memory as <italic toggle="yes">sparse tensors</italic>. Sparse tensors are memory efficient because, unlike dense tensors, sparse tensors only store non-zero values and their indices. We make use of sparse matrix multiplications<xref rid="fn-7" ref-type="fn"><sup>7</sup></xref>
<fn id="fn-7"><label>7</label><p>Recent advances in CUDA implementations have made it possible to perform computations involving sparse matrix multiplications to run on the GPU.</p></fn>. For sparse matrix operations on GPUs, the only multiplication operation that is commonly available is multiplication of a sparse matrix <italic toggle="yes">S</italic> by a dense matrix <italic toggle="yes">D</italic>, resulting in a dense matrix. We will refer to this operation as spmm(<italic toggle="yes">S</italic>, <italic toggle="yes">D</italic>). For our implementation, we endeavour to express the sparse part of the RGCN message passing operation (<xref rid="eqn-4" ref-type="disp-formula">Eq. (4)</xref>), including the sum over relations, in a single sparse matrix multiplication.</p>
    </sec>
    <sec>
      <title>Stacking trick</title>
      <p>Using nested loops to iteratively pass messages between all neighboring nodes in a large graph would be very inefficient. Instead, we use a trick to efficiently perform message passing for all relations in parallel.</p>
      <p>Edge connectivity in a relational graph is represented as a three-dimensional adjacency tensor <inline-formula id="ieqn-75"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i076.jpg"/><tex-math id="tex-ieqn-75">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$A \in {{\mathbb R}^{{R^ + } \times N \times N}}$\end{document}</tex-math><mml:math id="mml-ieqn-75" overflow="scroll"><mml:mi>A</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>+</mml:mo></mml:msup></mml:mrow><mml:mo>×</mml:mo><mml:mi>N</mml:mi><mml:mo>×</mml:mo><mml:mi>N</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula>, where <italic toggle="yes">N</italic> represents the number of nodes and <inline-formula id="ieqn-76"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i077.jpg"/><tex-math id="tex-ieqn-76">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${R^ + }$\end{document}</tex-math><mml:math id="mml-ieqn-76" overflow="scroll"><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>+</mml:mo></mml:msup></mml:mrow></mml:math></alternatives></inline-formula> represents the number of relations. Typically, message passing is performed using batch matrix multiplications as shown in <xref rid="eqn-4" ref-type="disp-formula">Eq. (4)</xref>. However, at the time of writing, batch matrix operations for sparse tensors are not available in most Deep Learning libraries. Using spmm is the only efficient operation available, so we <italic toggle="yes">stack</italic> adjacency matrices and implement the whole RGCN in terms of this operation.</p>
      <p>We augment <italic toggle="yes">A</italic> by stacking the adjacency matrices corresponding to the different relations <inline-formula id="ieqn-77"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i078.jpg"/><tex-math id="tex-ieqn-77">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_r}$\end{document}</tex-math><mml:math id="mml-ieqn-77" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> vertically and horizontally into <inline-formula id="ieqn-78"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i079.jpg"/><tex-math id="tex-ieqn-78">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_v} \in {{\mathbb R}^{(N + {R^ + }) \times N}}$\end{document}</tex-math><mml:math id="mml-ieqn-78" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>v</mml:mi></mml:msub></mml:mrow><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>+</mml:mo></mml:msup></mml:mrow><mml:mo stretchy="false">)</mml:mo><mml:mo>×</mml:mo><mml:mi>N</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula> and <inline-formula id="ieqn-79"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i080.jpg"/><tex-math id="tex-ieqn-79">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_h} \in {{\mathbb R}^{N \times (N + {R^ + })}}$\end{document}</tex-math><mml:math id="mml-ieqn-79" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>h</mml:mi></mml:msub></mml:mrow><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo>×</mml:mo><mml:mo stretchy="false">(</mml:mo><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>+</mml:mo></mml:msup></mml:mrow><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula>, respectively.</p>
      <p>
        <disp-formula id="eqn-9">
          <label>(9)</label>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e009.jpg" position="float"/>
            <tex-math id="tex-eqn-9">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$${A_v} = \left[ {\matrix{ {{A_1}}\cr {{A_2}} \cr {\; \vdots } \cr {{A_{{1^\prime }}}} \cr {{A_{{2^\prime }}}} \cr {\; \vdots }\cr {{A_s}} \cr } } \right]$$\end{document}</tex-math>
            <mml:math id="mml-eqn-9" display="block" overflow="scroll">
              <mml:mrow>
                <mml:msub>
                  <mml:mi>A</mml:mi>
                  <mml:mi>v</mml:mi>
                </mml:msub>
              </mml:mrow>
              <mml:mo>=</mml:mo>
              <mml:mrow>
                <mml:mo>[</mml:mo>
                <mml:mrow>
                  <mml:mtable rowspacing="4pt" columnspacing="1em">
                    <mml:mtr>
                      <mml:mtd>
                        <mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>A</mml:mi>
                              <mml:mn>1</mml:mn>
                            </mml:msub>
                          </mml:mrow>
                        </mml:mrow>
                      </mml:mtd>
                    </mml:mtr>
                    <mml:mtr>
                      <mml:mtd>
                        <mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>A</mml:mi>
                              <mml:mn>2</mml:mn>
                            </mml:msub>
                          </mml:mrow>
                        </mml:mrow>
                      </mml:mtd>
                    </mml:mtr>
                    <mml:mtr>
                      <mml:mtd>
                        <mml:mrow>
                          <mml:mspace width="thickmathspace"/>
                          <mml:mo>⋮</mml:mo>
                        </mml:mrow>
                      </mml:mtd>
                    </mml:mtr>
                    <mml:mtr>
                      <mml:mtd>
                        <mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>A</mml:mi>
                              <mml:mrow>
                                <mml:mrow>
                                  <mml:msup>
                                    <mml:mn>1</mml:mn>
                                    <mml:mi mathvariant="normal">′</mml:mi>
                                  </mml:msup>
                                </mml:mrow>
                              </mml:mrow>
                            </mml:msub>
                          </mml:mrow>
                        </mml:mrow>
                      </mml:mtd>
                    </mml:mtr>
                    <mml:mtr>
                      <mml:mtd>
                        <mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>A</mml:mi>
                              <mml:mrow>
                                <mml:mrow>
                                  <mml:msup>
                                    <mml:mn>2</mml:mn>
                                    <mml:mi mathvariant="normal">′</mml:mi>
                                  </mml:msup>
                                </mml:mrow>
                              </mml:mrow>
                            </mml:msub>
                          </mml:mrow>
                        </mml:mrow>
                      </mml:mtd>
                    </mml:mtr>
                    <mml:mtr>
                      <mml:mtd>
                        <mml:mrow>
                          <mml:mspace width="thickmathspace"/>
                          <mml:mo>⋮</mml:mo>
                        </mml:mrow>
                      </mml:mtd>
                    </mml:mtr>
                    <mml:mtr>
                      <mml:mtd>
                        <mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>A</mml:mi>
                              <mml:mi>s</mml:mi>
                            </mml:msub>
                          </mml:mrow>
                        </mml:mrow>
                      </mml:mtd>
                    </mml:mtr>
                  </mml:mtable>
                </mml:mrow>
                <mml:mo>]</mml:mo>
              </mml:mrow>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>
        <disp-formula id="eqn-10">
          <label>(10)</label>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e010.jpg" position="float"/>
            <tex-math id="tex-eqn-10">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$${A_h} = \left[ {\matrix{ {{A_1}\;{A_2}\; \cdots \;{A_{{1^\prime }}}\;{A_{{2^\prime }}}\; \cdots \;{A_s}}} } \right]$$\end{document}</tex-math>
            <mml:math id="mml-eqn-10" display="block" overflow="scroll">
              <mml:mrow>
                <mml:msub>
                  <mml:mi>A</mml:mi>
                  <mml:mi>h</mml:mi>
                </mml:msub>
              </mml:mrow>
              <mml:mo>=</mml:mo>
              <mml:mrow>
                <mml:mo>[</mml:mo>
                <mml:mrow>
                  <mml:mtable rowspacing="4pt" columnspacing="1em">
                    <mml:mtr>
                      <mml:mtd>
                        <mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>A</mml:mi>
                              <mml:mn>1</mml:mn>
                            </mml:msub>
                          </mml:mrow>
                          <mml:mspace width="thickmathspace"/>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>A</mml:mi>
                              <mml:mn>2</mml:mn>
                            </mml:msub>
                          </mml:mrow>
                          <mml:mspace width="thickmathspace"/>
                          <mml:mo>⋯</mml:mo>
                          <mml:mspace width="thickmathspace"/>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>A</mml:mi>
                              <mml:mrow>
                                <mml:mrow>
                                  <mml:msup>
                                    <mml:mn>1</mml:mn>
                                    <mml:mi mathvariant="normal">′</mml:mi>
                                  </mml:msup>
                                </mml:mrow>
                              </mml:mrow>
                            </mml:msub>
                          </mml:mrow>
                          <mml:mspace width="thickmathspace"/>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>A</mml:mi>
                              <mml:mrow>
                                <mml:mrow>
                                  <mml:msup>
                                    <mml:mn>2</mml:mn>
                                    <mml:mi mathvariant="normal">′</mml:mi>
                                  </mml:msup>
                                </mml:mrow>
                              </mml:mrow>
                            </mml:msub>
                          </mml:mrow>
                          <mml:mspace width="thickmathspace"/>
                          <mml:mo>⋯</mml:mo>
                          <mml:mspace width="thickmathspace"/>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>A</mml:mi>
                              <mml:mi>s</mml:mi>
                            </mml:msub>
                          </mml:mrow>
                        </mml:mrow>
                      </mml:mtd>
                    </mml:mtr>
                  </mml:mtable>
                </mml:mrow>
                <mml:mo>]</mml:mo>
              </mml:mrow>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>Here, <inline-formula id="ieqn-80"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i081.jpg"/><tex-math id="tex-ieqn-80">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\left[ \cdot \right]$\end{document}</tex-math><mml:math id="mml-ieqn-80" overflow="scroll"><mml:mrow><mml:mo>[</mml:mo><mml:mo>⋅</mml:mo><mml:mo>]</mml:mo></mml:mrow></mml:math></alternatives></inline-formula> represents a concatenation operation, and <inline-formula id="ieqn-81"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i082.jpg"/><tex-math id="tex-ieqn-81">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_v}$\end{document}</tex-math><mml:math id="mml-ieqn-81" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>v</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> and <inline-formula id="ieqn-82"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i083.jpg"/><tex-math id="tex-ieqn-82">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_h}$\end{document}</tex-math><mml:math id="mml-ieqn-82" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>h</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> are both sparse matrices. By stacking <inline-formula id="ieqn-83"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i084.jpg"/><tex-math id="tex-ieqn-83">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_r}$\end{document}</tex-math><mml:math id="mml-ieqn-83" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> either horizontally or vertically, we can perform message passing using sparse matrix multiplications rather than expensive dense tensor multiplications. Thus, this trick helps to keep the memory usage low.</p>
      <p><xref rid="table-8" ref-type="table">Algorithm 1</xref> shows how message passing is performed using a series of matrix operations. All these are implementations of the same operation, but with different complexities depending on the shape of the input. In Theorem 1 (see the Appendix), we prove that the the stacked formulation is equivalent to the original RGCN formulation.</p>
      <table-wrap position="float" id="table-8">
        <object-id pub-id-type="doi">10.7717/peerj-cs.1073/table-8</object-id>
        <label>Algorithm 1:</label>
        <caption>
          <title>Message passing layer.</title>
        </caption>
        <alternatives>
          <graphic xlink:href="peerj-cs-08-1073-g008" position="float"/>
          <table frame="hsides" rules="groups" content-type="text">
            <colgroup span="1">
              <col span="1"/>
            </colgroup>
            <tbody>
              <tr>
                <td rowspan="1" colspan="1"><bold> Input:</bold><italic toggle="yes">A</italic>, <inline-formula id="ieqn-84"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i085.jpg"/><tex-math id="tex-ieqn-84">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\sigma$\end{document}</tex-math><mml:math id="mml-ieqn-84" overflow="scroll"><mml:mi>σ</mml:mi></mml:math></alternatives></inline-formula>, [X]</td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <bold> Result:</bold>
                  <italic toggle="yes">H</italic>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <bold> if</bold>
                  <italic toggle="yes">featureless</italic>
                  <bold>then</bold>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1"><italic toggle="yes">  x</italic><inline-formula id="ieqn-85"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i086.jpg"/><tex-math id="tex-ieqn-85">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\Leftarrow$\end{document}</tex-math><mml:math id="mml-ieqn-85" overflow="scroll"><mml:mo stretchy="false">⇐</mml:mo></mml:math></alternatives></inline-formula><italic toggle="yes">einsum</italic>(<italic toggle="yes">ni</italic>, <italic toggle="yes">io</italic> → <italic toggle="yes">no</italic>, <italic toggle="yes">Ah</italic>, <italic toggle="yes">W</italic>)</td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1"><italic toggle="yes">  H</italic><inline-formula id="ieqn-86"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i087.jpg"/><tex-math id="tex-ieqn-86">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\Leftarrow$\end{document}</tex-math><mml:math id="mml-ieqn-86" overflow="scroll"><mml:mo stretchy="false">⇐</mml:mo></mml:math></alternatives></inline-formula><inline-formula id="ieqn-87"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i088.jpg"/><tex-math id="tex-ieqn-87">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\sigma$\end{document}</tex-math><mml:math id="mml-ieqn-87" overflow="scroll"><mml:mi>σ</mml:mi></mml:math></alternatives></inline-formula> (<italic toggle="yes">x</italic>)</td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1"> <bold>else</bold></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">  <bold>if</bold>
<italic toggle="yes">horizontally stacked</italic>
<bold>then</bold></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1"><italic toggle="yes">   x <inline-formula id="ieqn-88"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i089.jpg"/><tex-math id="tex-ieqn-88">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\Leftarrow$\end{document}</tex-math><mml:math id="mml-ieqn-88" overflow="scroll"><mml:mo stretchy="false">⇐</mml:mo></mml:math></alternatives></inline-formula> einsum</italic>(<italic toggle="yes">ni</italic>, <italic toggle="yes">rio</italic> → <italic toggle="yes">rno</italic>, <italic toggle="yes">X</italic>, <italic toggle="yes">W</italic>)</td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">   reshape <italic toggle="yes">x</italic> into a matrix with the dimensions <italic toggle="yes">NR</italic><sup>+</sup> × <italic toggle="yes">N<sub>out</sub></italic></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1"><italic toggle="yes">   x <inline-formula id="ieqn-89"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i090.jpg"/><tex-math id="tex-ieqn-89">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\Leftarrow$\end{document}</tex-math><mml:math id="mml-ieqn-89" overflow="scroll"><mml:mo stretchy="false">⇐</mml:mo></mml:math></alternatives></inline-formula> spmm</italic>(<italic toggle="yes">A<sub>h</sub></italic>, <italic toggle="yes">x</italic>)</td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">  <bold>else</bold></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1"><italic toggle="yes">   x <inline-formula id="ieqn-90"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i091.jpg"/><tex-math id="tex-ieqn-90">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\Leftarrow$\end{document}</tex-math><mml:math id="mml-ieqn-90" overflow="scroll"><mml:mo stretchy="false">⇐</mml:mo></mml:math></alternatives></inline-formula> spmm</italic>(<italic toggle="yes">A<sub>v</sub></italic>, <italic toggle="yes">X</italic>)</td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">   reshape <italic toggle="yes">x</italic> into a tensor with the dimensions <italic toggle="yes">R</italic><sup>+</sup> × <italic toggle="yes">N</italic> × <italic toggle="yes">N<sub>in</sub></italic></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1"><italic toggle="yes">   x <inline-formula id="ieqn-91"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i092.jpg"/><tex-math id="tex-ieqn-91">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\Leftarrow$\end{document}</tex-math><mml:math id="mml-ieqn-91" overflow="scroll"><mml:mo stretchy="false">⇐</mml:mo></mml:math></alternatives></inline-formula> einsum</italic>(<italic toggle="yes">rio</italic>, <italic toggle="yes">rni</italic> → <italic toggle="yes">no</italic>, <italic toggle="yes">W</italic>, <italic toggle="yes">x</italic>)</td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">  <bold>end</bold></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1"><italic toggle="yes">  H</italic><inline-formula id="ieqn-92"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i093.jpg"/><tex-math id="tex-ieqn-92">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\Leftarrow$\end{document}</tex-math><mml:math id="mml-ieqn-92" overflow="scroll"><mml:mo stretchy="false">⇐</mml:mo></mml:math></alternatives></inline-formula><inline-formula id="ieqn-93"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i094.jpg"/><tex-math id="tex-ieqn-93">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\sigma$\end{document}</tex-math><mml:math id="mml-ieqn-93" overflow="scroll"><mml:mi>σ</mml:mi></mml:math></alternatives></inline-formula> (<italic toggle="yes">x</italic>)</td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1"> <bold>end</bold></td>
              </tr>
            </tbody>
          </table>
        </alternatives>
      </table-wrap>
      <list list-type="order">
        <list-item>
          <p>If the inputs <italic toggle="yes">X</italic> to the RGCN layer are one-hot vectors, X can be removed from the multiplication. The <bold>featureless message passing</bold> simply multiplies <italic toggle="yes">A</italic> with <italic toggle="yes">W</italic>, because the node feature matrix <italic toggle="yes">X</italic> is not given. Note that <italic toggle="yes">X</italic>, in this case, can also be modelled using an identity matrix <italic toggle="yes">I</italic>. However, since <italic toggle="yes">AW</italic> = <italic toggle="yes">AIW</italic>, we skip this step to reduce computational overhead.</p>
        </list-item>
        <list-item>
          <p>In the <bold>horizontal stacking approach</bold>, <italic toggle="yes">X</italic> multiplied with <italic toggle="yes">W</italic>. This yields the <italic toggle="yes">XW</italic> tensor, which is then reshaped into a <inline-formula id="ieqn-94"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i095.jpg"/><tex-math id="tex-ieqn-94">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$N{R^ + } \times N$\end{document}</tex-math><mml:math id="mml-ieqn-94" overflow="scroll"><mml:mi>N</mml:mi><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>+</mml:mo></mml:msup></mml:mrow><mml:mo>×</mml:mo><mml:mi>N</mml:mi></mml:math></alternatives></inline-formula> matrix. The reshaped <italic toggle="yes">XW</italic> matrix is then multiplied with <inline-formula id="ieqn-95"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i096.jpg"/><tex-math id="tex-ieqn-95">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_h}$\end{document}</tex-math><mml:math id="mml-ieqn-95" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>h</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> using spmm.</p>
        </list-item>
        <list-item>
          <p>In the <bold>vertical stacking approach</bold>, the <italic toggle="yes">X</italic> is mixed with <inline-formula id="ieqn-96"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i097.jpg"/><tex-math id="tex-ieqn-96">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_v}$\end{document}</tex-math><mml:math id="mml-ieqn-96" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>v</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> using spmm. The product is reshaped into a tensor of dimension <inline-formula id="ieqn-97"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i098.jpg"/><tex-math id="tex-ieqn-97">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${R^ + } \times N \times N$\end{document}</tex-math><mml:math id="mml-ieqn-97" overflow="scroll"><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>+</mml:mo></mml:msup></mml:mrow><mml:mo>×</mml:mo><mml:mi>N</mml:mi><mml:mo>×</mml:mo><mml:mi>N</mml:mi></mml:math></alternatives></inline-formula>. The tensor <italic toggle="yes">AX</italic> is then multiplied with <italic toggle="yes">W</italic>.</p>
        </list-item>
      </list>
      <p>Any dense/dense tensor operations is implemented with the einsum operation. For reasons highlighted in “Sparsity” it is desirable to construct <inline-formula id="ieqn-98"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i099.jpg"/><tex-math id="tex-ieqn-98">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_r}$\end{document}</tex-math><mml:math id="mml-ieqn-98" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> as a sparse tensor. However, in PyTorch (<xref rid="ref-32" ref-type="bibr">Paszke et al., 2019</xref>) sparse/dense operations only allow multiplication of sparse matrix by dense matrix. We accept this as a limitation of the current version of PyTorch. To circumvent this issue, we use the stacking trick to construct <inline-formula id="ieqn-99"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i100.jpg"/><tex-math id="tex-ieqn-99">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_r}$\end{document}</tex-math><mml:math id="mml-ieqn-99" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> as a sparse matrix and use the spmm (S, D) operation. Thus, the stacking trick is a memory efficient operation for the message passing operation in the RGCN layers.</p>
      <p>Any dense/dense tensor operations can be implemented with einsum, but in the current version of PyTorch sparse/dense operations only allow multiplication of sparse matrix by dense matrix. Therefore, the stacking trick provides a memory efficient way to perform message passing operation in the RGCN layers (see Sparsity and Stacking trick). The vertical stacking approach is suitable for low dimensional input and high dimensional output, because the projection to low dimensions is done first. While the horizontal stacking approach is good for high dimensional input and low dimensional output as the projection to high dimension is done last. These matrix operations are visually illustrated in <xref rid="fig-4" ref-type="fig">Fig. 4</xref>.</p>
      <fig position="float" id="fig-4">
        <object-id pub-id-type="doi">10.7717/peerj-cs.1073/fig-4</object-id>
        <label>Figure 4</label>
        <caption>
          <title>A simplified visual representation of different message passing approaches: featureless-message passing (top left), message passing using horizontally stacked adjacency matrices (bottom left), and message passing using vertically stacked adjacency matrices (top right).</title>
          <p>The black <inline-formula id="ieqn-100"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i101.jpg"/><tex-math id="tex-ieqn-100">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\otimes$\end{document}</tex-math><mml:math id="mml-ieqn-100" overflow="scroll"><mml:mo>ꕕ</mml:mo></mml:math></alternatives></inline-formula> indicates multiplication between dense tensors, which can be implemented with an einsum operator. The green <inline-formula id="ieqn-101"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i102.jpg"/><tex-math id="tex-ieqn-101">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\otimes$\end{document}</tex-math><mml:math id="mml-ieqn-101" overflow="scroll"><mml:mo>ꕕ</mml:mo></mml:math></alternatives></inline-formula> refers to sparse-by-dense multiplication, for which the spmm operation is required. Black arrow indicates tensor reshaping.</p>
        </caption>
        <graphic xlink:href="peerj-cs-08-1073-g004" position="float"/>
      </fig>
      <p>Thus far, we focused on how Relational Graph Convolutional layers work and how to implement them. As mentioned in “Literature review”, RGCNs can be used for many downstream tasks. Now, we will discuss how these graph convolutional layers can be used as building blocks in larger neural networks to solve two downstream tasks implemented in the original RGCN article (<xref rid="ref-36" ref-type="bibr">Schlichtkrull et al., 2018</xref>): <italic toggle="yes">node classification</italic> and <italic toggle="yes">link prediction</italic>. In the next two sections, we detail the model setup, our reproduction experiments and new configurations of the models. We begin with node classification.</p>
    </sec>
  </sec>
  <sec>
    <title>Downstream task: node classification</title>
    <p>In the node classification task, the model is trained under a transductive setting which means that the whole graph, including the nodes in the test set, must be available during training, with only the labels in the test set withheld. The majority of the nodes in the graph are unlabelled and the rest of the nodes are labelled (we call these <italic toggle="yes">target nodes</italic>). The goal is to infer the missing class information, for example, that <monospace>Amsterdam</monospace> belongs to the class <monospace>City</monospace>.</p>
    <sec>
      <title>Model setup</title>
      <p><xref rid="fig-5" ref-type="fig">Figure 5</xref> shows the node classification models described in (<xref rid="ref-36" ref-type="bibr">Schlichtkrull et al., 2018</xref>), using a two-layer model. Full-batch training is used for training the node classification model, meaning that the whole graph is represented in the input adjacency matrix <italic toggle="yes">A</italic> for the RGCN. The input is the unlabeled graph, the output are the class predictions and the true predictions are used to train the model. The first layer of the RGCN is ReLU activated and it embeds the relational graph to produce low-dimensional node embeddings. The second RGCN layer further mixes the node embeddings. Using softmax activation the second layer generates a matrix with the class probabilities, <inline-formula id="ieqn-102"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i103.jpg"/><tex-math id="tex-ieqn-102">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$Y \in {{\mathbb R}^{N \times C}}$\end{document}</tex-math><mml:math id="mml-ieqn-102" overflow="scroll"><mml:mi>Y</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo>×</mml:mo><mml:mi>C</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula>, and the most probable classes are selected for each unlabelled node in the graph. The model is trained by optimizing the categorical cross entropy loss:</p>
      <fig position="float" id="fig-5">
        <object-id pub-id-type="doi">10.7717/peerj-cs.1073/fig-5</object-id>
        <label>Figure 5</label>
        <caption>
          <title>An overview of the node classification model with a two-layer RGCN.</title>
          <p>Different colour (magenta, green, blue yellow, violet) is used to highlight different entity types. Unlabelled entities are in grey.</p>
        </caption>
        <graphic xlink:href="peerj-cs-08-1073-g005" position="float"/>
      </fig>
      <p><disp-formula id="eqn-11"><label>(11)</label><alternatives><graphic xlink:href="peerj-cs-08-1073-e011.jpg" position="float"/><tex-math id="tex-eqn-11">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$${\rm {\cal L}} = - \sum\limits_{i = 1}^{\rm {\cal Y}} {\sum\limits_{c = 1}^C {{t_{ic}}} } \ln {\bf h}_{ic}^{(L)},$$\end{document}</tex-math><mml:math id="mml-eqn-11" display="block" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">L</mml:mi></mml:mrow></mml:mrow><mml:mo>=</mml:mo><mml:mo>−</mml:mo><mml:munderover><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mi>i</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mrow><mml:mi mathvariant="script">Y</mml:mi></mml:mrow></mml:mrow></mml:munderover><mml:mrow><mml:munderover><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mi>c</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mi>C</mml:mi></mml:munderover><mml:mrow><mml:mrow><mml:msub><mml:mi>t</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>c</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mrow></mml:mrow><mml:mi>ln</mml:mi><mml:mo>⁡</mml:mo><mml:msubsup><mml:mrow><mml:mi mathvariant="bold">h</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>c</mml:mi></mml:mrow><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>L</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:msubsup><mml:mo>,</mml:mo></mml:math></alternatives></disp-formula>where <inline-formula id="ieqn-103"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i104.jpg"/><tex-math id="tex-ieqn-103">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal Y}}$\end{document}</tex-math><mml:math id="mml-ieqn-103" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">Y</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> is the set of labelled nodes, <italic toggle="yes">C</italic> represents the number of classes, <inline-formula id="ieqn-104"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i105.jpg"/><tex-math id="tex-ieqn-104">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${t_{ic}}$\end{document}</tex-math><mml:math id="mml-ieqn-104" overflow="scroll"><mml:mrow><mml:msub><mml:mi>t</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>c</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is one-hot encoded ground truth labels and <inline-formula id="ieqn-105"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i106.jpg"/><tex-math id="tex-ieqn-105">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\bf h}_{ic}^{(L)}$\end{document}</tex-math><mml:math id="mml-ieqn-105" overflow="scroll"><mml:msubsup><mml:mrow><mml:mi mathvariant="bold">h</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>c</mml:mi></mml:mrow><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>L</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> represents node representations from the RGCN. The last layer (<italic toggle="yes">L</italic>) of the RGCN is softmax-activated. The trained model can be used to infer the classes of unlabelled nodes.</p>
    </sec>
    <sec>
      <title>e-RGCN</title>
      <p>In GCNs (<xref rid="ref-25" ref-type="bibr">Kipf &amp; Welling, 2017</xref>), the node features <italic toggle="yes">X</italic> are represented by a matrix <inline-formula id="ieqn-106"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i107.jpg"/><tex-math id="tex-ieqn-106">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$X \in {{\mathbb R}^{N \times F}}$\end{document}</tex-math><mml:math id="mml-ieqn-106" overflow="scroll"><mml:mi>X</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo>×</mml:mo><mml:mi>F</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula>, where <italic toggle="yes">N</italic> is the number of nodes and <italic toggle="yes">F</italic> is the number of node features. When node features are not available, one-hot vectors can be used instead. An alternative approach would be to represent the features with continuous values <inline-formula id="ieqn-107"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i108.jpg"/><tex-math id="tex-ieqn-107">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$E \in {{\mathbb R}^{N \times D}}$\end{document}</tex-math><mml:math id="mml-ieqn-107" overflow="scroll"><mml:mi>E</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo>×</mml:mo><mml:mi>D</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula>, where <italic toggle="yes">D</italic> is the node embedding dimension.</p>
      <p>In the GCN setting (<xref rid="ref-25" ref-type="bibr">Kipf &amp; Welling, 2017</xref>), using one hot vectors is functionally very similar to using embedding vectors: the multiplication of the one hot vector by the first weight matrix <italic toggle="yes">W</italic>, essentially selects a row of <italic toggle="yes">W</italic>, which then functions as an embedding of that node. In the RGCN setting, the same holds, but we have a separate weight matrix for each relation, so using one-hot vectors is similar to defining a separate node embedding for each relation. When we feed the RGCN a single node embedding for each node instead, we should increase the embedding dimension <italic toggle="yes">D</italic> to compensate.</p>
      <p>Initial experiments showed that simply replacing the node features <italic toggle="yes">X</italic> with node embeddings <italic toggle="yes">E</italic><xref rid="fn-8" ref-type="fn"><sup>8</sup></xref>
<fn id="fn-8"><label>8</label><p>Message passing rule: <inline-formula id="ieqn-108"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i109.jpg"/><tex-math id="tex-ieqn-108">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${H}=\sigma{(\sum\nolimits_{r=1}^{R}A_rEW_r)}$\end{document}</tex-math><mml:math id="mml-ieqn-108" overflow="scroll"><mml:mrow><mml:mi>H</mml:mi></mml:mrow><mml:mo>=</mml:mo><mml:mi>σ</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msubsup><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mi>r</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mi>R</mml:mi></mml:mrow></mml:msubsup><mml:msub><mml:mi>A</mml:mi><mml:mi>r</mml:mi></mml:msub><mml:mi>E</mml:mi><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:math></alternatives></inline-formula>.</p></fn> results in a drop in performance on the node classification benchmark data. We believe that the additional parameters from <italic toggle="yes">E</italic> gave the model more flexibility to overfit to training data and thus leading to an overall performance drop on the test dataset. After some experimentation, we ended up with the following model, which we call the <italic toggle="yes">embedding-RGCN</italic> (e-RGCN). Its message passing rule is described in <xref rid="eqn-12" ref-type="disp-formula">Eq. (12)</xref>. The weight matrix is restricted to a diagonal matrix (with all off diagonal elements fixed to zero)<xref rid="fn-9" ref-type="fn"><sup>9</sup></xref>
<fn id="fn-9"><label>9</label><p>This is a special case of the block decomposition with 1 × 1 blocks.</p></fn> and then the product is multiplied by the adjacency matrix.</p>
      <p>
        <disp-formula id="eqn-12">
          <label>(12)</label>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e012.jpg" position="float"/>
            <tex-math id="tex-eqn-12">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$$h = \sigma \left( {\sum\limits_{r = 1}^R {{A_r}} \;E\;{\rm diag}({{\bf w}_r})} \right),$$\end{document}</tex-math>
            <mml:math id="mml-eqn-12" display="block" overflow="scroll">
              <mml:mi>h</mml:mi>
              <mml:mo>=</mml:mo>
              <mml:mi>σ</mml:mi>
              <mml:mrow>
                <mml:mo>(</mml:mo>
                <mml:mrow>
                  <mml:munderover>
                    <mml:mo movablelimits="false">∑</mml:mo>
                    <mml:mrow>
                      <mml:mi>r</mml:mi>
                      <mml:mo>=</mml:mo>
                      <mml:mn>1</mml:mn>
                    </mml:mrow>
                    <mml:mi>R</mml:mi>
                  </mml:munderover>
                  <mml:mrow>
                    <mml:mrow>
                      <mml:msub>
                        <mml:mi>A</mml:mi>
                        <mml:mi>r</mml:mi>
                      </mml:msub>
                    </mml:mrow>
                  </mml:mrow>
                  <mml:mspace width="thickmathspace"/>
                  <mml:mi>E</mml:mi>
                  <mml:mspace width="thickmathspace"/>
                  <mml:mrow>
                    <mml:mi mathvariant="normal">d</mml:mi>
                    <mml:mi mathvariant="normal">i</mml:mi>
                    <mml:mi mathvariant="normal">a</mml:mi>
                    <mml:mi mathvariant="normal">g</mml:mi>
                  </mml:mrow>
                  <mml:mo stretchy="false">(</mml:mo>
                  <mml:mrow>
                    <mml:msub>
                      <mml:mrow>
                        <mml:mi mathvariant="bold">w</mml:mi>
                      </mml:mrow>
                      <mml:mi>r</mml:mi>
                    </mml:msub>
                  </mml:mrow>
                  <mml:mo stretchy="false">)</mml:mo>
                </mml:mrow>
                <mml:mo>)</mml:mo>
              </mml:mrow>
              <mml:mo>,</mml:mo>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>Here, <italic toggle="yes">E</italic> is the node embeddings broadcasted across all the relations <inline-formula id="ieqn-109"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i110.jpg"/><tex-math id="tex-ieqn-109">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal R}}$\end{document}</tex-math><mml:math id="mml-ieqn-109" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">R</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula>, <inline-formula id="ieqn-110"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i111.jpg"/><tex-math id="tex-ieqn-110">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${w_r}$\end{document}</tex-math><mml:math id="mml-ieqn-110" overflow="scroll"><mml:mrow><mml:msub><mml:mi>w</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is a vector containing weight parameters for relation <italic toggle="yes">r</italic>. Here, diag(⋅) is a function that takes a vector <inline-formula id="ieqn-111"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i112.jpg"/><tex-math id="tex-ieqn-111">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\bf l} \in {{\mathbb R}^Q}$\end{document}</tex-math><mml:math id="mml-ieqn-111" overflow="scroll"><mml:mrow><mml:mi mathvariant="bold">l</mml:mi></mml:mrow><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mi>Q</mml:mi></mml:msup></mml:mrow></mml:math></alternatives></inline-formula> as an input and outputs a diagonal matrix <inline-formula id="ieqn-112"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i113.jpg"/><tex-math id="tex-ieqn-112">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$N \in {{\mathbb R}^{Q \times Q}}$\end{document}</tex-math><mml:math id="mml-ieqn-112" overflow="scroll"><mml:mi>N</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mi>Q</mml:mi><mml:mo>×</mml:mo><mml:mi>Q</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula>, where the diagonal elements are elements from the original vector <italic toggle="yes">L</italic>.</p>
      <p>Using a diagonal weight matrix improves parameter efficiency, while enabling distinction between relations. We created a new node classification model, where the first layer is an e-RGCN layer and the second layer is a standard RGCN (without regularisation) that predicts class probabilities. This model provides competitive performance with the RGCN, using only 8% of the parameters.</p>
    </sec>
    <sec>
      <title>Node classification experiments</title>
      <sec>
        <title>Datasets</title>
        <p>We reproduce the node classification experiments using the benchmark datasets that were used in the original article: AIFB (<xref rid="ref-5" ref-type="bibr">Bloehdorn &amp; Sure, 2007</xref>), MUTAG (<xref rid="ref-13" ref-type="bibr">Debnath et al., 1991</xref>), BGS (<xref rid="ref-12" ref-type="bibr">de Vries, 2013</xref>) and AM (<xref rid="ref-11" ref-type="bibr">de Boer et al., 2012</xref>). We also evaluate e-RGCN on the same datasets. AIFB is a dataset that describes a research institute in terms of its staff, research group, and publications. AM (Amsterdam Museum) is a dataset containing information about artifacts in the museum. MUTAG is derived as an example dataset for the machine learning model toolkit about complex molecules. The BGS (British Geological Survey) dataset contains information about geological measurements in Great Britain.</p>
        <p>Since the messages in a two-layer RGCN cannot propagate further than two hops, we can prune away the unused nodes from the graph. This significantly reduces the memory usage for large datasets (BGS &amp; AM) without any performance deterioration. In Theorem 2 (see Appendix), we mathematically show that any nodes that are more than <italic toggle="yes">k</italic> hops away from the target nodes does not affect the outcome of the message passing. To the best of our knowledge, this was first implemented in the DGL library (<xref rid="ref-39" ref-type="bibr">Wang et al., 2020</xref>). For the AM and BGS datasets, the graph was pruned by removing any nodes that are two hops away from the target nodes. Pruning significantly reduces the number of entities, relations and edges and thus, lowers the memory consumption of the node classification model, making it feasible to train it on a GPU with 12 GB of memory. <xref rid="table-1" ref-type="table">Table 1</xref> shows the statistics for the node classification datasets. We use the same training, validation and test split as in (<xref rid="ref-36" ref-type="bibr">Schlichtkrull et al., 2018</xref>).</p>
        <table-wrap position="float" id="table-1">
          <object-id pub-id-type="doi">10.7717/peerj-cs.1073/table-1</object-id>
          <label>Table 1</label>
          <caption>
            <title>Statistics about the node classification benchmark datasets.</title>
          </caption>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-g009" position="float"/>
            <table frame="hsides" rules="groups" content-type="text">
              <colgroup span="1">
                <col span="1"/>
                <col span="1"/>
                <col span="1"/>
                <col span="1"/>
                <col span="1"/>
              </colgroup>
              <thead>
                <tr>
                  <th rowspan="1" colspan="1">Dataset</th>
                  <th rowspan="1" colspan="1">AIFB</th>
                  <th rowspan="1" colspan="1">MUTAG</th>
                  <th rowspan="1" colspan="1">BGS<xref rid="table-1fn2" ref-type="table-fn">*</xref></th>
                  <th rowspan="1" colspan="1">AM<xref rid="table-1fn2" ref-type="table-fn">*</xref></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td rowspan="1" colspan="1">Entities</td>
                  <td rowspan="1" colspan="1">8,285</td>
                  <td rowspan="1" colspan="1">23,644</td>
                  <td rowspan="1" colspan="1">87,688</td>
                  <td rowspan="1" colspan="1">246,728</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">Relations</td>
                  <td rowspan="1" colspan="1">45</td>
                  <td rowspan="1" colspan="1">23</td>
                  <td rowspan="1" colspan="1">70</td>
                  <td rowspan="1" colspan="1">122</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">Edges</td>
                  <td rowspan="1" colspan="1">29,043</td>
                  <td rowspan="1" colspan="1">74,227</td>
                  <td rowspan="1" colspan="1">230,698</td>
                  <td rowspan="1" colspan="1">875,946</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">Labeled</td>
                  <td rowspan="1" colspan="1">176</td>
                  <td rowspan="1" colspan="1">340</td>
                  <td rowspan="1" colspan="1">146</td>
                  <td rowspan="1" colspan="1">1,000</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">Classes</td>
                  <td rowspan="1" colspan="1">4</td>
                  <td rowspan="1" colspan="1">2</td>
                  <td rowspan="1" colspan="1">2</td>
                  <td rowspan="1" colspan="1">11</td>
                </tr>
              </tbody>
            </table>
          </alternatives>
          <table-wrap-foot>
            <fn id="table-1fn">
              <p>
                <bold>Notes:</bold>
              </p>
            </fn>
            <fn id="table-1fn1" fn-type="other">
              <p>Number of entities, relations, edges and classes along with the number of labeled entities for each of the datasets. <italic toggle="yes">Labeled</italic> denotes the subset of <italic toggle="yes">entities</italic> that have labels and entities are the nodes without any labels.</p>
            </fn>
            <fn id="table-1fn2" fn-type="other">
              <label>*</label>
              <p>Entities more than two hops away from the target label were pruned.</p>
            </fn>
          </table-wrap-foot>
        </table-wrap>
      </sec>
      <sec>
        <title>Details</title>
        <p>All node classification models were trained following (<xref rid="ref-36" ref-type="bibr">Schlichtkrull et al., 2018</xref>) using full-batch gradient descent for 50 epochs. However, we used 100 epochs for e-RGCN on the AM dataset. Glorot uniform initialisation (<xref rid="ref-17" ref-type="bibr">Glorot &amp; Bengio, 2010</xref>) was used to initialise parameters with a gain of <inline-formula id="ieqn-113"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i114.jpg"/><tex-math id="tex-ieqn-113">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\sqrt 2$\end{document}</tex-math><mml:math id="mml-ieqn-113" overflow="scroll"><mml:msqrt><mml:mn>2</mml:mn></mml:msqrt></mml:math></alternatives></inline-formula> corresponding to the ReLU activation function. Kaiming initialization (<xref rid="ref-19" ref-type="bibr">He et al., 2015</xref>) was used to initialise the node embeddings in the e-RGCN node classification model<xref rid="fn-10" ref-type="fn"><sup>10</sup></xref>
<fn id="fn-10"><label>10</label><p>The gain parameter is taken from the DGL implementation (<xref rid="ref-39" ref-type="bibr">Wang et al., 2020</xref>). The original implementation does not appear to apply a gain. This choice does not seem to affect the classification performance.</p></fn>. Basis decomposition was used for the RGCN-based node classification<xref rid="fn-11" ref-type="fn"><sup>11</sup></xref>
<fn id="fn-11"><label>11</label><p>40 bases for the AM &amp; BGS. 30 bases for MUTAG.</p></fn>. All RGCN and e-RGCN models, except for the e-RGCN on the AM dataset, were trained using a GPU.</p>
      </sec>
      <sec sec-type="results">
        <title>Results</title>
        <p><xref rid="table-2" ref-type="table">Table 2</xref> shows the results of the node classification experiments in comparison to the original RGCN article. Torch-RGCN achieves similar performances to TF-RGCN reported in <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref>. We observed that the training times<xref rid="fn-12" ref-type="fn"><sup>12</sup></xref>
<fn id="fn-12"><label>12</label><p>We measured the wall time of the Python scripts from start to finish, which includes training and evaluation of the models.</p></fn> of the node classification models largely depended on the size of the graph dataset. The CPU training times varied from 45 s for the AIFB dataset to 20 min for the AM dataset. Since our implementation makes use of GPU’s, we were able to run the Torch-RGCN models on a GPU and train the model within a few minutes.</p>
        <table-wrap position="float" id="table-2">
          <object-id pub-id-type="doi">10.7717/peerj-cs.1073/table-2</object-id>
          <label>Table 2</label>
          <caption>
            <title>Node classification accuracy for TF-RGCN, Torch-RGCN and e-RGCN.</title>
          </caption>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-g010" position="float"/>
            <table frame="hsides" rules="groups" content-type="text">
              <colgroup span="1">
                <col span="1"/>
                <col span="1"/>
                <col span="1"/>
                <col span="1"/>
              </colgroup>
              <thead>
                <tr>
                  <th rowspan="2" colspan="1">Dataset</th>
                  <th colspan="3" rowspan="1">Model accuracy (%)</th>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">TF-RGCN</td>
                  <td rowspan="1" colspan="1">Torch-RGCN</td>
                  <td rowspan="1" colspan="1">e-RGCN</td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td rowspan="1" colspan="1">AIFB</td>
                  <td rowspan="1" colspan="1">95.83 ± 0.62</td>
                  <td rowspan="1" colspan="1">95.56 ± 0.61</td>
                  <td rowspan="1" colspan="1">89.17 ± 0.28</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">AM</td>
                  <td rowspan="1" colspan="1">89.29 ± 0.35</td>
                  <td rowspan="1" colspan="1">89.19 ± 0.35</td>
                  <td rowspan="1" colspan="1">89.04 ± 0.25</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">BGS</td>
                  <td rowspan="1" colspan="1">83.10 ± 0.80</td>
                  <td rowspan="1" colspan="1">82.76 ± 0.89</td>
                  <td rowspan="1" colspan="1">81.72 ± 0.53</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">MUTAG</td>
                  <td rowspan="1" colspan="1">73.23 ± 0.48</td>
                  <td rowspan="1" colspan="1">73.38 ± 0.60</td>
                  <td rowspan="1" colspan="1">71.03 ± 0.58</td>
                </tr>
              </tbody>
            </table>
          </alternatives>
          <table-wrap-foot>
            <fn id="table-2fn">
              <p>
                <bold>Note:</bold>
              </p>
            </fn>
            <fn id="table-2fn1" fn-type="other">
              <p>Results for TF-RGCN were taken from the original article. These are averages over 10 runs, with standard deviations.</p>
            </fn>
          </table-wrap-foot>
        </table-wrap>
      </sec>
    </sec>
  </sec>
  <sec>
    <title>Downstream task: link prediction</title>
    <p>We now turn towards the second task performed in the original article, multi-relational link prediction. The aim is to learn a scoring function that assigns true triples high scores and false triples low scores (<xref rid="ref-6" ref-type="bibr">Bordes et al., 2013</xref>), with the correct triple ranking the highest. After training, the model can be used to predict which missing triples might be true, or which triples in the graph are likely to be incorrect.</p>
    <sec>
      <title>Model setup</title>
      <p>We follow the procedure outlined by <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref>. <xref rid="fig-6" ref-type="fig">Figure 6</xref> shows a schematic representation of the link prediction model as described in the original article. During training, traditional link predictors (<xref rid="ref-6" ref-type="bibr">Bordes et al., 2013</xref>; <xref rid="ref-41" ref-type="bibr">Yang et al., 2015</xref>) simultaneously update node representations and learn a scoring function (decoder) that predicts the likelihood of the correct triple being true. RGCN-based link predictors introduce additional steps upstream.</p>
      <fig position="float" id="fig-6">
        <object-id pub-id-type="doi">10.7717/peerj-cs.1073/fig-6</object-id>
        <label>Figure 6</label>
        <caption>
          <title>A schematic visualisation of link prediction models.</title>
          <p>Edges are coloured (red and green) to indicate different edge labels. RGCN-based encoders can be seen as an extension to traditional link predictors, such as DistMult (<xref rid="ref-41" ref-type="bibr">Yang et al., 2015</xref>) and TransE (<xref rid="ref-6" ref-type="bibr">Bordes et al., 2013</xref>). RGCNs enrich the node representations used by these models by mixing them along the edges of the graph, before applying the score function. In this case, removing the RGCN layers and the upstream edge sampling, recovers the original DistMult. In the last step, the vectors corresponding to entities and relation are element-wise multiplied and the product <italic toggle="yes">x</italic> is summed. For a given triple <inline-formula id="ieqn-114"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i115.jpg"/><tex-math id="tex-ieqn-114">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\langle$\end{document}</tex-math><mml:math id="mml-ieqn-114" overflow="scroll"><mml:mo fence="false" stretchy="false">⟨</mml:mo></mml:math></alternatives></inline-formula><italic toggle="yes">s</italic>, <italic toggle="yes">r</italic>, <italic toggle="yes">o<inline-formula id="ieqn-115"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i116.jpg"/><tex-math id="tex-ieqn-115">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\rangle$\end{document}</tex-math><mml:math id="mml-ieqn-115" overflow="scroll"><mml:mo fence="false" stretchy="false">⟩</mml:mo></mml:math></alternatives></inline-formula></italic>, the model produces a single scalar value <italic toggle="yes">x</italic> which indicates how likely the triple is to be true.</p>
        </caption>
        <graphic xlink:href="peerj-cs-08-1073-g006" position="float"/>
      </fig>
      <p>We begin by sampling 30,000 edges from the graph using an approach called <italic toggle="yes">neighborhood edge sampling</italic> (see Edge sampling). Then, for each triple we generate 10 negative training examples, generating a batch size of 330,000 edges in total. Node embeddings <inline-formula id="ieqn-116"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i117.jpg"/><tex-math id="tex-ieqn-116">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$E \in {{\mathbb R}^{N \times D}}$\end{document}</tex-math><mml:math id="mml-ieqn-116" overflow="scroll"><mml:mi>E</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo>×</mml:mo><mml:mi>D</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula> are generated using a standard embedding layer and are used as an input for the RGCN<xref rid="fn-13" ref-type="fn"><sup>13</sup></xref>
<fn id="fn-13"><label>13</label><p>In the original implementation, the embeddings are implemented as affine operation (<italic toggle="yes">i.e.</italic>, biases are included) and they are ReLU activated. We reproduce this behaviour but it is not clear whether this gives any benefits over simple, unactivated embeddings (as used in the e-rgcn).</p></fn>. The RGCN performs message passing over the sampled edges and generates mixed node embeddings. Finally, the DistMult scoring function (<xref rid="ref-41" ref-type="bibr">Yang et al., 2015</xref>) uses the mixed node embeddings and relation embeddings to compute the likelihood of a link existing between a pair of nodes. For a given triple <inline-formula id="ieqn-117"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i118.jpg"/><tex-math id="tex-ieqn-117">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\langle$\end{document}</tex-math><mml:math id="mml-ieqn-117" overflow="scroll"><mml:mo fence="false" stretchy="false">⟨</mml:mo></mml:math></alternatives></inline-formula><italic toggle="yes">s</italic>, <italic toggle="yes">r</italic>, <italic toggle="yes">o<inline-formula id="ieqn-118"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i119.jpg"/><tex-math id="tex-ieqn-118">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\rangle$\end{document}</tex-math><mml:math id="mml-ieqn-118" overflow="scroll"><mml:mo fence="false" stretchy="false">⟩</mml:mo></mml:math></alternatives></inline-formula></italic>, the model is trained by scoring all potential combination of the triple using the function:</p>
      <p>
        <disp-formula id="eqn-13">
          <label>(13)</label>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e013.jpg" position="float"/>
            <tex-math id="tex-eqn-13">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$$f(s,r,o) = \sum\limits_i {{{\left( {{{\bf e}_s}{\bf r}{{\bf e}_o}} \right)}_i}} = x$$\end{document}</tex-math>
            <mml:math id="mml-eqn-13" display="block" overflow="scroll">
              <mml:mi>f</mml:mi>
              <mml:mo stretchy="false">(</mml:mo>
              <mml:mi>s</mml:mi>
              <mml:mo>,</mml:mo>
              <mml:mi>r</mml:mi>
              <mml:mo>,</mml:mo>
              <mml:mi>o</mml:mi>
              <mml:mo stretchy="false">)</mml:mo>
              <mml:mo>=</mml:mo>
              <mml:munder>
                <mml:mo movablelimits="false">∑</mml:mo>
                <mml:mi>i</mml:mi>
              </mml:munder>
              <mml:mrow>
                <mml:mrow>
                  <mml:msub>
                    <mml:mrow>
                      <mml:mrow>
                        <mml:mo>(</mml:mo>
                        <mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mrow>
                                <mml:mi mathvariant="bold">e</mml:mi>
                              </mml:mrow>
                              <mml:mi>s</mml:mi>
                            </mml:msub>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mi mathvariant="bold">r</mml:mi>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mrow>
                                <mml:mi mathvariant="bold">e</mml:mi>
                              </mml:mrow>
                              <mml:mi>o</mml:mi>
                            </mml:msub>
                          </mml:mrow>
                        </mml:mrow>
                        <mml:mo>)</mml:mo>
                      </mml:mrow>
                    </mml:mrow>
                    <mml:mi>i</mml:mi>
                  </mml:msub>
                </mml:mrow>
              </mml:mrow>
              <mml:mo>=</mml:mo>
              <mml:mi>x</mml:mi>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>Here, <inline-formula id="ieqn-119"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i120.jpg"/><tex-math id="tex-ieqn-119">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${{\bf e}_s}$\end{document}</tex-math><mml:math id="mml-ieqn-119" overflow="scroll"><mml:mrow><mml:msub><mml:mrow><mml:mi mathvariant="bold">e</mml:mi></mml:mrow><mml:mi>s</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> and <inline-formula id="ieqn-120"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i121.jpg"/><tex-math id="tex-ieqn-120">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${{\bf e}_o}$\end{document}</tex-math><mml:math id="mml-ieqn-120" overflow="scroll"><mml:mrow><mml:msub><mml:mrow><mml:mi mathvariant="bold">e</mml:mi></mml:mrow><mml:mi>o</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> are the corresponding node embedding of entities <italic toggle="yes">s</italic> and <italic toggle="yes">o</italic>, generated by the RGCN encoder. <bold>r</bold> is a low-dimensional vector of relation <italic toggle="yes">r</italic>, which is generated by the DistMult decoder. Relation embeddings <inline-formula id="ieqn-121"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i122.jpg"/><tex-math id="tex-ieqn-121">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$R \in {{\mathbb R}^{{R^ + } \times D}}$\end{document}</tex-math><mml:math id="mml-ieqn-121" overflow="scroll"><mml:mi>R</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>+</mml:mo></mml:msup></mml:mrow><mml:mo>×</mml:mo><mml:mi>D</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula> are generated using a standard embedding layer. As <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> highlighted in their work, the DistMult decoder can be replaced by any Knowledge Graph scoring function.</p>
      <p>Similar to previous work on link prediction (<xref rid="ref-41" ref-type="bibr">Yang et al., 2015</xref>), the model is trained using negative training examples. For each observed (positive) triple in the training set, we randomly sample 10 negative triples (<italic toggle="yes">i.e.</italic>, we use a negative sampling rate of 10). These samples are produced by randomly corrupting either the subject or the object of the positive example (the probability of corrupting the subject is 50%). Binary cross entropy loss<xref rid="fn-14" ref-type="fn"><sup>14</sup></xref>
<fn id="fn-14"><label>14</label><p><xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> multiply their loss by <inline-formula id="ieqn-122"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i123.jpg"/><tex-math id="tex-ieqn-122">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${1\over(1+\omega)|{\hat\varepsilon}|}$\end{document}</tex-math><mml:math id="mml-ieqn-122" overflow="scroll"><mml:mrow><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:mi>ω</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mrow><mml:mo stretchy="false">|</mml:mo></mml:mrow><mml:mrow><mml:mrow><mml:mover><mml:mi>ε</mml:mi><mml:mo stretchy="false">^</mml:mo></mml:mover></mml:mrow></mml:mrow><mml:mrow><mml:mo stretchy="false">|</mml:mo></mml:mrow></mml:mrow></mml:mfrac></mml:mrow></mml:math></alternatives></inline-formula>. <inline-formula id="ieqn-123"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i124.jpg"/><tex-math id="tex-ieqn-123">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\omega$\end{document}</tex-math><mml:math id="mml-ieqn-123" overflow="scroll"><mml:mi>ω</mml:mi></mml:math></alternatives></inline-formula> is the negative sampling rate and <inline-formula id="ieqn-124"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i125.jpg"/><tex-math id="tex-ieqn-124">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${|\hat\varepsilon|}$\end{document}</tex-math><mml:math id="mml-ieqn-124" overflow="scroll"><mml:mrow><mml:mrow><mml:mo stretchy="false">|</mml:mo></mml:mrow><mml:mrow><mml:mover><mml:mi>ε</mml:mi><mml:mo stretchy="false">^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mo stretchy="false">|</mml:mo></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> is the number of edges sampled. We leave this term out of our implementation, because it is a constant and thus it would not affect the training.</p></fn> is used as the optimization objective to push the model to score observable triples higher than the negative ones:</p>
      <p><disp-formula id="eqn-14"><label>(14)</label><alternatives><graphic xlink:href="peerj-cs-08-1073-e014.jpg" position="float"/><tex-math id="tex-eqn-14">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$$\matrix{ \hfill {{\rm {\cal L}} = - \sum\limits_{(s,r,o,y) \in {\rm {\cal T}}} y \log l(f(s,r,o)) + (1 - y)\log (1 - l(f(s,r,o))),} \cr }$$\end{document}</tex-math><mml:math id="mml-eqn-14" display="block" overflow="scroll"><mml:mtable columnspacing="1em" rowspacing="4pt"><mml:mtr><mml:mtd columnalign="right"><mml:mrow><mml:mrow><mml:mrow><mml:mi mathvariant="script">L</mml:mi></mml:mrow></mml:mrow><mml:mo>=</mml:mo><mml:mo>−</mml:mo><mml:munder><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>s</mml:mi><mml:mo>,</mml:mo><mml:mi>r</mml:mi><mml:mo>,</mml:mo><mml:mi>o</mml:mi><mml:mo>,</mml:mo><mml:mi>y</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>∈</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">T</mml:mi></mml:mrow></mml:mrow></mml:mrow></mml:munder><mml:mi>y</mml:mi><mml:mi>log</mml:mi><mml:mo>⁡</mml:mo><mml:mi>l</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>f</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>s</mml:mi><mml:mo>,</mml:mo><mml:mi>r</mml:mi><mml:mo>,</mml:mo><mml:mi>o</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo stretchy="false">)</mml:mo><mml:mo>+</mml:mo><mml:mo stretchy="false">(</mml:mo><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:mi>y</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mi>log</mml:mi><mml:mo>⁡</mml:mo><mml:mo stretchy="false">(</mml:mo><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:mi>l</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>f</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>s</mml:mi><mml:mo>,</mml:mo><mml:mi>r</mml:mi><mml:mo>,</mml:mo><mml:mi>o</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo stretchy="false">)</mml:mo><mml:mo stretchy="false">)</mml:mo><mml:mo>,</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:math></alternatives></disp-formula>where <inline-formula id="ieqn-125"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i126.jpg"/><tex-math id="tex-ieqn-125">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal T}}$\end{document}</tex-math><mml:math id="mml-ieqn-125" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">T</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> is the total set of positive and negative triples, <italic toggle="yes">l</italic> is the logistic sigmoid function, and <italic toggle="yes">y</italic> is an indicator set to <italic toggle="yes">y</italic> = 1 for positive triples and <italic toggle="yes">y</italic> = 0 for negative triples. <italic toggle="yes">f</italic>(<italic toggle="yes">s</italic>, <italic toggle="yes">r</italic>, <italic toggle="yes">o</italic>) includes entity embeddings from the RGCN encoder and relations embeddings from the DistMult decoder.</p>
      <sec>
        <title>Edge dropout</title>
        <p>In their work, <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> apply edge dropout to the link prediction model which acts as an additional regularisation method. This involves randomly selecting edges and removing them from a graph. As described in “Relational graph convolutional network”, for every edge in the graph inverse edges <inline-formula id="ieqn-126"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i127.jpg"/><tex-math id="tex-ieqn-126">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_{{r^\prime }}}$\end{document}</tex-math><mml:math id="mml-ieqn-126" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mrow><mml:mrow><mml:msup><mml:mi>r</mml:mi><mml:mi mathvariant="normal">′</mml:mi></mml:msup></mml:mrow></mml:mrow></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> and self-loops <inline-formula id="ieqn-127"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i128.jpg"/><tex-math id="tex-ieqn-127">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_s}$\end{document}</tex-math><mml:math id="mml-ieqn-127" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>s</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> are added within the RGCN layer. Dropping edges after this step poses a potential data leakage issue because inverse edges and self-loops of dropped edges will be included in the message passing step and thus, invalidate the model performance. To circumvent this issue, edges are dropped from a graph before feeding it into the RGCN.</p>
        <p>Edge dropout is applied such that the dropout rates on the self-loops <inline-formula id="ieqn-128"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i129.jpg"/><tex-math id="tex-ieqn-128">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${{\rm {\cal R}}_s}$\end{document}</tex-math><mml:math id="mml-ieqn-128" overflow="scroll"><mml:mrow><mml:msub><mml:mrow><mml:mrow><mml:mi mathvariant="script">R</mml:mi></mml:mrow></mml:mrow><mml:mi>s</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> are lower than for the data edges <inline-formula id="ieqn-129"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i130.jpg"/><tex-math id="tex-ieqn-129">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal R}}$\end{document}</tex-math><mml:math id="mml-ieqn-129" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">R</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> and inverse edges <inline-formula id="ieqn-130"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i131.jpg"/><tex-math id="tex-ieqn-130">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${{\rm {\cal R}}^\prime }$\end{document}</tex-math><mml:math id="mml-ieqn-130" overflow="scroll"><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="script">R</mml:mi></mml:mrow></mml:mrow><mml:mi mathvariant="normal">′</mml:mi></mml:msup></mml:mrow></mml:math></alternatives></inline-formula>. One way to think about this that this ensures that the message from a node to itself is prioritised over incoming messages from neighboring nodes. In our implementation, we separate out <inline-formula id="ieqn-131"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i132.jpg"/><tex-math id="tex-ieqn-131">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_s}$\end{document}</tex-math><mml:math id="mml-ieqn-131" overflow="scroll"><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>s</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> from <italic toggle="yes">A</italic> and then apply the different edge dropout rates separately. The edge dropout is performed before row-wise normalising <italic toggle="yes">A</italic>.</p>
      </sec>
      <sec>
        <title>Edge sampling</title>
        <p>Graph batching is required for training the RGCN-based link prediction model, because it is computationally expensive to perform message passing over the entire graph due to the large number of hidden units used for the RGCN<xref rid="fn-15" ref-type="fn"><sup>15</sup></xref>
<fn id="fn-15"><label>15</label><p><xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> use a large number of hidden units: 200 for FB15k and WN18; 500 for FB15k-237. In the node classification fewer hidden units are required in the RGCN. This makes the link prediction model more memory demanding.</p></fn>.</p>
        <p><xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> sample an edge with the probability proportional to its weight. In <italic toggle="yes">uniform edge sampling</italic>, equal weights are given to all the edges. However, in <italic toggle="yes">neighborhood edge sampling</italic>, initial weights are proportional to the node degrees of vertices connected to edges. Then as edges are being sampled, the weight of its neighboring edges is increased and this increases the probability of these edges being sampled (<xref rid="ref-26" ref-type="bibr">Klusowski &amp; Wu, 2018</xref>). This sampling approach benefits link prediction because the neighboring edges provide context information to deduce the existence of a relation between a given pair of entities. In contrast, uniform edge sampling assumes that all edges are independent of each other, which is not applicable to Knowledge Graphs.</p>
      </sec>
    </sec>
    <sec>
      <title>Link prediction experiments</title>
      <p>As in the original article, the models are evaluated using Mean Reciprocal Rank (MRR) and Hits@<italic toggle="yes">k</italic> (<italic toggle="yes">k</italic> = 1, 3 or 10). The Torch-RGCN model was trained for 7,000 epochs without early stopping<xref rid="fn-16" ref-type="fn"><sup>16</sup></xref>
<fn id="fn-16"><label>16</label><p>Personal communication with the author confirmed that early stopping was not used in the original work.</p></fn>. We monitored the training by evaluating the model at regular intervals (every 500 epochs) using the validation dataset. Schlichtkrull initialisation (<italic toggle="yes">see Appendix</italic>) was used to initialise all parameters in the link prediction models and in our reproductions. <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> trained their models on the CPU. Our Torch-RGCN implementation can be trained using GPU acceleration. Early stopping was not used. We used the hyperparameters described in (<xref rid="ref-36" ref-type="bibr">Schlichtkrull et al., 2018</xref>).</p>
      <sec>
        <title>Datasets</title>
        <p>To evaluate link prediction, <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> used subsets of Freebase (FB-15k and FB15k-237), and WordNet (WN18) (<xref rid="ref-6" ref-type="bibr">Bordes et al., 2013</xref>). We only use WN18<xref rid="fn-17" ref-type="fn"><sup>17</sup></xref>
<fn id="fn-17"><label>17</label><p>The link prediction model was expensive to train (3–5 days of training for a single model). WN18 was sufficient to establish reproduction.</p></fn>. WN18 is a subset of WordNet, a graph which describes the lexical relations between words. To check our reproduction, we also used FB-Toy (<xref rid="ref-35" ref-type="bibr">Ruffinelli, Broscheit &amp; Gemulla, 2020</xref>) which was not in the original article. FB-Toy is a dataset consisting of a subset of FB15k. In <xref rid="table-3" ref-type="table">Table 3</xref>, we show the statistics corresponding to these graph datasets.</p>
        <table-wrap position="float" id="table-3">
          <object-id pub-id-type="doi">10.7717/peerj-cs.1073/table-3</object-id>
          <label>Table 3</label>
          <caption>
            <title>Statistics about link prediction benchmark datasets.</title>
          </caption>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-g011" position="float"/>
            <table frame="hsides" rules="groups" content-type="text">
              <colgroup span="1">
                <col span="1"/>
                <col span="1"/>
                <col span="1"/>
              </colgroup>
              <thead>
                <tr>
                  <th rowspan="1" colspan="1">Dataset</th>
                  <th rowspan="1" colspan="1">WN18</th>
                  <th rowspan="1" colspan="1">FB-Toy</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td rowspan="1" colspan="1">Entities</td>
                  <td rowspan="1" colspan="1">40,943</td>
                  <td rowspan="1" colspan="1">280</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">Relations</td>
                  <td rowspan="1" colspan="1">18</td>
                  <td rowspan="1" colspan="1">112</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">Train edges</td>
                  <td rowspan="1" colspan="1">141,442</td>
                  <td rowspan="1" colspan="1">4,565</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">Val. edges</td>
                  <td rowspan="1" colspan="1">5,000</td>
                  <td rowspan="1" colspan="1">109</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">Test edges</td>
                  <td rowspan="1" colspan="1">5,000</td>
                  <td rowspan="1" colspan="1">152</td>
                </tr>
              </tbody>
            </table>
          </alternatives>
          <table-wrap-foot>
            <fn id="table-3fn">
              <p>
                <bold>Note:</bold>
              </p>
            </fn>
            <fn id="table-3fn1" fn-type="other">
              <p>Number of entities and relation types along with the number of edges per split for the three datasets.</p>
            </fn>
          </table-wrap-foot>
        </table-wrap>
      </sec>
      <sec>
        <title>Details</title>
        <p>For link prediction, a single-layer RGCN with basis decomposition for WN18 and for FB-Toy a two-layer RGCN with block diagonal decomposition is used. An <inline-formula id="ieqn-132"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i133.jpg"/><tex-math id="tex-ieqn-132">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal L}}2$\end{document}</tex-math><mml:math id="mml-ieqn-132" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">L</mml:mi></mml:mrow></mml:mrow><mml:mn>2</mml:mn></mml:math></alternatives></inline-formula> regularisation penalty of 0.01 for the scoring function is applied. To compute the <italic toggle="yes">filtered</italic> link prediction scores, triples that occur in the training, validation and test are filtered. The Torch-RGCN model is trained on the WN18 and FB-Toy datasets using batched training. Edges are randomly sampled from a Knowledge Graph using the neighborhood edge approach. A total of 30,000 neighboring edges are randomly sampled at every epoch for the WN18 dataset (<xref rid="ref-36" ref-type="bibr">Schlichtkrull et al., 2018</xref>), and for FB-toy dataset, we sampled 300 neighboring edges<xref rid="fn-18" ref-type="fn"><sup>18</sup></xref>
<fn id="fn-18"><label>18</label><p>We sampled only 300 edges because the FB-toy dataset was roughly 100 times smaller than the WN18 dataset (in terms of number of nodes).</p></fn>. An edge dropout rate of 0.2 is applied for self-loops and 0.5 for data edges and inverse edges. In our reproduction attempts, we have found that this approach enables the model to perform better than uniform edge sampling. The RGCN is initialised using Schlichtkrull normal initialisation (<italic toggle="yes">see Appendix</italic>), while the DistMult scoring function is initialised using standard normal initialisation.</p>
        <p>We follow the standard protocol for link prediction. See <xref rid="ref-35" ref-type="bibr">Ruffinelli, Broscheit &amp; Gemulla (2020)</xref> for more details. Some of the hyperparameters used in training were not detailed in <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref>. To the furthest extent possible, we followed the same training regime as the original article and code base, and we recovered missing hyperparameters. The hyperparameters for all experiments are provided in documented configuration files on <uri xlink:href="https://github.com/thiviyanT/torch-rgcn">https://github.com/thiviyanT/torch-rgcn</uri>.</p>
      </sec>
      <sec sec-type="results">
        <title>Results</title>
        <p>We verify the <italic toggle="yes">correctness</italic> of our implementation by reproducing the performance on a small dataset (FB-Toy) and by comparing the statistics of various intermediate tensors in the implementation with those of the reference implementation (<uri xlink:href="https://github.com/MichSchli/RelationPrediction">https://github.com/MichSchli/RelationPrediction</uri>). We selected a number of intermediate tensors in the link prediction model in our implementation and the original implementation. Then, we measured the statistics of the intermediate tensors. In <xref rid="table-4" ref-type="table">Table 4</xref> we report the statistics of the intermediate tensors for TF-RGCN (original model) and Torch-RGCN (our implementation) link prediction models. These results suggests that the parameters used by both models came from a similar distribution and thus verified that they are one-to-one replication.</p>
        <table-wrap position="float" id="table-4">
          <object-id pub-id-type="doi">10.7717/peerj-cs.1073/table-4</object-id>
          <label>Table 4</label>
          <caption>
            <title>Parameter statistics for intermediate products at various points in link prediction model for the FB-Toy dataset.</title>
          </caption>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-g012" position="float"/>
            <table frame="hsides" rules="groups" content-type="text">
              <colgroup span="1">
                <col span="1"/>
                <col span="1"/>
                <col span="1"/>
                <col span="1"/>
                <col span="1"/>
                <col span="1"/>
              </colgroup>
              <thead>
                <tr>
                  <th rowspan="2" colspan="1">No.</th>
                  <th rowspan="2" colspan="1">Intermediate tensors</th>
                  <th rowspan="2" colspan="1">Tensor dimensions</th>
                  <th rowspan="2" colspan="1"/>
                  <th colspan="2" rowspan="1">Parameter statistics</th>
                </tr>
                <tr>
                  <th rowspan="1" colspan="1">TF-RGCN</th>
                  <th rowspan="1" colspan="1">Torch-RGCN</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td rowspan="4" colspan="1">1</td>
                  <td rowspan="4" colspan="1">Node Embeddings: Initialisation</td>
                  <td rowspan="4" colspan="1">280 × 500</td>
                  <td rowspan="1" colspan="1">min</td>
                  <td rowspan="1" colspan="1">−0.45209</td>
                  <td rowspan="1" colspan="1">−0.48939</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">max</td>
                  <td rowspan="1" colspan="1">0.45702</td>
                  <td rowspan="1" colspan="1">0.48641</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">mean</td>
                  <td rowspan="1" colspan="1">−0.00004</td>
                  <td rowspan="1" colspan="1">0.00029</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">std</td>
                  <td rowspan="1" colspan="1">0.10697</td>
                  <td rowspan="1" colspan="1">0.10765</td>
                </tr>
                <tr>
                  <td rowspan="4" colspan="1">2</td>
                  <td rowspan="4" colspan="1">Node Embeddings: Output</td>
                  <td rowspan="4" colspan="1">280 × 500</td>
                  <td rowspan="1" colspan="1">min</td>
                  <td rowspan="1" colspan="1">0.0</td>
                  <td rowspan="1" colspan="1">0.0</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">max</td>
                  <td rowspan="1" colspan="1">0.47124</td>
                  <td rowspan="1" colspan="1">0.51221</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">mean</td>
                  <td rowspan="1" colspan="1">0.04318</td>
                  <td rowspan="1" colspan="1">0.04290</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">std</td>
                  <td rowspan="1" colspan="1">0.06301</td>
                  <td rowspan="1" colspan="1">0.06273</td>
                </tr>
                <tr>
                  <td rowspan="4" colspan="1">3</td>
                  <td rowspan="4" colspan="1">RGCN Layer 1: Block Initialisation for data edges and inverse edges<sup><xref rid="table-3fn1" ref-type="table-fn">†</xref></sup></td>
                  <td rowspan="4" colspan="1">224 × 100 × 5 × 5</td>
                  <td rowspan="1" colspan="1">min</td>
                  <td rowspan="1" colspan="1">−1.38892 &amp; −1.20551</td>
                  <td rowspan="1" colspan="1">−1.28504</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">max</td>
                  <td rowspan="1" colspan="1">1.47686 &amp; 1.3872786</td>
                  <td rowspan="1" colspan="1">1.26404</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">mean</td>
                  <td rowspan="1" colspan="1">0.00007 &amp; −0.00008</td>
                  <td rowspan="1" colspan="1">0.00001</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">std</td>
                  <td rowspan="1" colspan="1">0.27726 &amp; 0.27692</td>
                  <td rowspan="1" colspan="1">0.27715</td>
                </tr>
                <tr>
                  <td rowspan="4" colspan="1">4</td>
                  <td rowspan="4" colspan="1">RGCN Layer 1: Block Initialisation for self-loops</td>
                  <td rowspan="4" colspan="1">500 × 500</td>
                  <td rowspan="1" colspan="1">min</td>
                  <td rowspan="1" colspan="1">−1.23380</td>
                  <td rowspan="1" colspan="1">−1.20324</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">max</td>
                  <td rowspan="1" colspan="1">1.30949</td>
                  <td rowspan="1" colspan="1">1.16375</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">mean</td>
                  <td rowspan="1" colspan="1">−0.00049</td>
                  <td rowspan="1" colspan="1">−0.00095</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">std</td>
                  <td rowspan="1" colspan="1">0.27716</td>
                  <td rowspan="1" colspan="1">0.27755</td>
                </tr>
                <tr>
                  <td rowspan="4" colspan="1">5</td>
                  <td rowspan="4" colspan="1">RGCN Layer 1: Output</td>
                  <td rowspan="4" colspan="1">280 × 500</td>
                  <td rowspan="1" colspan="1">min</td>
                  <td rowspan="1" colspan="1">−2.58617</td>
                  <td rowspan="1" colspan="1">−2.75152</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">max</td>
                  <td rowspan="1" colspan="1">2.43774</td>
                  <td rowspan="1" colspan="1">2.63124</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">mean</td>
                  <td rowspan="1" colspan="1">0.02317</td>
                  <td rowspan="1" colspan="1">0.00799</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">std</td>
                  <td rowspan="1" colspan="1">0.51760</td>
                  <td rowspan="1" colspan="1">0.53759</td>
                </tr>
                <tr>
                  <td rowspan="4" colspan="1">6</td>
                  <td rowspan="4" colspan="1">DistMult: Relation Initialisation</td>
                  <td rowspan="4" colspan="1">112 × 500</td>
                  <td rowspan="1" colspan="1">min</td>
                  <td rowspan="1" colspan="1">−4.12359</td>
                  <td rowspan="1" colspan="1">−3.97444</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">max</td>
                  <td rowspan="1" colspan="1">4.89700</td>
                  <td rowspan="1" colspan="1">3.95794</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">mean</td>
                  <td rowspan="1" colspan="1">−0.00947</td>
                  <td rowspan="1" colspan="1">−0.00186</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">std</td>
                  <td rowspan="1" colspan="1">0.99675</td>
                  <td rowspan="1" colspan="1">0.99851</td>
                </tr>
                <tr>
                  <td rowspan="4" colspan="1">7</td>
                  <td rowspan="4" colspan="1">DistMult: Output</td>
                  <td rowspan="4" colspan="1">3,300 × 1</td>
                  <td rowspan="1" colspan="1">min</td>
                  <td rowspan="1" colspan="1">−27.21030</td>
                  <td rowspan="1" colspan="1">−30.75097</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">max</td>
                  <td rowspan="1" colspan="1">27.0885849</td>
                  <td rowspan="1" colspan="1">25.89389</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">mean</td>
                  <td rowspan="1" colspan="1">0.03524</td>
                  <td rowspan="1" colspan="1">0.78507</td>
                </tr>
                <tr>
                  <td rowspan="1" colspan="1">std</td>
                  <td rowspan="1" colspan="1">7.75823</td>
                  <td rowspan="1" colspan="1">7.27595</td>
                </tr>
              </tbody>
            </table>
          </alternatives>
          <table-wrap-foot>
            <fn id="table-4fn">
              <p>
                <bold>Notes:</bold>
              </p>
            </fn>
            <fn id="table-4fn1" fn-type="other">
              <p>We report the minimum, maximum, mean and the standard deviation of the distributions.</p>
            </fn>
            <fn id="table-4fn2" fn-type="other">
              <label>†</label>
              <p><xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> used separate weight matrices for data edges <inline-formula id="ieqn-133"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i134.jpg"/><tex-math id="tex-ieqn-133">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\cal R$\end{document}</tex-math><mml:math id="mml-ieqn-133" overflow="scroll"><mml:mi mathvariant="script">R</mml:mi></mml:math></alternatives></inline-formula> and inverse edges <inline-formula id="ieqn-134"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i135.jpg"/><tex-math id="tex-ieqn-134">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\cal R}^\prime$\end{document}</tex-math><mml:math id="mml-ieqn-134" overflow="scroll"><mml:msup><mml:mrow><mml:mi mathvariant="script">R</mml:mi></mml:mrow><mml:mi mathvariant="normal">′</mml:mi></mml:msup></mml:math></alternatives></inline-formula>, resulting in two intermediate tensors with the dimensions 112 × 100 × 5 × 5. Thus, we report the statistics for these two tensors.</p>
            </fn>
          </table-wrap-foot>
        </table-wrap>
        <p>After confirming that our reproduction is correct, we attempted to replicate the link prediction results on the WN18 dataset<xref rid="fn-19" ref-type="fn"><sup>19</sup></xref>
<fn id="fn-19"><label>19</label><p>Runs on FB15k and FB15k-237 took from 3 to 5 days to complete training.</p></fn>. <xref rid="table-5" ref-type="table">Table 5</xref> also shows the results of the link prediction experiments carried out. Our Torch-RGCN implementation scored lower than the TF-RGCN model and therefore, we were unable to duplicate the exact results reported in the original article. The exact hyperparameters that <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> used in their experiments were not publicly available. We believe that the discrepancies between the Torch-RGCN scores and the TF-RGCN scores was caused as a result of using different hyperparameter configurations.</p>
        <p>Despite our best efforts, we were unable to reproduce the exact link prediction results reported in the original article (<xref rid="ref-36" ref-type="bibr">Schlichtkrull et al., 2018</xref>). This is due to the multitude of hyperparameters<xref rid="fn-20" ref-type="fn"><sup>20</sup></xref>
<fn id="fn-20"><label>20</label><p>There are at least 10 non-trivial hyperparameters: Number of Epochs, Learning Rate, Graph Batch Size, Negative Sampling Rate, Number of RGCN layers, Dimension of RGCN layers, Weight Decomposition Method, Number of Blocks or number of basis functions, Edge Dropout Rate, <inline-formula id="ieqn-135"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i136.jpg"/><tex-math id="tex-ieqn-135">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\cal {L}$\end{document}</tex-math><mml:math id="mml-ieqn-135" overflow="scroll"><mml:mrow><mml:mi mathvariant="script">L</mml:mi><mml:mn mathvariant="script">2</mml:mn></mml:mrow></mml:math></alternatives></inline-formula>2 regularisation penalty for the scoring function.</p></fn>, not all of which are specified in the article, and the long time required to train the model, with runtimes of several days. We did however manage to show the correctness of our implementation using a small-scale experiment. We consider this an acceptable limitation of our reproduction, because the current training time of the RGCN compared to the state of the art KGE models (<xref rid="ref-35" ref-type="bibr">Ruffinelli, Broscheit &amp; Gemulla, 2020</xref>). A Distmult embedding model can be trained in well under an hour on any of the standard benchmarks, and as shown by <xref rid="ref-35" ref-type="bibr">Ruffinelli, Broscheit &amp; Gemulla (2020)</xref>, outperforms the RGCN by a considerable margin. Thus, the precise link prediction architecture described in <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> is less relevant in the research landscape.</p>
      </sec>
    </sec>
    <sec>
      <title>c-RGCN</title>
      <p>The link prediction architecture presented in <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> does not represent a realistic competitor for the state of the art and is very costly to use on large graphs. Furthermore, a problem with the original RGCN link predictor is that we need high dimensional node representations to be competitive with traditional link predictors, such as DistMult (<xref rid="ref-41" ref-type="bibr">Yang et al., 2015</xref>), but the RGCN is expensive for high dimensions. However, we do believe that the basic idea of message passing is worth exploring further in a link prediction setting.</p>
      <p>To show that there is promise in this direction, we offer a simplified link prediction architecture that uses a fraction of the parameters of the original implementation (<xref rid="ref-36" ref-type="bibr">Schlichtkrull et al., 2018</xref>) uses. This variant places a bottleneck architecture around the RGCN in the link prediction model, such that the node embedding matrix <italic toggle="yes">E</italic> is projected down to a lower dimension, <italic toggle="yes">C</italic>, and then the RGCN performs message propagation using the compressed node embeddings. Finally, the output is projected up back to the original dimension, <italic toggle="yes">D</italic>, and computes the DistMult score from the resulting high-dimensional node representations. We call this encoding network the <italic toggle="yes">compression-RGCN</italic> (c-RGCN). <xref rid="fig-7" ref-type="fig">Figure 7</xref> shows a schematic representation of the c-RGCN model. <xref rid="eqn-15" ref-type="disp-formula">Equations (15)</xref> and <xref rid="eqn-16" ref-type="disp-formula">(16)</xref> show the message passing rule for the first and second layer of the c-RGCN encoder, respectively. We selected a node embedding size of 128 and compressed it to a vector dimension of 16. We also include a residual connection by including <italic toggle="yes">E</italic> in the second layer of the c-RGCN. The residual connection allows the model, in principle, to revert back to DistMult if the message passing adds no value. If all RGCN weights are set to 0, we recover the original DistMult. The c-RGCN model can be trained on the GPU.</p>
      <fig position="float" id="fig-7">
        <object-id pub-id-type="doi">10.7717/peerj-cs.1073/fig-7</object-id>
        <label>Figure 7</label>
        <caption>
          <title>A schematic visualisation of c-RGCN based link prediction model.</title>
          <p>Here, the encoder has a bottleneck architecture. <inline-formula id="ieqn-136"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i137.jpg"/><tex-math id="tex-ieqn-136">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$f_{\theta}$\end{document}</tex-math><mml:math id="mml-ieqn-136" overflow="scroll"><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>θ</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> and <inline-formula id="ieqn-137"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i138.jpg"/><tex-math id="tex-ieqn-137">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$g_{\phi}$\end{document}</tex-math><mml:math id="mml-ieqn-137" overflow="scroll"><mml:msub><mml:mi>g</mml:mi><mml:mrow><mml:mi>ϕ</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> are linear layers. Prior to message passing <inline-formula id="ieqn-138"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i139.jpg"/><tex-math id="tex-ieqn-138">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$f_{\theta}$\end{document}</tex-math><mml:math id="mml-ieqn-138" overflow="scroll"><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>θ</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> compresses the input node embeddings, and then <inline-formula id="ieqn-139"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i140.jpg"/><tex-math id="tex-ieqn-139">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$g_{\phi}$\end{document}</tex-math><mml:math id="mml-ieqn-139" overflow="scroll"><mml:msub><mml:mi>g</mml:mi><mml:mrow><mml:mi>ϕ</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> projects the mixed node embeddings back up to their original dimensions. The red arrow indicates the residual connection. All edges from the training set are used (<italic toggle="yes">i.e.</italic>, edge sampling is not required).</p>
        </caption>
        <graphic xlink:href="peerj-cs-08-1073-g007" position="float"/>
      </fig>
      <p><disp-formula id="eqn-15"><label>(15)</label><alternatives><graphic xlink:href="peerj-cs-08-1073-e015.jpg" position="float"/><tex-math id="tex-eqn-15">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$${H^1} = \sigma \left( {\sum\limits_{r = 1}^{{R^ + }} A \;{W_r}\;{f_\theta }(E)} \right),$$\end{document}</tex-math><mml:math id="mml-eqn-15" display="block" overflow="scroll"><mml:mrow><mml:msup><mml:mi>H</mml:mi><mml:mn>1</mml:mn></mml:msup></mml:mrow><mml:mo>=</mml:mo><mml:mi>σ</mml:mi><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:munderover><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mi>r</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>+</mml:mo></mml:msup></mml:mrow></mml:mrow></mml:munderover><mml:mi>A</mml:mi><mml:mspace width="thickmathspace"/><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow><mml:mspace width="thickmathspace"/><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mi>θ</mml:mi></mml:msub></mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>E</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mo>,</mml:mo></mml:math></alternatives></disp-formula>where <inline-formula id="ieqn-140"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i141.jpg"/><tex-math id="tex-ieqn-140">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$f(X) = X{W_\theta } + b$\end{document}</tex-math><mml:math id="mml-ieqn-140" overflow="scroll"><mml:mi>f</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>X</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>=</mml:mo><mml:mi>X</mml:mi><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>θ</mml:mi></mml:msub></mml:mrow><mml:mo>+</mml:mo><mml:mi>b</mml:mi></mml:math></alternatives></inline-formula> with <inline-formula id="ieqn-141"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i142.jpg"/><tex-math id="tex-ieqn-141">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_\theta } \in {{\mathbb R}^{C \times D}}$\end{document}</tex-math><mml:math id="mml-ieqn-141" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>θ</mml:mi></mml:msub></mml:mrow><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mi>C</mml:mi><mml:mo>×</mml:mo><mml:mi>D</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula>.</p>
      <p><disp-formula id="eqn-16"><label>(16)</label><alternatives><graphic xlink:href="peerj-cs-08-1073-e016.jpg" position="float"/><tex-math id="tex-eqn-16">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$${H^2} = E + {g_\phi }\left( {\sigma \left( {\sum\limits_{r = 1}^{{R^ + }} A \;{W_r}\;{H^1}} \right)} \right),$$\end{document}</tex-math><mml:math id="mml-eqn-16" display="block" overflow="scroll"><mml:mrow><mml:msup><mml:mi>H</mml:mi><mml:mn>2</mml:mn></mml:msup></mml:mrow><mml:mo>=</mml:mo><mml:mi>E</mml:mi><mml:mo>+</mml:mo><mml:mrow><mml:msub><mml:mi>g</mml:mi><mml:mi>ϕ</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>σ</mml:mi><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:munderover><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mi>r</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mrow><mml:msup><mml:mi>R</mml:mi><mml:mo>+</mml:mo></mml:msup></mml:mrow></mml:mrow></mml:munderover><mml:mi>A</mml:mi><mml:mspace width="thickmathspace"/><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow><mml:mspace width="thickmathspace"/><mml:mrow><mml:msup><mml:mi>H</mml:mi><mml:mn>1</mml:mn></mml:msup></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mo>,</mml:mo></mml:math></alternatives></disp-formula>where <inline-formula id="ieqn-142"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i143.jpg"/><tex-math id="tex-ieqn-142">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$g(X) = X{W_\phi } + b$\end{document}</tex-math><mml:math id="mml-ieqn-142" overflow="scroll"><mml:mi>g</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>X</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>=</mml:mo><mml:mi>X</mml:mi><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>ϕ</mml:mi></mml:msub></mml:mrow><mml:mo>+</mml:mo><mml:mi>b</mml:mi></mml:math></alternatives></inline-formula> with <inline-formula id="ieqn-143"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i144.jpg"/><tex-math id="tex-ieqn-143">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_\phi } \in {{\mathbb R}^{D \times C}}$\end{document}</tex-math><mml:math id="mml-ieqn-143" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>ϕ</mml:mi></mml:msub></mml:mrow><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mi>D</mml:mi><mml:mo>×</mml:mo><mml:mi>C</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula>.</p>
      <p>As shown in <xref rid="table-5" ref-type="table">Table 5</xref>, the c-RGCN does not perform much worse than the original implementation. However, it is much faster, and memory efficient enough for full batch evaluation on the GPU. There is a clear trade-off between compression size of the node embeddings and the performance in link prediction. While this result is far from a state of the art model, it serves as a proof-of-concept that there may be ways to configure RGCN models for a better performance/efficiency tradeoff.</p>
      <table-wrap position="float" id="table-5">
        <object-id pub-id-type="doi">10.7717/peerj-cs.1073/table-5</object-id>
        <label>Table 5</label>
        <caption>
          <title>Mean reciprocal rank (MRR) and Hits@<italic toggle="yes">k</italic> (<italic toggle="yes">k</italic> = 1, 3 and 10) for link prediction using RGCN, Torch-RGCN and c-RGCN.</title>
        </caption>
        <alternatives>
          <graphic xlink:href="peerj-cs-08-1073-g013" position="float"/>
          <table frame="hsides" rules="groups" content-type="text">
            <colgroup span="1">
              <col span="1"/>
              <col span="1"/>
              <col span="1"/>
              <col span="1"/>
              <col span="1"/>
              <col span="1"/>
            </colgroup>
            <thead>
              <tr>
                <th rowspan="1" colspan="1">Dataset</th>
                <th rowspan="1" colspan="1">Model</th>
                <th rowspan="1" colspan="1">MRR</th>
                <th rowspan="1" colspan="1">Hits@1</th>
                <th rowspan="1" colspan="1">Hits@3</th>
                <th rowspan="1" colspan="1">Hits@10</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td rowspan="3" colspan="1">WN18</td>
                <td rowspan="1" colspan="1">TF-RGCN</td>
                <td rowspan="1" colspan="1">0.814</td>
                <td rowspan="1" colspan="1">0.686</td>
                <td rowspan="1" colspan="1">0.928</td>
                <td rowspan="1" colspan="1">0.955</td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">Torch-RGCN</td>
                <td rowspan="1" colspan="1">0.749</td>
                <td rowspan="1" colspan="1">0.590</td>
                <td rowspan="1" colspan="1">0.908</td>
                <td rowspan="1" colspan="1">0.939</td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">c-RGCN</td>
                <td rowspan="1" colspan="1">0.717</td>
                <td rowspan="1" colspan="1">0.558</td>
                <td rowspan="1" colspan="1">0.867</td>
                <td rowspan="1" colspan="1">0.933</td>
              </tr>
            </tbody>
          </table>
        </alternatives>
        <table-wrap-foot>
          <fn id="table-5fn">
            <p>
              <bold>Note:</bold>
            </p>
          </fn>
          <fn id="table-5fn1" fn-type="other">
            <p>Triples from the truth set (train, validation and test set) have been filtered. Results for TF-RGCN was taken from the original article.</p>
          </fn>
        </table-wrap-foot>
      </table-wrap>
    </sec>
  </sec>
  <sec sec-type="discussion">
    <title>Discussion</title>
    <p>We now discuss the implications for the use of the RGCN model, the performance of the new variants and the lessons learned from this reproduction.</p>
    <sec>
      <title>Implications for RGCN usage</title>
      <p>We believe that Relational Graph Convolutional Networks are still very relevant because it is one of the simplest members of the message passing models and is a good starting place for exploration of machine learning for Knowledge Graphs.</p>
      <p>RGCNs clearly perform well on node classification tasks because the task of classifying nodes benefits from message passing. This means that a class for a particular node is selected by reasoning about the classes of neighboring nodes. For example, a researcher can be categorised into a research domain by reasoning about information regarding their research group and close collaborators. There is no direct way to perform node classification using traditional Knowledge Graph Embeddings (KGE) models, such as TransE and DistMult.</p>
      <p>While the RGCN is a promising framework, in its current setting we found that the link prediction model proposed by <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> is not competitive with current state of the art (<xref rid="ref-35" ref-type="bibr">Ruffinelli, Broscheit &amp; Gemulla, 2020</xref>) and the model is too expensive with considerably lower performance. In our article, we clarify that RGCN-based link predictors are extensions of KGE models (<xref rid="ref-35" ref-type="bibr">Ruffinelli, Broscheit &amp; Gemulla, 2020</xref>), thus training RGCN to predict links will always be more expensive than using a state of the art KGE model. RGCN-based link predictor take several days to train, while state of the art relation models run in well under an hour (<xref rid="ref-35" ref-type="bibr">Ruffinelli, Broscheit &amp; Gemulla, 2020</xref>).</p>
      <p>To aid the usage of RGCN, we presented two new configurations of the RGCN:</p>
      <p><bold>e-RGCN.</bold> We propose a new variant of the node classification model which uses significantly less parameters by exploiting a diagonal weight matrix. Our results indicate that e-RGCN has the potential to perform competitively with the original model and deserves further investigation. The potential advantage of e-RGCN is that it can operate on graphs that are much larger than the benchmark datasets we used in our reproduction studies.</p>
      <p><bold>c-RGCN.</bold> We also present a proof-of-concept model that performs message passing over compressed graph inputs and thus, improves the parameter efficiency for link prediction. The c-RGCN has several advantages over the regular RGCN link predictor: (1) c-RGCN does not require sampling edges, because it is able to process the entire graph in full-batch, (2) c-RGCN takes a fraction of the time it takes to train an RGCN link predictor, (3) c-RGCN uses fewer parameters, and (4) it is straightforward to implement. Although the results for the c-RGCN are not as strong, this sets a path for further development towards efficient message models for relational graphs.</p>
    </sec>
    <sec>
      <title>Reproduction</title>
      <p>Evolving technologies pose several challenges for the reproducibilty of research artifacts. This includes frequent updates being made to existing frameworks, such as PyTorch and TensorFlow, often breaking backward compatibility. We were in a strong position to execute this reproduction: (1) an author of this article also worked on the original article, (2) we contacted one of the lead authors of this article who was very responsive and (3) we were able to run the original source code (<uri xlink:href="https://github.com/tkipf/relational-gcn">https://github.com/tkipf/relational-gcn</uri> and <uri xlink:href="https://github.com/MichSchli/RelationPrediction">https://github.com/MichSchli/RelationPrediction</uri>) inside a virtual environment. Nevertheless, we found it considerably challenging to make a complete reproduction. To explain why and to contribute to avoiding such situations in the future, we briefly outline the lessons we have learned during the reproduction.</p>
      <p><bold>Parameter Statistics.</bold> There were discrepancies between the description of the link prediction model in <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> and the source code. The source code reproduces the values similar to the MRR scores reported in <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref>. Thus, to reproduce the results we had to perform a deep investigation of the source code. Using the original source, we relied on comparing the parameter statistics and tensor sizes at various points in both models. Since these statistics are helpful to verify the correctness of an implementation, we believe this is a useful practice in aiding reproduction. For complex models with long runtimes, an overview of descriptive statistics of parameter and output tensors for the first forward pass can help to check implementation without running full experiments. We are publishing statistics for intermediate products that we obtained for the link prediction models (see <xref rid="table-4" ref-type="table">Table 4</xref>).</p>
      <p><bold>Small dataset.</bold> We found that the link prediction datasets used by <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> were large and thus, impractical for debugging RGCN because it is costly to train them on large graphs. Using a smaller dataset (FB-Toy (<xref rid="ref-35" ref-type="bibr">Ruffinelli, Broscheit &amp; Gemulla, 2020</xref>)) would enable quicker testing with less memory consumption. Thus, we report link prediction results on the FB-Toy dataset (see <xref rid="table-7" ref-type="table">Table A2</xref>).</p>
      <p><bold>Training times.</bold> The training times were variable and strongly depended on the size of the graph, the number of relations and the number of epochs. <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> reported the computational complexity, but not practical training times. It turns out that this is an important source of uncertainty in verifying whether re-implementations are correct. We measured the runtimes, which includes training the model and using the pre-trained model for making inference. For 7,000 epochs, the link prediction runtimes for Torch-RGCN and c-RGCN on the WN18 dataset are 2,407 and 53 min, respectively. Node classification experiments took a few minutes to complete, because they only required 50–100 epochs. We encourage authors to report such concrete training times.</p>
      <p><bold>Hyperparameter Search.</bold> We found that hyperparameters reflect the complexity of the individual datasets. For example, AIFB, the smallest dataset, was not prone to overfitting. Whereas, the larger AM dateset required basis decomposition and needs a reduced hidden layer size. For link prediction, we were unable to identify the optimum hyperparameters for WN18, FB15k and FB15k-237 due to the sheer size of the hyperparameter space and long training times. We provide a detailed list of hyperparameter we use in our reproduction. While this is becoming more common in the literature, this serves as further evidence of the importance of this detailed hyperparameter reporting.</p>
      <p><bold>Other factors.</bold> We still faced the common challenges in software reproduction that others have long noted (<xref rid="ref-16" ref-type="bibr">Fokkens et al., 2013</xref>), including missing dependencies, outdated source code, and changing libraries. An additional challenge with machine learning models is that hardware (<italic toggle="yes">e.g.</italic>, GPUs) now also can impact the performance of the model itself. For instance, while we were able to run the original link prediction code in TensorFlow 1.4, the models no longer seemed to benefit from the available modern GPUs. Authors should be mindful that even if legacy code remains executable for a long time, executing it efficiently on modern hardware may stop being possible much sooner. Here too, reporting results on small-scale experiments can help to test reproductions without the benefit of hardware acceleration.</p>
    </sec>
  </sec>
  <sec sec-type="conclusions">
    <title>Conclusion</title>
    <p>We have presented a reproduction of the Relational Graph Convolutional Network and, using the reproduction, we provide a friendly explanation of how message passing works. Our new implementation of RGCN using PyTorch, TorchRGCN, is made openly available to the community. Furthermore, we also highlight subtleties of the RGCN that are crucial for its understanding, use and efficient implementation. While message passing is evidently useful for node classification, our findings also show that RGCN-based link predictors are currently too costly to make for a practical alternative to the state of the art. However, we believe that improving the parameter efficiency RGCNs could potentially make it more accessible. We present two novel configurations of the RGCN: (1) e-RGCN, which introduces node embeddings into the RGCN using fewer parameters than the original RGCN implementation, and (2) c-RGCN, a proof-of-concept model which compresses node embeddings and thus speeds up link prediction. These configurations provide the foundation for future work. We believe that the techniques proposed in this article may also be important for others implementing other message passing models. We hope that this can help serve the community in the use, development and research of this interesting model for machine learning on Knowledge Graphs.</p>
  </sec>
  <sec>
    <title>Appendix</title>
    <sec>
      <title>Proofs</title>
      <p><bold>Definition 1.</bold><italic toggle="yes">We define a relational graph</italic><inline-formula id="ieqn-168"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i145.jpg"/><tex-math id="tex-ieqn-168">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal G}}$\end{document}</tex-math><mml:math id="mml-ieqn-168" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">G</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula><italic toggle="yes">as a directed graph with labelled nodes and edges. F is the number of node features, R is the number of relations in the graph and N is the number of nodes in the graph</italic>. <inline-formula id="ieqn-169"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i146.jpg"/><tex-math id="tex-ieqn-169">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A^r} \in {{\mathbb R}^{R \times N \times N}}$\end{document}</tex-math><mml:math id="mml-ieqn-169" overflow="scroll"><mml:mrow><mml:msup><mml:mi>A</mml:mi><mml:mi>r</mml:mi></mml:msup></mml:mrow><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>×</mml:mo><mml:mi>N</mml:mi><mml:mo>×</mml:mo><mml:mi>N</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula><italic toggle="yes">is a tensor that describes the edge connectivity for every relation</italic>. <inline-formula id="ieqn-170"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i147.jpg"/><tex-math id="tex-ieqn-170">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A^h} = \left[ {\matrix{ {{A_1}}\cr {{A_2}} \cr {\; \vdots } \cr {{A_R}} \cr } } \right]$\end{document}</tex-math><mml:math id="mml-ieqn-170" overflow="scroll"><mml:mrow><mml:msup><mml:mi>A</mml:mi><mml:mi>h</mml:mi></mml:msup></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mtable rowspacing="4pt" columnspacing="1em"><mml:mtr><mml:mtd><mml:mrow><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mn>1</mml:mn></mml:msub></mml:mrow></mml:mrow></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mrow><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mn>2</mml:mn></mml:msub></mml:mrow></mml:mrow></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mrow><mml:mspace width="thickmathspace"/><mml:mo>⋮</mml:mo></mml:mrow></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mrow><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>R</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:math></alternatives></inline-formula><italic toggle="yes">is a matrix where the adjacency matrices corresponding to different relations are vertically stacked, and</italic><inline-formula id="ieqn-171"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i148.jpg"/><tex-math id="tex-ieqn-171">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A^v} = \left[ {{A_1}\;{A_2}\; \cdots \;{A_R}} \right]$\end{document}</tex-math><mml:math id="mml-ieqn-171" overflow="scroll"><mml:mrow><mml:msup><mml:mi>A</mml:mi><mml:mi>v</mml:mi></mml:msup></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mn>1</mml:mn></mml:msub></mml:mrow><mml:mspace width="thickmathspace"/><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mn>2</mml:mn></mml:msub></mml:mrow><mml:mspace width="thickmathspace"/><mml:mo>⋯</mml:mo><mml:mspace width="thickmathspace"/><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>R</mml:mi></mml:msub></mml:mrow></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:math></alternatives></inline-formula><italic toggle="yes">is a matrix where the adjacency matrices corresponding to different relations are horizontally stacked</italic>. <inline-formula id="ieqn-172"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i149.jpg"/><tex-math id="tex-ieqn-172">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$X \in {{\mathbb R}^{N \times F}}$\end{document}</tex-math><mml:math id="mml-ieqn-172" overflow="scroll"><mml:mi>X</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mi mathvariant="double-struck">R</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo>×</mml:mo><mml:mi>F</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></alternatives></inline-formula><italic toggle="yes">is a feature matrix</italic>. <inline-formula id="ieqn-173"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i150.jpg"/><tex-math id="tex-ieqn-173">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W^r}$\end{document}</tex-math><mml:math id="mml-ieqn-173" overflow="scroll"><mml:mrow><mml:msup><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msup></mml:mrow></mml:math></alternatives></inline-formula><italic toggle="yes">is a relation-specific weight matrix</italic>.</p>
      <p><bold>Theorem 1.</bold><italic toggle="yes">The vertically and horizontally stacked versions of the RGCN are equivalent to the original definition</italic>.</p>
      <p><italic toggle="yes">Proof</italic>. To show that the stacking trick yields the same operation as the original RGCN definition.</p>
      <p>First, we note that the non-linearity <inline-formula id="ieqn-174"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i151.jpg"/><tex-math id="tex-ieqn-174">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\sigma$\end{document}</tex-math><mml:math id="mml-ieqn-174" overflow="scroll"><mml:mi>σ</mml:mi></mml:math></alternatives></inline-formula> is an element-wise operation. We can ignore this, and show that the input to the non-linearity is the same in all three cases.</p>
      <p>To show this, we first express all three definitions in terms of the individual matrix elements. Writing the original R-GCN as</p>
      <p><disp-formula id="ueqn-18"><alternatives><graphic xlink:href="peerj-cs-08-1073-e017.jpg" position="float"/><tex-math id="tex-ueqn-18">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$G = \sum\limits_{r = 1}^R {{A^r}} \cdot X \cdot {W^r}$\end{document}</tex-math><mml:math id="mml-ueqn-18" overflow="scroll"><mml:mi>G</mml:mi><mml:mo>=</mml:mo><mml:munderover><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mi>r</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mi>R</mml:mi></mml:munderover><mml:mrow><mml:mrow><mml:msup><mml:mi>A</mml:mi><mml:mi>r</mml:mi></mml:msup></mml:mrow></mml:mrow><mml:mo>⋅</mml:mo><mml:mi>X</mml:mi><mml:mo>⋅</mml:mo><mml:mrow><mml:msup><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msup></mml:mrow></mml:math></alternatives></disp-formula>where <italic toggle="yes">X</italic> is the matrix of inputs, we can rewrite this operation in terms of the individual elements of <italic toggle="yes">G</italic> as</p>
      <p>
        <disp-formula id="ueqn-19">
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e018.jpg" position="float"/>
            <tex-math id="tex-ueqn-19">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\matrix{ {{{{G}_{r,i,j}^{\prime}}}} = \sum\limits_{k = 1}^N {A_{r,i,k}^r} \cdot {X_{r,k,j}}}$\end{document}</tex-math>
            <mml:math id="mml-ueqn-19" display="block" overflow="scroll">
              <mml:mtable rowspacing="4pt" columnspacing="1em">
                <mml:mtr>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mrow>
                        <mml:mrow>
                          <mml:msubsup>
                            <mml:mrow>
                              <mml:mi>G</mml:mi>
                            </mml:mrow>
                            <mml:mrow>
                              <mml:mi>r</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>i</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>j</mml:mi>
                            </mml:mrow>
                            <mml:mrow>
                              <mml:mi mathvariant="normal">′</mml:mi>
                            </mml:mrow>
                          </mml:msubsup>
                        </mml:mrow>
                      </mml:mrow>
                    </mml:mrow>
                    <mml:mo>=</mml:mo>
                    <mml:munderover>
                      <mml:mo movablelimits="false">∑</mml:mo>
                      <mml:mrow>
                        <mml:mi>k</mml:mi>
                        <mml:mo>=</mml:mo>
                        <mml:mn>1</mml:mn>
                      </mml:mrow>
                      <mml:mi>N</mml:mi>
                    </mml:munderover>
                    <mml:mrow>
                      <mml:msubsup>
                        <mml:mi>A</mml:mi>
                        <mml:mrow>
                          <mml:mi>r</mml:mi>
                          <mml:mo>,</mml:mo>
                          <mml:mi>i</mml:mi>
                          <mml:mo>,</mml:mo>
                          <mml:mi>k</mml:mi>
                        </mml:mrow>
                        <mml:mi>r</mml:mi>
                      </mml:msubsup>
                    </mml:mrow>
                    <mml:mo>⋅</mml:mo>
                    <mml:mrow>
                      <mml:msub>
                        <mml:mi>X</mml:mi>
                        <mml:mrow>
                          <mml:mi>r</mml:mi>
                          <mml:mo>,</mml:mo>
                          <mml:mi>k</mml:mi>
                          <mml:mo>,</mml:mo>
                          <mml:mi>j</mml:mi>
                        </mml:mrow>
                      </mml:msub>
                    </mml:mrow>
                  </mml:mtd>
                </mml:mtr>
              </mml:mtable>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>
        <disp-formula id="ueqn-20">
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e019.jpg" position="float"/>
            <tex-math id="tex-ueqn-20">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${G_{r,i,j}^{\prime\prime}}\matrix{ { = \sum\limits_{k = 1}^F {{{{G}^{\prime}}_{r,i,k}}} \cdot {W_{r,k,j}}}}$\end{document}</tex-math>
            <mml:math id="mml-ueqn-20" overflow="scroll">
              <mml:mrow>
                <mml:msubsup>
                  <mml:mi>G</mml:mi>
                  <mml:mrow>
                    <mml:mi>r</mml:mi>
                    <mml:mo>,</mml:mo>
                    <mml:mi>i</mml:mi>
                    <mml:mo>,</mml:mo>
                    <mml:mi>j</mml:mi>
                  </mml:mrow>
                  <mml:mrow>
                    <mml:mi mathvariant="normal">′</mml:mi>
                    <mml:mi mathvariant="normal">′</mml:mi>
                  </mml:mrow>
                </mml:msubsup>
              </mml:mrow>
              <mml:mtable rowspacing="4pt" columnspacing="1em">
                <mml:mtr>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:munderover>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mrow>
                          <mml:mi>k</mml:mi>
                          <mml:mo>=</mml:mo>
                          <mml:mn>1</mml:mn>
                        </mml:mrow>
                        <mml:mi>F</mml:mi>
                      </mml:munderover>
                      <mml:mrow>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mrow>
                              <mml:msup>
                                <mml:mrow>
                                  <mml:mi>G</mml:mi>
                                </mml:mrow>
                                <mml:mrow>
                                  <mml:mi mathvariant="normal">′</mml:mi>
                                </mml:mrow>
                              </mml:msup>
                            </mml:mrow>
                            <mml:mrow>
                              <mml:mi>r</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>i</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>k</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:mrow>
                      <mml:mo>⋅</mml:mo>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mi>W</mml:mi>
                          <mml:mrow>
                            <mml:mi>r</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>k</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                </mml:mtr>
              </mml:mtable>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>
        <disp-formula id="ueqn-21">
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e020.jpg" position="float"/>
            <tex-math id="tex-ueqn-21">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${G_{r,i,j}}\matrix = \sum\limits_{k = 1}^F {{{{G}_{r,i,j}^{\prime\prime}}.}}$\end{document}</tex-math>
            <mml:math id="mml-ueqn-21" overflow="scroll">
              <mml:mrow>
                <mml:msub>
                  <mml:mi>G</mml:mi>
                  <mml:mrow>
                    <mml:mi>r</mml:mi>
                    <mml:mo>,</mml:mo>
                    <mml:mi>i</mml:mi>
                    <mml:mo>,</mml:mo>
                    <mml:mi>j</mml:mi>
                  </mml:mrow>
                </mml:msub>
              </mml:mrow>
              <mml:mtable rowspacing="4pt" columnspacing="1em">
                <mml:mtr>
                  <mml:mtd>
                    <mml:mo>=</mml:mo>
                  </mml:mtd>
                </mml:mtr>
              </mml:mtable>
              <mml:munderover>
                <mml:mo movablelimits="false">∑</mml:mo>
                <mml:mrow>
                  <mml:mi>k</mml:mi>
                  <mml:mo>=</mml:mo>
                  <mml:mn>1</mml:mn>
                </mml:mrow>
                <mml:mi>F</mml:mi>
              </mml:munderover>
              <mml:mrow>
                <mml:mrow>
                  <mml:mrow>
                    <mml:msubsup>
                      <mml:mrow>
                        <mml:mi>G</mml:mi>
                      </mml:mrow>
                      <mml:mrow>
                        <mml:mi>r</mml:mi>
                        <mml:mo>,</mml:mo>
                        <mml:mi>i</mml:mi>
                        <mml:mo>,</mml:mo>
                        <mml:mi>j</mml:mi>
                      </mml:mrow>
                      <mml:mrow>
                        <mml:mi mathvariant="normal">′</mml:mi>
                        <mml:mi mathvariant="normal">′</mml:mi>
                      </mml:mrow>
                    </mml:msubsup>
                  </mml:mrow>
                </mml:mrow>
              </mml:mrow>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>Here, the first line shows a basic matrix multiplication, expressed element-wise <inline-formula id="ieqn-175"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i152.jpg"/><tex-math id="tex-ieqn-175">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${((AB)_{i,j}} = \sum\limits_k {{A_{i,k}}} \cdot {B_{k,j}})$\end{document}</tex-math><mml:math id="mml-ieqn-175" overflow="scroll"><mml:mrow><mml:mo stretchy="false">((</mml:mo><mml:mi>A</mml:mi><mml:mi>B</mml:mi><mml:msub><mml:mo stretchy="false">)</mml:mo><mml:mrow><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>=</mml:mo><mml:munder><mml:mo movablelimits="false">∑</mml:mo><mml:mi>k</mml:mi></mml:munder><mml:mrow><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>k</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mrow><mml:mo>⋅</mml:mo><mml:mrow><mml:msub><mml:mi>B</mml:mi><mml:mrow><mml:mi>k</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></alternatives></inline-formula>, the second shows another matrix multiplication, and the third sums the result over all relations.</p>
      <p>For the vertically stacked RGCN, we can write the computation of the output matrix <italic toggle="yes">V</italic> as</p>
      <p>
        <disp-formula id="ueqn-22">
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e021.jpg" position="float"/>
            <tex-math id="tex-ueqn-22">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\eqalign{ {{{{V}^{\prime}}_{i,j}}} &amp; { = \sum\limits_{k = 1}^N {A_{i,k}^v} \cdot {X_{k,j}}} \cr {{{{V}^{\prime \prime}}_{r,i,j}}} &amp; { = {{{V}^{\prime}}_{(r - 1)n + i,j}}} \cr {{{{V}^{\prime \prime \prime}}_{r,i,j}}} &amp; { = \sum\limits_{k = 1}^F {{{{V}^{\prime \prime}}_{r,i,j}}} \cdot {W_{r,k,j}}} \cr {{V_{i,j}}} &amp; { = \sum\limits_{r = 1}^R {{{{V}^{\prime \prime \prime}}_{r,i,j}}} {\rm .}} }$\end{document}</tex-math>
            <mml:math id="mml-ueqn-22" overflow="scroll">
              <mml:mtable rowspacing="4pt" columnspacing="1em">
                <mml:mtr>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mrow>
                            <mml:msup>
                              <mml:mrow>
                                <mml:mi>V</mml:mi>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="normal">′</mml:mi>
                              </mml:mrow>
                            </mml:msup>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:munderover>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mrow>
                          <mml:mi>k</mml:mi>
                          <mml:mo>=</mml:mo>
                          <mml:mn>1</mml:mn>
                        </mml:mrow>
                        <mml:mi>N</mml:mi>
                      </mml:munderover>
                      <mml:mrow>
                        <mml:msubsup>
                          <mml:mi>A</mml:mi>
                          <mml:mrow>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>k</mml:mi>
                          </mml:mrow>
                          <mml:mi>v</mml:mi>
                        </mml:msubsup>
                      </mml:mrow>
                      <mml:mo>⋅</mml:mo>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mi>X</mml:mi>
                          <mml:mrow>
                            <mml:mi>k</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                </mml:mtr>
                <mml:mtr>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mrow>
                            <mml:msup>
                              <mml:mrow>
                                <mml:mi>V</mml:mi>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="normal">′</mml:mi>
                                <mml:mi mathvariant="normal">′</mml:mi>
                              </mml:mrow>
                            </mml:msup>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mi>r</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mrow>
                            <mml:msup>
                              <mml:mrow>
                                <mml:mi>V</mml:mi>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="normal">′</mml:mi>
                              </mml:mrow>
                            </mml:msup>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mo stretchy="false">(</mml:mo>
                            <mml:mi>r</mml:mi>
                            <mml:mo>−</mml:mo>
                            <mml:mn>1</mml:mn>
                            <mml:mo stretchy="false">)</mml:mo>
                            <mml:mi>n</mml:mi>
                            <mml:mo>+</mml:mo>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                </mml:mtr>
                <mml:mtr>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mrow>
                            <mml:msup>
                              <mml:mrow>
                                <mml:mi>V</mml:mi>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="normal">′</mml:mi>
                                <mml:mi mathvariant="normal">′</mml:mi>
                                <mml:mi mathvariant="normal">′</mml:mi>
                              </mml:mrow>
                            </mml:msup>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mi>r</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:munderover>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mrow>
                          <mml:mi>k</mml:mi>
                          <mml:mo>=</mml:mo>
                          <mml:mn>1</mml:mn>
                        </mml:mrow>
                        <mml:mi>F</mml:mi>
                      </mml:munderover>
                      <mml:mrow>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mrow>
                              <mml:msup>
                                <mml:mrow>
                                  <mml:mi>V</mml:mi>
                                </mml:mrow>
                                <mml:mrow>
                                  <mml:mi mathvariant="normal">′</mml:mi>
                                  <mml:mi mathvariant="normal">′</mml:mi>
                                </mml:mrow>
                              </mml:msup>
                            </mml:mrow>
                            <mml:mrow>
                              <mml:mi>r</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>i</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>j</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:mrow>
                      <mml:mo>⋅</mml:mo>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mi>W</mml:mi>
                          <mml:mrow>
                            <mml:mi>r</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>k</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                </mml:mtr>
                <mml:mtr>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mi>V</mml:mi>
                          <mml:mrow>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:munderover>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mrow>
                          <mml:mi>r</mml:mi>
                          <mml:mo>=</mml:mo>
                          <mml:mn>1</mml:mn>
                        </mml:mrow>
                        <mml:mi>R</mml:mi>
                      </mml:munderover>
                      <mml:mrow>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mrow>
                              <mml:msup>
                                <mml:mrow>
                                  <mml:mi>V</mml:mi>
                                </mml:mrow>
                                <mml:mrow>
                                  <mml:mi mathvariant="normal">′</mml:mi>
                                  <mml:mi mathvariant="normal">′</mml:mi>
                                  <mml:mi mathvariant="normal">′</mml:mi>
                                </mml:mrow>
                              </mml:msup>
                            </mml:mrow>
                            <mml:mrow>
                              <mml:mi>r</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>i</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>j</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:mrow>
                      <mml:mspace width="thickmathspace"/>
                      <mml:mspace width="thickmathspace"/>
                      <mml:mrow>
                        <mml:mo>.</mml:mo>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                </mml:mtr>
              </mml:mtable>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>The first line again shows a matrix multiplication, but this time of the vertically stacked adjacency matrix with the feature matrix <italic toggle="yes">X</italic>. The second line reshapes this into a three-tensor separating our the relations. The third line is again a standard matrix multiplication and the final line sums out the relation.</p>
      <p>We note that <inline-formula id="ieqn-176"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i153.jpg"/><tex-math id="tex-ieqn-176">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${{V}^{\prime \prime}_{r,i,j}} = \sum\nolimits_{k = 1}^F {A_{(r - 1)n + i,k}^v} {X_{k,j}} = \sum\nolimits_{k = 1}^F {A_{r,i,k}^r} {X_{k,j}} = {{G}^{\prime}_{i,j}}$\end{document}</tex-math><mml:math id="mml-ieqn-176" overflow="scroll"><mml:mrow><mml:msubsup><mml:mrow><mml:mi>V</mml:mi></mml:mrow><mml:mrow><mml:mi>r</mml:mi><mml:mo>,</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi></mml:mrow><mml:mrow><mml:mi mathvariant="normal">′</mml:mi><mml:mi mathvariant="normal">′</mml:mi></mml:mrow></mml:msubsup></mml:mrow><mml:mo>=</mml:mo><mml:munderover><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mi>k</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mi>F</mml:mi></mml:munderover><mml:mrow><mml:msubsup><mml:mi>A</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>r</mml:mi><mml:mo>−</mml:mo><mml:mn>1</mml:mn><mml:mo stretchy="false">)</mml:mo><mml:mi>n</mml:mi><mml:mo>+</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>k</mml:mi></mml:mrow><mml:mi>v</mml:mi></mml:msubsup></mml:mrow><mml:mrow><mml:msub><mml:mi>X</mml:mi><mml:mrow><mml:mi>k</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>=</mml:mo><mml:munderover><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mi>k</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mi>F</mml:mi></mml:munderover><mml:mrow><mml:msubsup><mml:mi>A</mml:mi><mml:mrow><mml:mi>r</mml:mi><mml:mo>,</mml:mo><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>k</mml:mi></mml:mrow><mml:mi>r</mml:mi></mml:msubsup></mml:mrow><mml:mrow><mml:msub><mml:mi>X</mml:mi><mml:mrow><mml:mi>k</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:msubsup><mml:mrow><mml:mi>G</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>j</mml:mi></mml:mrow><mml:mrow><mml:mi mathvariant="normal">′</mml:mi></mml:mrow></mml:msubsup></mml:mrow></mml:math></alternatives></inline-formula>. It follows that <italic toggle="yes">V</italic>‴ = <italic toggle="yes">G</italic>″and <italic toggle="yes">V</italic> = <italic toggle="yes">G</italic>.</p>
      <p>For the horizontally stacked RGCN, we can write the computation of the output matrix <italic toggle="yes">H</italic> as</p>
      <p>
        <disp-formula id="ueqn-23">
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e022.jpg" position="float"/>
            <tex-math id="tex-ueqn-23">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$ \eqalign{ {{{{H}^{\prime}}_{r,i,j}}} &amp; {\ = \sum\limits_{k = 1}^F {{X_{r,i,k}}} \cdot {W_{r,k,j}}} \cr {{{{H}^{\prime \prime}}_{(r - 1)n + i,j}}} &amp; {\ = {{{H}^{\prime}}_{r,i,j}}} \cr {{H_{i,j}}} &amp; {\ = \sum\limits_{k = 1}^{RN} {A_{i,k}^h} \cdot {{{H}^{\prime \prime}}_{k,j}}.} }$\end{document}</tex-math>
            <mml:math id="mml-ueqn-23" display="block" overflow="scroll">
              <mml:mtable rowspacing="4pt" columnspacing="1em" columnalign="left">
                <mml:mtr>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mrow>
                            <mml:msup>
                              <mml:mrow>
                                <mml:mi>H</mml:mi>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="normal">′</mml:mi>
                              </mml:mrow>
                            </mml:msup>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mi>r</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:munderover>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mrow>
                          <mml:mi>k</mml:mi>
                          <mml:mo>=</mml:mo>
                          <mml:mn>1</mml:mn>
                        </mml:mrow>
                        <mml:mi>F</mml:mi>
                      </mml:munderover>
                      <mml:mrow>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mi>X</mml:mi>
                            <mml:mrow>
                              <mml:mi>r</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>i</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>k</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:mrow>
                      <mml:mo>⋅</mml:mo>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mi>W</mml:mi>
                          <mml:mrow>
                            <mml:mi>r</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>k</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                </mml:mtr>
                <mml:mtr>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mrow>
                            <mml:msup>
                              <mml:mrow>
                                <mml:mi>H</mml:mi>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="normal">′</mml:mi>
                                <mml:mi mathvariant="normal">′</mml:mi>
                              </mml:mrow>
                            </mml:msup>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mo stretchy="false">(</mml:mo>
                            <mml:mi>r</mml:mi>
                            <mml:mo>−</mml:mo>
                            <mml:mn>1</mml:mn>
                            <mml:mo stretchy="false">)</mml:mo>
                            <mml:mi>n</mml:mi>
                            <mml:mo>+</mml:mo>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mrow>
                            <mml:msup>
                              <mml:mrow>
                                <mml:mi>H</mml:mi>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="normal">′</mml:mi>
                              </mml:mrow>
                            </mml:msup>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mi>r</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                </mml:mtr>
                <mml:mtr>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mi>H</mml:mi>
                          <mml:mrow>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:munderover>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mrow>
                          <mml:mi>k</mml:mi>
                          <mml:mo>=</mml:mo>
                          <mml:mn>1</mml:mn>
                        </mml:mrow>
                        <mml:mrow>
                          <mml:mi>R</mml:mi>
                          <mml:mi>N</mml:mi>
                        </mml:mrow>
                      </mml:munderover>
                      <mml:mrow>
                        <mml:msubsup>
                          <mml:mi>A</mml:mi>
                          <mml:mrow>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>k</mml:mi>
                          </mml:mrow>
                          <mml:mi>h</mml:mi>
                        </mml:msubsup>
                      </mml:mrow>
                      <mml:mo>⋅</mml:mo>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mrow>
                            <mml:msup>
                              <mml:mrow>
                                <mml:mi>H</mml:mi>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="normal">′</mml:mi>
                                <mml:mi mathvariant="normal">′</mml:mi>
                              </mml:mrow>
                            </mml:msup>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mi>k</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                      <mml:mo>.</mml:mo>
                    </mml:mrow>
                  </mml:mtd>
                </mml:mtr>
              </mml:mtable>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>The first line shows a matrix multiplication of the input features by the weight matrix, per relation. The second line shows the reshaping of the result into a vertical stack of matrices and the final line shows a single matrix multiplication between the horizontally stacked adjacency matrix and this vertical stack.</p>
      <p>We complete the proof by noting that</p>
      <p>
        <disp-formula id="ueqn-24">
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e023.jpg" position="float"/>
            <tex-math id="tex-ueqn-24">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\eqalign{ {{H_{i,j}}} &amp; {\ = \sum\limits_k {A_{i,k}^h} \cdot {{{H}^{\prime \prime}}_{k,j}} = \sum\limits_k {\sum\limits_r {A_{i,k}^r} } \cdot {{{H}^{\prime}}_{r,k,j}}}\cr {} &amp; { = \sum\limits_k {\sum\limits_r {A_{i,k}^r} } \sum\limits_m {{X_{r,k,m}}} \cdot {W_{r,m,j}} = \sum\limits_r {\sum\limits_m {{W_{r,m,j}}} } \sum\limits_k {A_{i,k}^r} {X_{r,k,m}}} \cr {} &amp; { = \sum\limits_r {\sum\limits_m {{W_{r,m,j}}} } {{{G}^{\prime}}_{r,i,m}} = \sum\limits_r {{{{G}^{\prime \prime}}_{r,i,j}}} = {G_{i,j}}\;\;{.}} }$\end{document}</tex-math>
            <mml:math id="mml-ueqn-24" overflow="scroll">
              <mml:mtable rowspacing="4pt" columnspacing="1em" columnalign="left">
                <mml:mtr>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mi>H</mml:mi>
                          <mml:mrow>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:munder>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mi>k</mml:mi>
                      </mml:munder>
                      <mml:mrow>
                        <mml:msubsup>
                          <mml:mi>A</mml:mi>
                          <mml:mrow>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>k</mml:mi>
                          </mml:mrow>
                          <mml:mi>h</mml:mi>
                        </mml:msubsup>
                      </mml:mrow>
                      <mml:mo>⋅</mml:mo>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mrow>
                            <mml:msup>
                              <mml:mrow>
                                <mml:mi>H</mml:mi>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="normal">′</mml:mi>
                                <mml:mi mathvariant="normal">′</mml:mi>
                              </mml:mrow>
                            </mml:msup>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mi>k</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:munder>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mi>k</mml:mi>
                      </mml:munder>
                      <mml:mrow>
                        <mml:munder>
                          <mml:mo movablelimits="false">∑</mml:mo>
                          <mml:mi>r</mml:mi>
                        </mml:munder>
                        <mml:mrow>
                          <mml:msubsup>
                            <mml:mi>A</mml:mi>
                            <mml:mrow>
                              <mml:mi>i</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>k</mml:mi>
                            </mml:mrow>
                            <mml:mi>r</mml:mi>
                          </mml:msubsup>
                        </mml:mrow>
                      </mml:mrow>
                      <mml:mo>⋅</mml:mo>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mrow>
                            <mml:msup>
                              <mml:mrow>
                                <mml:mi>H</mml:mi>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="normal">′</mml:mi>
                              </mml:mrow>
                            </mml:msup>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mi>r</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>k</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                </mml:mtr>
                <mml:mtr>
                  <mml:mtd/>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:munder>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mi>k</mml:mi>
                      </mml:munder>
                      <mml:mrow>
                        <mml:munder>
                          <mml:mo movablelimits="false">∑</mml:mo>
                          <mml:mi>r</mml:mi>
                        </mml:munder>
                        <mml:mrow>
                          <mml:msubsup>
                            <mml:mi>A</mml:mi>
                            <mml:mrow>
                              <mml:mi>i</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>k</mml:mi>
                            </mml:mrow>
                            <mml:mi>r</mml:mi>
                          </mml:msubsup>
                        </mml:mrow>
                      </mml:mrow>
                      <mml:munder>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mi>m</mml:mi>
                      </mml:munder>
                      <mml:mrow>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mi>X</mml:mi>
                            <mml:mrow>
                              <mml:mi>r</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>k</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>m</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:mrow>
                      <mml:mo>⋅</mml:mo>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mi>W</mml:mi>
                          <mml:mrow>
                            <mml:mi>r</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>m</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:munder>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mi>r</mml:mi>
                      </mml:munder>
                      <mml:mrow>
                        <mml:munder>
                          <mml:mo movablelimits="false">∑</mml:mo>
                          <mml:mi>m</mml:mi>
                        </mml:munder>
                        <mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>W</mml:mi>
                              <mml:mrow>
                                <mml:mi>r</mml:mi>
                                <mml:mo>,</mml:mo>
                                <mml:mi>m</mml:mi>
                                <mml:mo>,</mml:mo>
                                <mml:mi>j</mml:mi>
                              </mml:mrow>
                            </mml:msub>
                          </mml:mrow>
                        </mml:mrow>
                      </mml:mrow>
                      <mml:munder>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mi>k</mml:mi>
                      </mml:munder>
                      <mml:mrow>
                        <mml:msubsup>
                          <mml:mi>A</mml:mi>
                          <mml:mrow>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>k</mml:mi>
                          </mml:mrow>
                          <mml:mi>r</mml:mi>
                        </mml:msubsup>
                      </mml:mrow>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mi>X</mml:mi>
                          <mml:mrow>
                            <mml:mi>r</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>k</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>m</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                </mml:mtr>
                <mml:mtr>
                  <mml:mtd/>
                  <mml:mtd>
                    <mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:munder>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mi>r</mml:mi>
                      </mml:munder>
                      <mml:mrow>
                        <mml:munder>
                          <mml:mo movablelimits="false">∑</mml:mo>
                          <mml:mi>m</mml:mi>
                        </mml:munder>
                        <mml:mrow>
                          <mml:mrow>
                            <mml:msub>
                              <mml:mi>W</mml:mi>
                              <mml:mrow>
                                <mml:mi>r</mml:mi>
                                <mml:mo>,</mml:mo>
                                <mml:mi>m</mml:mi>
                                <mml:mo>,</mml:mo>
                                <mml:mi>j</mml:mi>
                              </mml:mrow>
                            </mml:msub>
                          </mml:mrow>
                        </mml:mrow>
                      </mml:mrow>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mrow>
                            <mml:msup>
                              <mml:mrow>
                                <mml:mi>G</mml:mi>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="normal">′</mml:mi>
                              </mml:mrow>
                            </mml:msup>
                          </mml:mrow>
                          <mml:mrow>
                            <mml:mi>r</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>m</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:munder>
                        <mml:mo movablelimits="false">∑</mml:mo>
                        <mml:mi>r</mml:mi>
                      </mml:munder>
                      <mml:mrow>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mrow>
                              <mml:msup>
                                <mml:mrow>
                                  <mml:mi>G</mml:mi>
                                </mml:mrow>
                                <mml:mrow>
                                  <mml:mi mathvariant="normal">′</mml:mi>
                                  <mml:mi mathvariant="normal">′</mml:mi>
                                </mml:mrow>
                              </mml:msup>
                            </mml:mrow>
                            <mml:mrow>
                              <mml:mi>r</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>i</mml:mi>
                              <mml:mo>,</mml:mo>
                              <mml:mi>j</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:mrow>
                      <mml:mo>=</mml:mo>
                      <mml:mrow>
                        <mml:msub>
                          <mml:mi>G</mml:mi>
                          <mml:mrow>
                            <mml:mi>i</mml:mi>
                            <mml:mo>,</mml:mo>
                            <mml:mi>j</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:mrow>
                      <mml:mspace width="thickmathspace"/>
                      <mml:mspace width="thickmathspace"/>
                      <mml:mrow>
                        <mml:mo>.</mml:mo>
                      </mml:mrow>
                    </mml:mrow>
                  </mml:mtd>
                </mml:mtr>
              </mml:mtable>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>For the following theorem we define a relational graph <inline-formula id="ieqn-177"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i154.jpg"/><tex-math id="tex-ieqn-177">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal G}}$\end{document}</tex-math><mml:math id="mml-ieqn-177" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">G</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> as a directed graph with labelled nodes and edges. <italic toggle="yes">R</italic> is the number of relations in the graph and <italic toggle="yes">N</italic> is the number of nodes in the graph. <inline-formula id="ieqn-178"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i155.jpg"/><tex-math id="tex-ieqn-178">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal N}}$\end{document}</tex-math><mml:math id="mml-ieqn-178" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">N</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> is a set of nodes in graph <inline-formula id="ieqn-179"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i156.jpg"/><tex-math id="tex-ieqn-179">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal G}}$\end{document}</tex-math><mml:math id="mml-ieqn-179" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">G</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula>. Target nodes, <inline-formula id="ieqn-180"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i157.jpg"/><tex-math id="tex-ieqn-180">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal T}} \subseteq {\rm {\cal N}}$\end{document}</tex-math><mml:math id="mml-ieqn-180" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">T</mml:mi></mml:mrow></mml:mrow><mml:mo>⊆</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">N</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula>, are nodes in the graph with class labels. <inline-formula id="ieqn-181"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i158.jpg"/><tex-math id="tex-ieqn-181">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$h_i^l$\end{document}</tex-math><mml:math id="mml-ieqn-181" overflow="scroll"><mml:msubsup><mml:mi>h</mml:mi><mml:mi>i</mml:mi><mml:mi>l</mml:mi></mml:msubsup></mml:math></alternatives></inline-formula> is the vector representation of node <italic toggle="yes">i</italic> at layer <italic toggle="yes">l</italic>, and <inline-formula id="ieqn-182"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i159.jpg"/><tex-math id="tex-ieqn-182">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_r}$\end{document}</tex-math><mml:math id="mml-ieqn-182" overflow="scroll"><mml:mrow><mml:msub><mml:mi>W</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is a relation-specific weight matrix. <italic toggle="yes">k</italic> is the number of RGCN layers. Non-linear activation function <inline-formula id="ieqn-183"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i160.jpg"/><tex-math id="tex-ieqn-183">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\sigma$\end{document}</tex-math><mml:math id="mml-ieqn-183" overflow="scroll"><mml:mi>σ</mml:mi></mml:math></alternatives></inline-formula> is an element-wise operation. <inline-formula id="ieqn-184"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i161.jpg"/><tex-math id="tex-ieqn-184">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${{\rm {\cal N}}_r}(i)$\end{document}</tex-math><mml:math id="mml-ieqn-184" overflow="scroll"><mml:mrow><mml:msub><mml:mrow><mml:mrow><mml:mi mathvariant="script">N</mml:mi></mml:mrow></mml:mrow><mml:mi>r</mml:mi></mml:msub></mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:math></alternatives></inline-formula> is the collection of the incoming neighbors of node <italic toggle="yes">i</italic> with the relation <italic toggle="yes">r</italic>.</p>
      <p><bold>Theorem 2.</bold><italic toggle="yes">For a k-layer RGCN model, the input representation</italic><inline-formula id="ieqn-185"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i162.jpg"/><tex-math id="tex-ieqn-185">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$h_m^0$\end{document}</tex-math><mml:math id="mml-ieqn-185" overflow="scroll"><mml:msubsup><mml:mi>h</mml:mi><mml:mi>m</mml:mi><mml:mn>0</mml:mn></mml:msubsup></mml:math></alternatives></inline-formula><italic toggle="yes">of a node m more than k hops away from any node in</italic><inline-formula id="ieqn-186"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i163.jpg"/><tex-math id="tex-ieqn-186">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal T}}$\end{document}</tex-math><mml:math id="mml-ieqn-186" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">T</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula><italic toggle="yes">is not involved in the computation of</italic><inline-formula id="ieqn-187"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i164.jpg"/><tex-math id="tex-ieqn-187">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$h_i^k$\end{document}</tex-math><mml:math id="mml-ieqn-187" overflow="scroll"><mml:msubsup><mml:mi>h</mml:mi><mml:mi>i</mml:mi><mml:mi>k</mml:mi></mml:msubsup></mml:math></alternatives></inline-formula><italic toggle="yes">for any node</italic><inline-formula id="ieqn-188"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i165.jpg"/><tex-math id="tex-ieqn-188">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$i \in {\rm {\cal T}}$\end{document}</tex-math><mml:math id="mml-ieqn-188" overflow="scroll"><mml:mi>i</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">T</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula>.</p>
      <p><italic toggle="yes">Proof</italic>. We will prove this by induction on <italic toggle="yes">k</italic>.</p>
      <p><bold>Base case (k = 1):</bold> Let <italic toggle="yes">m</italic> be a node which is more than 1 hop away from all nodes in <inline-formula id="ieqn-189"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i166.jpg"/><tex-math id="tex-ieqn-189">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal T}}$\end{document}</tex-math><mml:math id="mml-ieqn-189" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">T</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula>. We need to show that the computation of <inline-formula id="ieqn-190"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i167.jpg"/><tex-math id="tex-ieqn-190">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$h_i^1$\end{document}</tex-math><mml:math id="mml-ieqn-190" overflow="scroll"><mml:msubsup><mml:mi>h</mml:mi><mml:mi>i</mml:mi><mml:mn>1</mml:mn></mml:msubsup></mml:math></alternatives></inline-formula>, <inline-formula id="ieqn-191"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i168.jpg"/><tex-math id="tex-ieqn-191">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$i \in {\rm {\cal T}}$\end{document}</tex-math><mml:math id="mml-ieqn-191" overflow="scroll"><mml:mi>i</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">T</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> does not involve <inline-formula id="ieqn-192"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i169.jpg"/><tex-math id="tex-ieqn-192">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$h_m^0$\end{document}</tex-math><mml:math id="mml-ieqn-192" overflow="scroll"><mml:msubsup><mml:mi>h</mml:mi><mml:mi>m</mml:mi><mml:mn>0</mml:mn></mml:msubsup></mml:math></alternatives></inline-formula>.</p>
      <p>By definition, <inline-formula id="ieqn-193"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i170.jpg"/><tex-math id="tex-ieqn-193">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${h_i}$\end{document}</tex-math><mml:math id="mml-ieqn-193" overflow="scroll"><mml:mrow><mml:msub><mml:mi>h</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> is computed as</p>
      <p>
        <disp-formula id="ueqn-25">
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e024.jpg" position="float"/>
            <tex-math id="tex-ueqn-25">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\bf h}_i^1 = \sigma \left[ {\sum\limits_r^R {\sum\limits_{j \in {{\rm {\cal N}}_r}(i)} {\displaystyle{1 \over {|{{\rm {\cal N}}_r}(i)|}}} } {W_r}h_j^0} \right].$\end{document}</tex-math>
            <mml:math id="mml-ueqn-25" overflow="scroll">
              <mml:msubsup>
                <mml:mrow>
                  <mml:mi mathvariant="bold">h</mml:mi>
                </mml:mrow>
                <mml:mi>i</mml:mi>
                <mml:mn>1</mml:mn>
              </mml:msubsup>
              <mml:mo>=</mml:mo>
              <mml:mi>σ</mml:mi>
              <mml:mrow>
                <mml:mo>[</mml:mo>
                <mml:mrow>
                  <mml:munderover>
                    <mml:mo movablelimits="false">∑</mml:mo>
                    <mml:mi>r</mml:mi>
                    <mml:mi>R</mml:mi>
                  </mml:munderover>
                  <mml:mrow>
                    <mml:munder>
                      <mml:mo movablelimits="false">∑</mml:mo>
                      <mml:mrow>
                        <mml:mi>j</mml:mi>
                        <mml:mo>∈</mml:mo>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="script">N</mml:mi>
                              </mml:mrow>
                            </mml:mrow>
                            <mml:mi>r</mml:mi>
                          </mml:msub>
                        </mml:mrow>
                        <mml:mo stretchy="false">(</mml:mo>
                        <mml:mi>i</mml:mi>
                        <mml:mo stretchy="false">)</mml:mo>
                      </mml:mrow>
                    </mml:munder>
                    <mml:mrow>
                      <mml:mstyle displaystyle="true" scriptlevel="0">
                        <mml:mrow>
                          <mml:mfrac>
                            <mml:mn>1</mml:mn>
                            <mml:mrow>
                              <mml:mrow>
                                <mml:mo stretchy="false">|</mml:mo>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:msub>
                                  <mml:mrow>
                                    <mml:mrow>
                                      <mml:mi mathvariant="script">N</mml:mi>
                                    </mml:mrow>
                                  </mml:mrow>
                                  <mml:mi>r</mml:mi>
                                </mml:msub>
                              </mml:mrow>
                              <mml:mo stretchy="false">(</mml:mo>
                              <mml:mi>i</mml:mi>
                              <mml:mo stretchy="false">)</mml:mo>
                              <mml:mrow>
                                <mml:mo stretchy="false">|</mml:mo>
                              </mml:mrow>
                            </mml:mrow>
                          </mml:mfrac>
                        </mml:mrow>
                      </mml:mstyle>
                    </mml:mrow>
                  </mml:mrow>
                  <mml:mrow>
                    <mml:msub>
                      <mml:mi>W</mml:mi>
                      <mml:mi>r</mml:mi>
                    </mml:msub>
                  </mml:mrow>
                  <mml:msubsup>
                    <mml:mi>h</mml:mi>
                    <mml:mi>j</mml:mi>
                    <mml:mn>0</mml:mn>
                  </mml:msubsup>
                </mml:mrow>
                <mml:mo>]</mml:mo>
              </mml:mrow>
              <mml:mo>.</mml:mo>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>The only node representations involved are <inline-formula id="ieqn-194"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i171.jpg"/><tex-math id="tex-ieqn-194">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$h_j^0$\end{document}</tex-math><mml:math id="mml-ieqn-194" overflow="scroll"><mml:msubsup><mml:mi>h</mml:mi><mml:mi>j</mml:mi><mml:mn>0</mml:mn></mml:msubsup></mml:math></alternatives></inline-formula> for <inline-formula id="ieqn-195"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i172.jpg"/><tex-math id="tex-ieqn-195">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$j \in {{\rm {\cal N}}_r}(i)$\end{document}</tex-math><mml:math id="mml-ieqn-195" overflow="scroll"><mml:mi>j</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:msub><mml:mrow><mml:mrow><mml:mi mathvariant="script">N</mml:mi></mml:mrow></mml:mrow><mml:mi>r</mml:mi></mml:msub></mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi>i</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:math></alternatives></inline-formula>, which are in the 1-hop neighborhood of <italic toggle="yes">i</italic>.</p>
      <p><bold>Inductive step:</bold> We assume that the theorem holds for <italic toggle="yes">k</italic> = <italic toggle="yes">l</italic>. Let node <italic toggle="yes">m</italic> be more than <italic toggle="yes">l</italic> + 1 hops from all nodes in <inline-formula id="ieqn-196"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i173.jpg"/><tex-math id="tex-ieqn-196">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal T}}$\end{document}</tex-math><mml:math id="mml-ieqn-196" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">T</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula>. We aim to show that for <inline-formula id="ieqn-197"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i174.jpg"/><tex-math id="tex-ieqn-197">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$i \in {\rm {\cal T}}$\end{document}</tex-math><mml:math id="mml-ieqn-197" overflow="scroll"><mml:mi>i</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="script">T</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula>, <inline-formula id="ieqn-198"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i175.jpg"/><tex-math id="tex-ieqn-198">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$h_m^0$\end{document}</tex-math><mml:math id="mml-ieqn-198" overflow="scroll"><mml:msubsup><mml:mi>h</mml:mi><mml:mi>m</mml:mi><mml:mn>0</mml:mn></mml:msubsup></mml:math></alternatives></inline-formula> is not involved in the computation of <inline-formula id="ieqn-199"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i176.jpg"/><tex-math id="tex-ieqn-199">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${h_i}$\end{document}</tex-math><mml:math id="mml-ieqn-199" overflow="scroll"><mml:mrow><mml:msub><mml:mi>h</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula>.</p>
      <p>The output representation of <italic toggle="yes">i</italic> is computed as</p>
      <p>
        <disp-formula id="ueqn-26">
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e025.jpg" position="float"/>
            <tex-math id="tex-ueqn-26">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\bf h}_i^{l + 1} = \sigma \left[ {\sum\limits_r^R {\sum\limits_{j \in {{\rm {\cal N}}_r}(i)} {\displaystyle{1 \over {|{{\rm {\cal N}}_r}(i)|}}} } {W_r}h_j^l} \right]\;\;{\rm .}$\end{document}</tex-math>
            <mml:math id="mml-ueqn-26" overflow="scroll">
              <mml:msubsup>
                <mml:mrow>
                  <mml:mi mathvariant="bold">h</mml:mi>
                </mml:mrow>
                <mml:mi>i</mml:mi>
                <mml:mrow>
                  <mml:mi>l</mml:mi>
                  <mml:mo>+</mml:mo>
                  <mml:mn>1</mml:mn>
                </mml:mrow>
              </mml:msubsup>
              <mml:mo>=</mml:mo>
              <mml:mi>σ</mml:mi>
              <mml:mrow>
                <mml:mo>[</mml:mo>
                <mml:mrow>
                  <mml:munderover>
                    <mml:mo movablelimits="false">∑</mml:mo>
                    <mml:mi>r</mml:mi>
                    <mml:mi>R</mml:mi>
                  </mml:munderover>
                  <mml:mrow>
                    <mml:munder>
                      <mml:mo movablelimits="false">∑</mml:mo>
                      <mml:mrow>
                        <mml:mi>j</mml:mi>
                        <mml:mo>∈</mml:mo>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mrow>
                              <mml:mrow>
                                <mml:mi mathvariant="script">N</mml:mi>
                              </mml:mrow>
                            </mml:mrow>
                            <mml:mi>r</mml:mi>
                          </mml:msub>
                        </mml:mrow>
                        <mml:mo stretchy="false">(</mml:mo>
                        <mml:mi>i</mml:mi>
                        <mml:mo stretchy="false">)</mml:mo>
                      </mml:mrow>
                    </mml:munder>
                    <mml:mrow>
                      <mml:mstyle displaystyle="true" scriptlevel="0">
                        <mml:mrow>
                          <mml:mfrac>
                            <mml:mn>1</mml:mn>
                            <mml:mrow>
                              <mml:mrow>
                                <mml:mo stretchy="false">|</mml:mo>
                              </mml:mrow>
                              <mml:mrow>
                                <mml:msub>
                                  <mml:mrow>
                                    <mml:mrow>
                                      <mml:mi mathvariant="script">N</mml:mi>
                                    </mml:mrow>
                                  </mml:mrow>
                                  <mml:mi>r</mml:mi>
                                </mml:msub>
                              </mml:mrow>
                              <mml:mo stretchy="false">(</mml:mo>
                              <mml:mi>i</mml:mi>
                              <mml:mo stretchy="false">)</mml:mo>
                              <mml:mrow>
                                <mml:mo stretchy="false">|</mml:mo>
                              </mml:mrow>
                            </mml:mrow>
                          </mml:mfrac>
                        </mml:mrow>
                      </mml:mstyle>
                    </mml:mrow>
                  </mml:mrow>
                  <mml:mrow>
                    <mml:msub>
                      <mml:mi>W</mml:mi>
                      <mml:mi>r</mml:mi>
                    </mml:msub>
                  </mml:mrow>
                  <mml:msubsup>
                    <mml:mi>h</mml:mi>
                    <mml:mi>j</mml:mi>
                    <mml:mi>l</mml:mi>
                  </mml:msubsup>
                </mml:mrow>
                <mml:mo>]</mml:mo>
              </mml:mrow>
              <mml:mspace width="thickmathspace"/>
              <mml:mspace width="thickmathspace"/>
              <mml:mrow>
                <mml:mo>.</mml:mo>
              </mml:mrow>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>Here <italic toggle="yes">j</italic> is one hop from <italic toggle="yes">i</italic> so must be more than <italic toggle="yes">l</italic> hops from <italic toggle="yes">m</italic> (if <italic toggle="yes">j</italic> were <italic toggle="yes">l</italic> hops from <italic toggle="yes">m</italic> we could get from <inline-formula id="ieqn-200"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i177.jpg"/><tex-math id="tex-ieqn-200">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$i \to j \to m$\end{document}</tex-math><mml:math id="mml-ieqn-200" overflow="scroll"><mml:mi>i</mml:mi><mml:mo stretchy="false">→</mml:mo><mml:mi>j</mml:mi><mml:mo stretchy="false">→</mml:mo><mml:mi>m</mml:mi></mml:math></alternatives></inline-formula> in <italic toggle="yes">l</italic> + 1 hops). From this we can apply our inductive assumption and conclude that <inline-formula id="ieqn-201"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i178.jpg"/><tex-math id="tex-ieqn-201">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$h_m^0$\end{document}</tex-math><mml:math id="mml-ieqn-201" overflow="scroll"><mml:msubsup><mml:mi>h</mml:mi><mml:mi>m</mml:mi><mml:mn>0</mml:mn></mml:msubsup></mml:math></alternatives></inline-formula> is not involved in the computation of <inline-formula id="ieqn-202"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i179.jpg"/><tex-math id="tex-ieqn-202">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$h_j^l$\end{document}</tex-math><mml:math id="mml-ieqn-202" overflow="scroll"><mml:msubsup><mml:mi>h</mml:mi><mml:mi>j</mml:mi><mml:mi>l</mml:mi></mml:msubsup></mml:math></alternatives></inline-formula>.</p>
      <p>We can now see that the only node representations involved in the computation of <inline-formula id="ieqn-203"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i180.jpg"/><tex-math id="tex-ieqn-203">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$h_i^{l + 1}$\end{document}</tex-math><mml:math id="mml-ieqn-203" overflow="scroll"><mml:msubsup><mml:mi>h</mml:mi><mml:mi>i</mml:mi><mml:mrow><mml:mi>l</mml:mi><mml:mo>+</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> are <inline-formula id="ieqn-204"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i181.jpg"/><tex-math id="tex-ieqn-204">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$h_j^l$\end{document}</tex-math><mml:math id="mml-ieqn-204" overflow="scroll"><mml:msubsup><mml:mi>h</mml:mi><mml:mi>j</mml:mi><mml:mi>l</mml:mi></mml:msubsup></mml:math></alternatives></inline-formula>, none of which were computed using <inline-formula id="ieqn-205"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i182.jpg"/><tex-math id="tex-ieqn-205">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$h_m^0$\end{document}</tex-math><mml:math id="mml-ieqn-205" overflow="scroll"><mml:msubsup><mml:mi>h</mml:mi><mml:mi>m</mml:mi><mml:mn>0</mml:mn></mml:msubsup></mml:math></alternatives></inline-formula>.</p>
    </sec>
    <sec>
      <title>Notations</title>
      <p>We use lowercase letters to denote scalars (<italic toggle="yes"><italic toggle="yes">e.g.</italic>, x</italic>), bold lowercase letters for vectors (<italic toggle="yes">e.g.</italic>, <bold>w</bold>), uppercase letters for matrices (<italic toggle="yes"><italic toggle="yes">e.g.</italic>, A</italic>), and caligraphic letters for sets (<italic toggle="yes">e.g.</italic>, <inline-formula id="ieqn-206"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i183.jpg"/><tex-math id="tex-ieqn-206">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\rm {\cal G}}$\end{document}</tex-math><mml:math id="mml-ieqn-206" overflow="scroll"><mml:mrow><mml:mrow><mml:mi mathvariant="script">G</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula>). We also use uppercase letters for referring to dimensions and lowercase letters for indexing over those dimensions (<italic toggle="yes">e.g.</italic>, <inline-formula id="ieqn-207"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i184.jpg"/><tex-math id="tex-ieqn-207">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\mathop \sum \nolimits_{b = 1}^B$\end{document}</tex-math><mml:math id="mml-ieqn-207" overflow="scroll"><mml:msubsup><mml:mrow><mml:mo movablelimits="false">∑</mml:mo></mml:mrow><mml:mrow><mml:mi>b</mml:mi><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mi>B</mml:mi></mml:msubsup></mml:math></alternatives></inline-formula>). The dimensions of vectors, matrices and tensors are reported in <xref rid="table-6" ref-type="table">Table A1</xref>.</p>
      <table-wrap position="float" id="table-6">
        <object-id pub-id-type="doi">10.7717/peerj-cs.1073/table-6</object-id>
        <label>Table A1</label>
        <caption>
          <title>Dimensions of vectors, matrices and tensors.</title>
        </caption>
        <alternatives>
          <graphic xlink:href="peerj-cs-08-1073-g014" position="float"/>
          <table frame="hsides" rules="groups" content-type="text">
            <colgroup span="1">
              <col span="1"/>
              <col span="1"/>
            </colgroup>
            <thead>
              <tr>
                <th rowspan="1" colspan="1">Variables</th>
                <th rowspan="1" colspan="1">Dimensions</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td rowspan="1" colspan="1">
                  <italic toggle="yes">A</italic>
                </td>
                <td rowspan="1" colspan="1"><italic toggle="yes">N</italic> × <italic toggle="yes">N</italic></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <italic toggle="yes">X</italic>
                </td>
                <td rowspan="1" colspan="1"><italic toggle="yes">N</italic> × <italic toggle="yes">F</italic></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <italic toggle="yes">W</italic>
                </td>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-144">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i185.jpg"/>
                      <tex-math id="tex-ieqn-144">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\displaystyle{{{N_{in}}}\times {N_{out}}}$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-144" overflow="scroll">
                        <mml:mstyle displaystyle="true" scriptlevel="0">
                          <mml:mrow>
                            <mml:mrow>
                              <mml:mrow>
                                <mml:msub>
                                  <mml:mi>N</mml:mi>
                                  <mml:mrow>
                                    <mml:mi>i</mml:mi>
                                    <mml:mi>n</mml:mi>
                                  </mml:mrow>
                                </mml:msub>
                              </mml:mrow>
                            </mml:mrow>
                            <mml:mo>×</mml:mo>
                            <mml:mrow>
                              <mml:msub>
                                <mml:mi>N</mml:mi>
                                <mml:mrow>
                                  <mml:mi>o</mml:mi>
                                  <mml:mi>u</mml:mi>
                                  <mml:mi>t</mml:mi>
                                </mml:mrow>
                              </mml:msub>
                            </mml:mrow>
                          </mml:mrow>
                        </mml:mstyle>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-145">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i186.jpg"/>
                      <tex-math id="tex-ieqn-145">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\bf h}_i$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-145" overflow="scroll">
                        <mml:msub>
                          <mml:mrow>
                            <mml:mi mathvariant="bold">h</mml:mi>
                          </mml:mrow>
                          <mml:mi>i</mml:mi>
                        </mml:msub>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-146">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i187.jpg"/>
                      <tex-math id="tex-ieqn-146">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$1 \times {N_{out}}$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-146" overflow="scroll">
                        <mml:mn>1</mml:mn>
                        <mml:mo>×</mml:mo>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mi>N</mml:mi>
                            <mml:mrow>
                              <mml:mi>o</mml:mi>
                              <mml:mi>u</mml:mi>
                              <mml:mi>t</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-147">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i188.jpg"/>
                      <tex-math id="tex-ieqn-147">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\bf X}_i$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-147" overflow="scroll">
                        <mml:msub>
                          <mml:mrow>
                            <mml:mi mathvariant="bold">X</mml:mi>
                          </mml:mrow>
                          <mml:mi>i</mml:mi>
                        </mml:msub>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
                <td rowspan="1" colspan="1">1 × <italic toggle="yes">F</italic> or <inline-formula id="ieqn-148"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i189.jpg"/><tex-math id="tex-ieqn-148">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$1 \times {N_{in}}$\end{document}</tex-math><mml:math id="mml-ieqn-148" overflow="scroll"><mml:mn>1</mml:mn><mml:mo>×</mml:mo><mml:mrow><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></alternatives></inline-formula></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-149">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i190.jpg"/>
                      <tex-math id="tex-ieqn-149">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$A_r$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-149" overflow="scroll">
                        <mml:msub>
                          <mml:mi>A</mml:mi>
                          <mml:mi>r</mml:mi>
                        </mml:msub>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-150">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i191.jpg"/>
                      <tex-math id="tex-ieqn-150">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${R^ + } \times N \times N$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-150" overflow="scroll">
                        <mml:mrow>
                          <mml:msup>
                            <mml:mi>R</mml:mi>
                            <mml:mo>+</mml:mo>
                          </mml:msup>
                        </mml:mrow>
                        <mml:mo>×</mml:mo>
                        <mml:mi>N</mml:mi>
                        <mml:mo>×</mml:mo>
                        <mml:mi>N</mml:mi>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-151">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i192.jpg"/>
                      <tex-math id="tex-ieqn-151">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$W_r$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-151" overflow="scroll">
                        <mml:msub>
                          <mml:mi>W</mml:mi>
                          <mml:mi>r</mml:mi>
                        </mml:msub>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-152">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i193.jpg"/>
                      <tex-math id="tex-ieqn-152">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${R^ + } \times {N_{in}} \times {N_{out}}$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-152" overflow="scroll">
                        <mml:mrow>
                          <mml:msup>
                            <mml:mi>R</mml:mi>
                            <mml:mo>+</mml:mo>
                          </mml:msup>
                        </mml:mrow>
                        <mml:mo>×</mml:mo>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mi>N</mml:mi>
                            <mml:mrow>
                              <mml:mi>i</mml:mi>
                              <mml:mi>n</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                        <mml:mo>×</mml:mo>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mi>N</mml:mi>
                            <mml:mrow>
                              <mml:mi>o</mml:mi>
                              <mml:mi>u</mml:mi>
                              <mml:mi>t</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <italic toggle="yes">C</italic>
                </td>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-153">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i194.jpg"/>
                      <tex-math id="tex-ieqn-153">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${R^ + } \times B$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-153" overflow="scroll">
                        <mml:mrow>
                          <mml:msup>
                            <mml:mi>R</mml:mi>
                            <mml:mo>+</mml:mo>
                          </mml:msup>
                        </mml:mrow>
                        <mml:mo>×</mml:mo>
                        <mml:mi>B</mml:mi>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <italic toggle="yes">B</italic>
                </td>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-154">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i195.jpg"/>
                      <tex-math id="tex-ieqn-154">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$B \times {N_{in}} \times {N_{out}}$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-154" overflow="scroll">
                        <mml:mi>B</mml:mi>
                        <mml:mo>×</mml:mo>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mi>N</mml:mi>
                            <mml:mrow>
                              <mml:mi>i</mml:mi>
                              <mml:mi>n</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                        <mml:mo>×</mml:mo>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mi>N</mml:mi>
                            <mml:mrow>
                              <mml:mi>o</mml:mi>
                              <mml:mi>u</mml:mi>
                              <mml:mi>t</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-155">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i196.jpg"/>
                      <tex-math id="tex-ieqn-155">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${Q_r}$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-155" overflow="scroll">
                        <mml:mrow>
                          <mml:msub>
                            <mml:mi>Q</mml:mi>
                            <mml:mi>r</mml:mi>
                          </mml:msub>
                        </mml:mrow>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-156">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i197.jpg"/>
                      <tex-math id="tex-ieqn-156">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$B \times \displaystyle{{{N_{in}}} \over B} \times \displaystyle{{{N_{out}}} \over B}$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-156" overflow="scroll">
                        <mml:mi>B</mml:mi>
                        <mml:mo>×</mml:mo>
                        <mml:mstyle scriptlevel="0" displaystyle="true">
                          <mml:mrow>
                            <mml:mfrac>
                              <mml:mrow>
                                <mml:mrow>
                                  <mml:msub>
                                    <mml:mi>N</mml:mi>
                                    <mml:mrow>
                                      <mml:mi>i</mml:mi>
                                      <mml:mi>n</mml:mi>
                                    </mml:mrow>
                                  </mml:msub>
                                </mml:mrow>
                              </mml:mrow>
                              <mml:mi>B</mml:mi>
                            </mml:mfrac>
                          </mml:mrow>
                          <mml:mo>×</mml:mo>
                          <mml:mstyle scriptlevel="0" displaystyle="true">
                            <mml:mrow>
                              <mml:mfrac>
                                <mml:mrow>
                                  <mml:mrow>
                                    <mml:msub>
                                      <mml:mi>N</mml:mi>
                                      <mml:mrow>
                                        <mml:mi>o</mml:mi>
                                        <mml:mi>u</mml:mi>
                                        <mml:mi>t</mml:mi>
                                      </mml:mrow>
                                    </mml:msub>
                                  </mml:mrow>
                                </mml:mrow>
                                <mml:mi>B</mml:mi>
                              </mml:mfrac>
                            </mml:mrow>
                          </mml:mstyle>
                        </mml:mstyle>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-157">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i198.jpg"/>
                      <tex-math id="tex-ieqn-157">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$A_v$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-157" overflow="scroll">
                        <mml:msub>
                          <mml:mi>A</mml:mi>
                          <mml:mi>v</mml:mi>
                        </mml:msub>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-158">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i199.jpg"/>
                      <tex-math id="tex-ieqn-158">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${R^ + } \times N \times N$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-158" overflow="scroll">
                        <mml:mrow>
                          <mml:msup>
                            <mml:mi>R</mml:mi>
                            <mml:mo>+</mml:mo>
                          </mml:msup>
                        </mml:mrow>
                        <mml:mo>×</mml:mo>
                        <mml:mi>N</mml:mi>
                        <mml:mo>×</mml:mo>
                        <mml:mi>N</mml:mi>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-159">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i200.jpg"/>
                      <tex-math id="tex-ieqn-159">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${A_h}$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-159" overflow="scroll">
                        <mml:mrow>
                          <mml:msub>
                            <mml:mi>A</mml:mi>
                            <mml:mi>h</mml:mi>
                          </mml:msub>
                        </mml:mrow>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-160">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i201.jpg"/>
                      <tex-math id="tex-ieqn-160">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$N \times {R^ + }N$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-160" overflow="scroll">
                        <mml:mi>N</mml:mi>
                        <mml:mo>×</mml:mo>
                        <mml:mrow>
                          <mml:msup>
                            <mml:mi>R</mml:mi>
                            <mml:mo>+</mml:mo>
                          </mml:msup>
                        </mml:mrow>
                        <mml:mi>N</mml:mi>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <italic toggle="yes">E</italic>
                </td>
                <td rowspan="1" colspan="1"><italic toggle="yes">N</italic> × <italic toggle="yes">D</italic></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-161">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i202.jpg"/>
                      <tex-math id="tex-ieqn-161">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\bf W}_r$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-161" overflow="scroll">
                        <mml:msub>
                          <mml:mrow>
                            <mml:mi mathvariant="bold">W</mml:mi>
                          </mml:mrow>
                          <mml:mi>r</mml:mi>
                        </mml:msub>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-162">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i203.jpg"/>
                      <tex-math id="tex-ieqn-162">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$1 \times {N_{out}}$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-162" overflow="scroll">
                        <mml:mn>1</mml:mn>
                        <mml:mo>×</mml:mo>
                        <mml:mrow>
                          <mml:msub>
                            <mml:mi>N</mml:mi>
                            <mml:mrow>
                              <mml:mi>o</mml:mi>
                              <mml:mi>u</mml:mi>
                              <mml:mi>t</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-163">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i204.jpg"/>
                      <tex-math id="tex-ieqn-163">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${\bf e}_s$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-163" overflow="scroll">
                        <mml:msub>
                          <mml:mrow>
                            <mml:mi mathvariant="bold">e</mml:mi>
                          </mml:mrow>
                          <mml:mi>s</mml:mi>
                        </mml:msub>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
                <td rowspan="1" colspan="1">1 × <italic toggle="yes">D</italic></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <bold>r</bold>
                </td>
                <td rowspan="1" colspan="1">1 × <italic toggle="yes">D</italic></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-164">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i205.jpg"/>
                      <tex-math id="tex-ieqn-164">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$e_o$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-164" overflow="scroll">
                        <mml:msub>
                          <mml:mi>e</mml:mi>
                          <mml:mi>o</mml:mi>
                        </mml:msub>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
                <td rowspan="1" colspan="1">1 × <italic toggle="yes">D</italic></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <italic toggle="yes">R</italic>
                </td>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-165">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i206.jpg"/>
                      <tex-math id="tex-ieqn-165">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${R^ + } \times D$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-165" overflow="scroll">
                        <mml:mrow>
                          <mml:msup>
                            <mml:mi>R</mml:mi>
                            <mml:mo>+</mml:mo>
                          </mml:msup>
                        </mml:mrow>
                        <mml:mo>×</mml:mo>
                        <mml:mi>D</mml:mi>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-166">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i207.jpg"/>
                      <tex-math id="tex-ieqn-166">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}${W_{\theta}}$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-166" overflow="scroll">
                        <mml:mrow>
                          <mml:msub>
                            <mml:mi>W</mml:mi>
                            <mml:mrow>
                              <mml:mi>θ</mml:mi>
                            </mml:mrow>
                          </mml:msub>
                        </mml:mrow>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
                <td rowspan="1" colspan="1"><italic toggle="yes">C</italic> × <italic toggle="yes">D</italic></td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1">
                  <inline-formula id="ieqn-167">
                    <alternatives>
                      <inline-graphic xlink:href="peerj-cs-08-1073-i208.jpg"/>
                      <tex-math id="tex-ieqn-167">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$W_{\phi}$\end{document}</tex-math>
                      <mml:math id="mml-ieqn-167" overflow="scroll">
                        <mml:msub>
                          <mml:mi>W</mml:mi>
                          <mml:mrow>
                            <mml:mi>ϕ</mml:mi>
                          </mml:mrow>
                        </mml:msub>
                      </mml:math>
                    </alternatives>
                  </inline-formula>
                </td>
                <td rowspan="1" colspan="1"><italic toggle="yes">D</italic> × <italic toggle="yes">C</italic></td>
              </tr>
            </tbody>
          </table>
        </alternatives>
        <table-wrap-foot>
          <fn id="table-6fn">
            <p>
              <bold>Note:</bold>
            </p>
          </fn>
          <fn id="table-6fn1" fn-type="other">
            <p>In the order as they appear in the text.</p>
          </fn>
        </table-wrap-foot>
      </table-wrap>
    </sec>
    <sec>
      <title>General experimental setup</title>
      <p>All experiments were performed on a single-node machine with an Intel(R) Xeon(R) Gold 5118 (2.30 GHz, 12 cores) CPU and 64 GB of RAM. GPU experiments used a Nvidia GeForce GTX 1080 Ti GPU. We used the Adam optimiser (<xref rid="ref-24" ref-type="bibr">Kingma &amp; Ba, 2015</xref>) with a learning rate of 0.01. The hyperparameters for the reproduction experiements were taken from the original work by <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref>. However, some hyperparameters were not report in the article, so we obtained the missing configurations from the original codebase and personal communication with the authors. For the new models (c-RGCN &amp; e-RGCN), the hyperparameters were tuned using validation sets. However, we did not perform an extensive systematic hyperparameter search. For reproducibility, we provide an extension description of the hyperparameters that we have used in node classifications and link predictions in YAML files under the <italic toggle="yes">configs</italic> directory on the project GitHub page: <uri xlink:href="https://github.com/thiviyanT/torch-rgcn">https://github.com/thiviyanT/torch-rgcn</uri>.</p>
      <p>We ran the original implementation of the link prediction model (<uri xlink:href="https://github.com/MichSchli/RelationPrediction">https://github.com/MichSchli/RelationPrediction</uri>) on the FB15-237 dataset. The exact hyperparameters for WN18 and FB15k experiments were not available in the original codebase. We used Tensorflow 1.4, Theano 1.0.5 and CUDA 8.0.44. This replication required a Nvidia Titan RTX GPU with 24 GB of GPU memory, but model training and inference was performed on the CPU.</p>
    </sec>
    <sec>
      <title>Schlichtkrull initialisation</title>
      <p>The initialization used in the link prediction models in <xref rid="ref-36" ref-type="bibr">Schlichtkrull et al. (2018)</xref> differs slightly from the more standard Glorot initialization (<xref rid="ref-17" ref-type="bibr">Glorot &amp; Bengio, 2010</xref>).</p>
      <p>
        <disp-formula id="eqn-17">
          <label>(17)</label>
          <alternatives>
            <graphic xlink:href="peerj-cs-08-1073-e026.jpg" position="float"/>
            <tex-math id="tex-eqn-17">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$$std = \Phi \times \displaystyle{3 \over {\sqrt {{\rm fan\ in} + {\rm fan\ out}} }},$$\end{document}</tex-math>
            <mml:math id="mml-eqn-17" display="block" overflow="scroll">
              <mml:mi>s</mml:mi>
              <mml:mi>t</mml:mi>
              <mml:mi>d</mml:mi>
              <mml:mo>=</mml:mo>
              <mml:mi mathvariant="normal">Φ</mml:mi>
              <mml:mo>×</mml:mo>
              <mml:mstyle scriptlevel="0" displaystyle="true">
                <mml:mrow>
                  <mml:mfrac>
                    <mml:mn>3</mml:mn>
                    <mml:mrow>
                      <mml:msqrt>
                        <mml:mrow>
                          <mml:mi mathvariant="normal">f</mml:mi>
                          <mml:mi mathvariant="normal">a</mml:mi>
                          <mml:mi mathvariant="normal">n</mml:mi>
                          <mml:mi mathvariant="normal">i</mml:mi>
                          <mml:mi mathvariant="normal">n</mml:mi>
                        </mml:mrow>
                        <mml:mo>+</mml:mo>
                        <mml:mrow>
                          <mml:mi mathvariant="normal">f</mml:mi>
                          <mml:mi mathvariant="normal">a</mml:mi>
                          <mml:mi mathvariant="normal">n</mml:mi>
                          <mml:mi mathvariant="normal">o</mml:mi>
                          <mml:mi mathvariant="normal">u</mml:mi>
                          <mml:mi mathvariant="normal">t</mml:mi>
                        </mml:mrow>
                      </mml:msqrt>
                    </mml:mrow>
                  </mml:mfrac>
                </mml:mrow>
                <mml:mo>,</mml:mo>
              </mml:mstyle>
            </mml:math>
          </alternatives>
        </disp-formula>
      </p>
      <p>Here, gain (<inline-formula id="ieqn-208"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i209.jpg"/><tex-math id="tex-ieqn-208">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\Phi$\end{document}</tex-math><mml:math id="mml-ieqn-208" overflow="scroll"><mml:mi mathvariant="normal">Φ</mml:mi></mml:math></alternatives></inline-formula>) is a constant that is used to scale the standard deviation according the applied non-linearity. <italic toggle="yes">std</italic> is used to sample random points from either a standard normal or uniform distribution. We refer to this scheme as <italic toggle="yes">Schlichtkrull initialisation</italic>. When gain is not required, <inline-formula id="ieqn-209"><alternatives><inline-graphic xlink:href="peerj-cs-08-1073-i210.jpg"/><tex-math id="tex-ieqn-209">\documentclass[12pt]{minimal}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{upgreek}
\usepackage{mathrsfs}
\setlength{\oddsidemargin}{-69pt}
\begin{document}
}{}$\Phi$\end{document}</tex-math><mml:math id="mml-ieqn-209" overflow="scroll"><mml:mi mathvariant="normal">Φ</mml:mi></mml:math></alternatives></inline-formula> is set to 1.0.</p>
    </sec>
    <sec>
      <title>FB-Toy link prediction</title>
      <p>We also performed link prediction experiment on the FB-Toy dataset. The mean and standard error of the link prediction results are reported in <xref rid="table-7" ref-type="table">Table A2</xref>.</p>
      <table-wrap position="float" id="table-7">
        <object-id pub-id-type="doi">10.7717/peerj-cs.1073/table-7</object-id>
        <label>Table A2</label>
        <caption>
          <title>Mean and standard error of mean reciprocal rank (MRR) and Hits@<italic toggle="yes">k</italic> (<italic toggle="yes">k</italic> = 1, 3 and 10) over 10 runs for link prediction using RGCN and Torch-RGCN on the FB-Toy dataset.</title>
        </caption>
        <alternatives>
          <graphic xlink:href="peerj-cs-08-1073-g015" position="float"/>
          <table frame="hsides" rules="groups" content-type="text">
            <colgroup span="1">
              <col span="1"/>
              <col span="1"/>
              <col span="1"/>
              <col span="1"/>
              <col span="1"/>
              <col span="1"/>
            </colgroup>
            <thead>
              <tr>
                <th rowspan="1" colspan="1">Dataset</th>
                <th rowspan="1" colspan="1">Model</th>
                <th rowspan="1" colspan="1">MRR</th>
                <th rowspan="1" colspan="1">Hits@1</th>
                <th rowspan="1" colspan="1">Hits@3</th>
                <th rowspan="1" colspan="1">Hits@10</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td rowspan="1" colspan="1">FB15k-Toy</td>
                <td rowspan="1" colspan="1">TF-RGCN</td>
                <td rowspan="1" colspan="1">0.432 ± 0.008</td>
                <td rowspan="1" colspan="1">0.293 ± 0.007</td>
                <td rowspan="1" colspan="1">0.482 ± 0.011</td>
                <td rowspan="1" colspan="1">0.768 ± 0.010</td>
              </tr>
              <tr>
                <td rowspan="1" colspan="1"/>
                <td rowspan="1" colspan="1">Torch-RGCN</td>
                <td rowspan="1" colspan="1">0.486 ± 0.009</td>
                <td rowspan="1" colspan="1">0.352 ± 0.011</td>
                <td rowspan="1" colspan="1">0.540 ± 0.009</td>
                <td rowspan="1" colspan="1">0.799 ± 0.008</td>
              </tr>
            </tbody>
          </table>
        </alternatives>
        <table-wrap-foot>
          <fn id="table-7fn">
            <p>
              <bold>Note:</bold>
            </p>
          </fn>
          <fn id="table-7fn1" fn-type="other">
            <p>Triples from the truth set (train, validation and test set) have been filtered. All models that were trained on the GPU.</p>
          </fn>
        </table-wrap-foot>
      </table-wrap>
    </sec>
  </sec>
  <sec id="supplemental-information" sec-type="supplementary-material">
    <title>Supplemental Information</title>
    <supplementary-material id="supp-1" position="float" content-type="local-data">
      <object-id pub-id-type="doi">10.7717/peerj-cs.1073/supp-1</object-id>
      <label>Supplemental Information 1</label>
      <caption>
        <title>Sources to Third-Party Data.</title>
      </caption>
      <media xlink:href="peerj-cs-08-1073-s001.pdf">
        <caption>
          <p>Click here for additional data file.</p>
        </caption>
      </media>
    </supplementary-material>
  </sec>
</body>
<back>
  <ack>
    <p>We are very grateful to Michael Schlichtkrull for supporting us with the reproduction of the link prediction results. Experiments were ran on DAS-5 ASCI Supercomputer (<xref rid="ref-3" ref-type="bibr">Bal et al., 2016</xref>) and on the Dutch national e-infrastructure with the support of SURF Cooperative.</p>
  </ack>
  <sec sec-type="additional-information">
    <title>Additional Information and Declarations</title>
    <fn-group content-type="competing-interests">
      <title>Competing Interests</title>
      <fn fn-type="COI-statement" id="conflict-1">
        <p>The authors declare that they have no competing interests.</p>
      </fn>
    </fn-group>
    <fn-group content-type="author-contributions">
      <title>Author Contributions</title>
      <fn fn-type="con" id="contribution-1">
        <p><xref rid="author-1" ref-type="contrib">Thiviyan Thanapalasingam</xref> conceived and designed the experiments, performed the experiments, analyzed the data, performed the computation work, prepared figures and/or tables, authored or reviewed drafts of the article, and approved the final draft.</p>
      </fn>
      <fn fn-type="con" id="contribution-2">
        <p><xref rid="author-2" ref-type="contrib">Lucas van Berkel</xref> performed the experiments, performed the computation work, authored or reviewed drafts of the article, and approved the final draft.</p>
      </fn>
      <fn fn-type="con" id="contribution-3">
        <p><xref rid="author-3" ref-type="contrib">Peter Bloem</xref> conceived and designed the experiments, authored or reviewed drafts of the article, and approved the final draft.</p>
      </fn>
      <fn fn-type="con" id="contribution-4">
        <p><xref rid="author-4" ref-type="contrib">Paul Groth</xref> conceived and designed the experiments, authored or reviewed drafts of the article, and approved the final draft.</p>
      </fn>
    </fn-group>
    <fn-group content-type="other">
      <title>Data Availability</title>
      <fn id="addinfo-1">
        <p>The following information was supplied regarding data availability:</p>
        <p>Our RGCN implementation is available at GitHub: <uri xlink:href="https://github.com/thiviyanT/torch-rgcn">https://github.com/thiviyanT/torch-rgcn</uri>.</p>
        <p>The links to third-party datasets, and their published sources, used in this work are available in the <xref rid="supplemental-information" ref-type="sec">Supplemental File</xref>.</p>
      </fn>
    </fn-group>
  </sec>
  <ref-list content-type="authoryear">
    <title>References</title>
    <ref id="ref-1">
      <label>Abadi et al. (2016)</label>
      <element-citation publication-type="other">
        <person-group person-group-type="author">
          <name>
            <surname>Abadi</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Agarwal</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Barham</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Brevdo</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Chen</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Citro</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Corrado</surname>
            <given-names>GS</given-names>
          </name>
          <name>
            <surname>Davis</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Dean</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Devin</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Ghemawat</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Goodfellow</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Harp</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Irving</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Isard</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Jia</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Jozefowicz</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Kaiser</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Kudlur</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Levenberg</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Mane</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Monga</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Moore</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Murray</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Olah</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Schuster</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Shlens</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Steiner</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Sutskever</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Talwar</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Tucker</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Vanhoucke</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Vasudevan</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Viegas</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Vinyals</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Warden</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Wattenberg</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Wicke</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Yu</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Zheng</surname>
            <given-names>X</given-names>
          </name>
        </person-group>
        <article-title>TensorFlow: large-scale machine learning on heterogeneous distributed systems</article-title>
        <year iso-8601-date="2016">2016</year>
        <source>ArXiv preprint</source>
        <pub-id pub-id-type="doi">10.48550/arXiv.1603.04467</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-2">
      <label>Al-Rfou et al. (2016)</label>
      <element-citation publication-type="other">
        <person-group person-group-type="author">
          <name>
            <surname>Al-Rfou</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Alain</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Almahairi</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Angermueller</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Bahdanau</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Ballas</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Bastien</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Bayer</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Belikov</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Belopolsky</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Bengio</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Bergeron</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Bergstra</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Bisson</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Snyder</surname>
            <given-names>JB</given-names>
          </name>
          <name>
            <surname>Bouchard</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Boulanger-Lewandowski</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Bouthillier</surname>
            <given-names>X</given-names>
          </name>
          <name>
            <surname>de Brébisson</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Breuleux</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Carrier</surname>
            <given-names>P-L</given-names>
          </name>
          <name>
            <surname>Cho</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Chorowski</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Christiano</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Cooijmans</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Côté</surname>
            <given-names>M-A</given-names>
          </name>
          <name>
            <surname>Côté</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Courville</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Dauphin</surname>
            <given-names>YN</given-names>
          </name>
          <name>
            <surname>Delalleau</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Demouth</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Desjardins</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Dieleman</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Dinh</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Ducoffe</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Dumoulin</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Kahou</surname>
            <given-names>SE</given-names>
          </name>
          <name>
            <surname>Erhan</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Fan</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Firat</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Germain</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Glorot</surname>
            <given-names>X</given-names>
          </name>
          <name>
            <surname>Goodfellow</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Graham</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Gulcehre</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Hamel</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Harlouchet</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Heng</surname>
            <given-names>J-P</given-names>
          </name>
          <name>
            <surname>Hidasi</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Honari</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Jain</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Jean</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Jia</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Korobov</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Kulkarni</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Lamb</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Lamblin</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Larsen</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Laurent</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Lee</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Lefrancois</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Lemieux</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Léonard</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Lin</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Livezey</surname>
            <given-names>JA</given-names>
          </name>
          <name>
            <surname>Lorenz</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Lowin</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Ma</surname>
            <given-names>Q</given-names>
          </name>
          <name>
            <surname>Manzagol</surname>
            <given-names>P-A</given-names>
          </name>
          <name>
            <surname>Mastropietro</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>McGibbon</surname>
            <given-names>RT</given-names>
          </name>
          <name>
            <surname>Memisevic</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>van Merrienboer</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Michalski</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Mirza</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Orlandi</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Pal</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Pascanu</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Pezeshki</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Raffel</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Renshaw</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Rocklin</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Romero</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Roth</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Sadowski</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Salvatier</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Savard</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Schlüter</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Schulman</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Schwartz</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Serban</surname>
            <given-names>IV</given-names>
          </name>
          <name>
            <surname>Serdyuk</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Shabanian</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Simon</surname>
            <given-names>t</given-names>
          </name>
          <name>
            <surname>Spieckermann</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Subramanyam</surname>
            <given-names>SR</given-names>
          </name>
          <name>
            <surname>Sygnowski</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Tanguay</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>van Tulder</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Turian</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Urban</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Vincent</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Visin</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>de Vries</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Warde-Farley</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Webb</surname>
            <given-names>DJ</given-names>
          </name>
          <name>
            <surname>Willson</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Xu</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Xue</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Yao</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Zhang</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Zhang</surname>
            <given-names>Y</given-names>
          </name>
        </person-group>
        <article-title>Theano: a Python framework for fast computation of mathematical expressions</article-title>
        <year iso-8601-date="2016">2016</year>
        <source>ArXiv preprint</source>
        <pub-id pub-id-type="doi">10.48550/arXiv.1605.02688</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-3">
      <label>Bal et al. (2016)</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Bal</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Epema</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>de Laat</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>van Nieuwpoort</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Romein</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Seinstra</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Snoek</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Wijshoff</surname>
            <given-names>H</given-names>
          </name>
        </person-group>
        <article-title>A medium-scale distributed system for computer science research: infrastructure for the long term</article-title>
        <source>Computer</source>
        <year iso-8601-date="2016">2016</year>
        <volume>49</volume>
        <issue>5</issue>
        <fpage>54</fpage>
        <lpage>63</lpage>
        <pub-id pub-id-type="doi">10.1109/MC.2016.127</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-4">
      <label>Battaglia et al. (2018)</label>
      <element-citation publication-type="other">
        <person-group person-group-type="author">
          <name>
            <surname>Battaglia</surname>
            <given-names>PW</given-names>
          </name>
          <name>
            <surname>Hamrick</surname>
            <given-names>JB</given-names>
          </name>
          <name>
            <surname>Bapst</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Sanchez-Gonzalez</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Zambaldi</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Malinowski</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Tacchetti</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Raposo</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Santoro</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Faulkner</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Gulcehre</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Song</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Ballard</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Gilmer</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Dahl</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Vaswani</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Allen</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Nash</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Langston</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Dyer</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Heess</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Wierstra</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Kohli</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Botvinick</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Vinyals</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Li</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Pascanu</surname>
            <given-names>R</given-names>
          </name>
        </person-group>
        <article-title>Relational inductive biases, deep learning, and graph networks</article-title>
        <year iso-8601-date="2018">2018</year>
        <source>ArXiv preprint</source>
        <pub-id pub-id-type="doi">10.48550/arXiv.1806.01261</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-5">
      <label>Bloehdorn &amp; Sure (2007)</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Bloehdorn</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Sure</surname>
            <given-names>Y</given-names>
          </name>
        </person-group>
        <person-group person-group-type="editor">
          <name>
            <surname>Hutchison</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Kanade</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Kittler</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Kleinberg</surname>
            <given-names>JM</given-names>
          </name>
          <name>
            <surname>Mattern</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Mitchell</surname>
            <given-names>JC</given-names>
          </name>
          <name>
            <surname>Naor</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Nierstrasz</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Pandu Rangan</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Steffen</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Sudan</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Terzopoulos</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Tygar</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Vardi</surname>
            <given-names>MY</given-names>
          </name>
          <name>
            <surname>Weikum</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Aberer</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Choi</surname>
            <given-names>KS</given-names>
          </name>
          <name>
            <surname>Noy</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Allemang</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Lee</surname>
            <given-names>K-I</given-names>
          </name>
          <name>
            <surname>Nixon</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Golbeck</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Mika</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Maynard</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Mizoguchi</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Schreiber</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Cudré-Mauroux</surname>
            <given-names>P</given-names>
          </name>
        </person-group>
        <article-title>Kernel methods for mining instance data in ontologies</article-title>
        <source>The Semantic Web</source>
        <year iso-8601-date="2007">2007</year>
        <volume>4825</volume>
        <publisher-loc>Berlin Heidelberg</publisher-loc>
        <publisher-name>Springer</publisher-name>
        <fpage>58</fpage>
        <lpage>71</lpage>
      </element-citation>
    </ref>
    <ref id="ref-6">
      <label>Bordes et al. (2013)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>Bordes</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Usunier</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Garcia-Durán</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Weston</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Yakhnenko</surname>
            <given-names>O</given-names>
          </name>
        </person-group>
        <article-title>Translating embeddings for modeling multi-relational data</article-title>
        <year iso-8601-date="2013">2013</year>
        <conf-name>Proceedings of the 26th International Conference on Neural Information Processing Systems, NIPS’13</conf-name>
        <volume>2</volume>
        <publisher-loc>Red Hook, NY, USA</publisher-loc>
        <publisher-name>Curran Associates Inc</publisher-name>
        <fpage>2787</fpage>
        <lpage>2795</lpage>
      </element-citation>
    </ref>
    <ref id="ref-7">
      <label>Bornea et al. (2013)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>Bornea</surname>
            <given-names>MA</given-names>
          </name>
          <name>
            <surname>Dolby</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Kementsietsidis</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Srinivas</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Dantressangle</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Udrea</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Bhattacharjee</surname>
            <given-names>B</given-names>
          </name>
        </person-group>
        <article-title>Building an efficient RDF store over a relational database</article-title>
        <year iso-8601-date="2013">2013</year>
        <conf-name>Proceedings of the 2013 International Conference on Management of Data – SIGMOD ’13</conf-name>
        <publisher-loc>New York, New York, USA</publisher-loc>
        <publisher-name>ACM Press</publisher-name>
        <fpage>121</fpage>
      </element-citation>
    </ref>
    <ref id="ref-8">
      <label>Busbridge et al. (2019)</label>
      <element-citation publication-type="other">
        <person-group person-group-type="author">
          <name>
            <surname>Busbridge</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Sherburn</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Cavallo</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Hammerla</surname>
            <given-names>NY</given-names>
          </name>
        </person-group>
        <article-title>Relational graph attention networks</article-title>
        <year iso-8601-date="2019">2019</year>
        <source>ArXiv preprint</source>
        <pub-id pub-id-type="doi">10.48550/arXiv.2109.05922</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-9">
      <label>Chen et al. (2020)</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Chen</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Pan</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Wei</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Wang</surname>
            <given-names>X</given-names>
          </name>
          <name>
            <surname>Ngo</surname>
            <given-names>C-W</given-names>
          </name>
          <name>
            <surname>Chua</surname>
            <given-names>T-S</given-names>
          </name>
        </person-group>
        <article-title>Zero-shot ingredient recognition by multi-relational graph convolutional network</article-title>
        <source>Proceedings of the AAAI Conference on Artificial Intelligence</source>
        <year iso-8601-date="2020">2020</year>
        <volume>34</volume>
        <issue>07</issue>
        <fpage>10542</fpage>
        <lpage>10550</lpage>
        <pub-id pub-id-type="doi">10.1609/aaai.v34i07.6626</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-10">
      <label>Daza &amp; Cochez (2020)</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Daza</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Cochez</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>Message passing for query answering over knowledge graphs</article-title>
        <source>ArXiv preprint</source>
        <year iso-8601-date="2020">2020</year>
        <pub-id pub-id-type="doi">10.48550/arXiv.1908.06917</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-11">
      <label>de Boer et al. (2012)</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>de Boer</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Wielemaker</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>van Gent</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Hildebrand</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Isaac</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>van Ossenbruggen</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Schreiber</surname>
            <given-names>G</given-names>
          </name>
        </person-group>
        <person-group person-group-type="editor">
          <name>
            <surname>Simperl</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Cimiano</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Polleres</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Corcho</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Presutti</surname>
            <given-names>V</given-names>
          </name>
        </person-group>
        <article-title>Supporting linked data production for cultural heritage institutes: the amsterdam museum case study</article-title>
        <source>The Semantic Web: Research and Applications</source>
        <year iso-8601-date="2012">2012</year>
        <publisher-loc>Berlin, Heidelberg</publisher-loc>
        <publisher-name>Springer</publisher-name>
        <fpage>733</fpage>
        <lpage>747</lpage>
      </element-citation>
    </ref>
    <ref id="ref-12">
      <label>de Vries (2013)</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>de Vries</surname>
            <given-names>GKD</given-names>
          </name>
        </person-group>
        <person-group person-group-type="editor">
          <name>
            <surname>Hutchison</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Kanade</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Kittler</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Kleinberg</surname>
            <given-names>JM</given-names>
          </name>
          <name>
            <surname>Mattern</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Mitchell</surname>
            <given-names>JC</given-names>
          </name>
          <name>
            <surname>Naor</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Nierstrasz</surname>
            <given-names>O</given-names>
          </name>
          <name>
            <surname>Pandu Rangan</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Steffen</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Sudan</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Terzopoulos</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Tygar</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Vardi</surname>
            <given-names>MY</given-names>
          </name>
          <name>
            <surname>Weikum</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Salinesi</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Norrie</surname>
            <given-names>MC</given-names>
          </name>
          <name>
            <surname>Pastor</surname>
            <given-names>S</given-names>
          </name>
        </person-group>
        <article-title>A fast approximation of the Weisfeiler-Lehman graph kernel for RDF data</article-title>
        <source>Advanced Information Systems Engineering</source>
        <year iso-8601-date="2013">2013</year>
        <volume>7908</volume>
        <publisher-loc>Berlin, Heidelberg</publisher-loc>
        <publisher-name>Springer</publisher-name>
        <fpage>606</fpage>
        <lpage>621</lpage>
      </element-citation>
    </ref>
    <ref id="ref-13">
      <label>Debnath et al. (1991)</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Debnath</surname>
            <given-names>AK</given-names>
          </name>
          <name>
            <surname>Lopez de Compadre</surname>
            <given-names>RL</given-names>
          </name>
          <name>
            <surname>Debnath</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Shusterman</surname>
            <given-names>AJ</given-names>
          </name>
          <name>
            <surname>Hansch</surname>
            <given-names>C</given-names>
          </name>
        </person-group>
        <article-title>Structure-activity relationship of mutagenic aromatic and heteroaromatic nitro compounds. Correlation with molecular orbital energies and hydrophobicity</article-title>
        <source>Journal of Medicinal Chemistry</source>
        <year iso-8601-date="1991">1991</year>
        <volume>34</volume>
        <issue>2</issue>
        <fpage>786</fpage>
        <lpage>797</lpage>
        <pub-id pub-id-type="doi">10.1021/jm00106a046</pub-id>
        <pub-id pub-id-type="pmid">1995902</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-14">
      <label>Donadello &amp; Serafini (2019)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>Donadello</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Serafini</surname>
            <given-names>L</given-names>
          </name>
        </person-group>
        <article-title>Compensating supervision incompleteness with prior knowledge in semantic image interpretation</article-title>
        <year iso-8601-date="2019">2019</year>
        <conf-name>2019 International Joint Conference on Neural Networks (IJCNN)</conf-name>
        <publisher-loc>Budapest, Hungary</publisher-loc>
        <publisher-name>IEEE</publisher-name>
        <fpage>1</fpage>
        <lpage>8</lpage>
      </element-citation>
    </ref>
    <ref id="ref-15">
      <label>Fey &amp; Lenssen (2019)</label>
      <element-citation publication-type="other">
        <person-group person-group-type="author">
          <name>
            <surname>Fey</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Lenssen</surname>
            <given-names>JE</given-names>
          </name>
        </person-group>
        <article-title>Fast graph representation learning with PyTorch geometric</article-title>
        <year iso-8601-date="2019">2019</year>
        <source>ArXiv preprint</source>
        <pub-id pub-id-type="doi">10.48550/arXiv.1903.02428</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-16">
      <label>Fokkens et al. (2013)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>Fokkens</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>van Erp</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Postma</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Pedersen</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Vossen</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Freire</surname>
            <given-names>N</given-names>
          </name>
        </person-group>
        <article-title>Offspring from reproduction problems: what replication failure teaches Us</article-title>
        <year iso-8601-date="2013">2013</year>
        <conf-name>Proceedings of the 51st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</conf-name>
        <publisher-loc>Sofia, Bulgaria</publisher-loc>
        <publisher-name>Association for Computational Linguistics</publisher-name>
        <fpage>1691</fpage>
        <lpage>1701</lpage>
      </element-citation>
    </ref>
    <ref id="ref-17">
      <label>Glorot &amp; Bengio (2010)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>Glorot</surname>
            <given-names>X</given-names>
          </name>
          <name>
            <surname>Bengio</surname>
            <given-names>Y</given-names>
          </name>
        </person-group>
        <article-title>Understanding the difficulty of training deep feedforward neural networks</article-title>
        <year iso-8601-date="2010">2010</year>
        <conf-name>Proceedings of the Thirteenth International Conference on Artificial Intelligence and Statistics</conf-name>
        <fpage>249</fpage>
        <lpage>256</lpage>
      </element-citation>
    </ref>
    <ref id="ref-18">
      <label>Guo et al. (2021)</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Guo</surname>
            <given-names>X</given-names>
          </name>
          <name>
            <surname>Hsu</surname>
            <given-names>I-H</given-names>
          </name>
          <name>
            <surname>AbdAlmageed</surname>
            <given-names>W</given-names>
          </name>
          <name>
            <surname>Natarajan</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Peng</surname>
            <given-names>N</given-names>
          </name>
        </person-group>
        <article-title>MrGCN: mirror graph convolution network for relation extraction with long-term dependencies</article-title>
        <source>CoRR</source>
        <year iso-8601-date="2021">2021</year>
        <pub-id pub-id-type="doi">10.48550/arXiv.2101.00124</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-19">
      <label>He et al. (2015)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>He</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Zhang</surname>
            <given-names>X</given-names>
          </name>
          <name>
            <surname>Ren</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Sun</surname>
            <given-names>J</given-names>
          </name>
        </person-group>
        <article-title>Delving deep into rectifiers: surpassing human-level performance on ImageNet classification</article-title>
        <year iso-8601-date="2015">2015</year>
        <conf-name>2015 IEEE International Conference on Computer Vision (ICCV)</conf-name>
        <publisher-loc>Santiago, Chile</publisher-loc>
        <publisher-name>IEEE</publisher-name>
        <fpage>1026</fpage>
        <lpage>1034</lpage>
      </element-citation>
    </ref>
    <ref id="ref-20">
      <label>Heil et al. (2021)</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Heil</surname>
            <given-names>BJ</given-names>
          </name>
          <name>
            <surname>Hoffman</surname>
            <given-names>MM</given-names>
          </name>
          <name>
            <surname>Markowetz</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Lee</surname>
            <given-names>S-I</given-names>
          </name>
          <name>
            <surname>Greene</surname>
            <given-names>CS</given-names>
          </name>
          <name>
            <surname>Hicks</surname>
            <given-names>SC</given-names>
          </name>
        </person-group>
        <article-title>Reproducibility standards for machine learning in the life sciences</article-title>
        <source>Nature Methods</source>
        <year iso-8601-date="2021">2021</year>
        <volume>18</volume>
        <issue>10</issue>
        <fpage>1132</fpage>
        <lpage>1135</lpage>
        <pub-id pub-id-type="doi">10.1038/s41592-021-01256-7</pub-id>
        <pub-id pub-id-type="pmid">34462593</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-21">
      <label>Hu et al. (2021)</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Hu</surname>
            <given-names>X</given-names>
          </name>
          <name>
            <surname>Fan</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Noskov</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Wang</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Zipf</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Gu</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Shang</surname>
            <given-names>J</given-names>
          </name>
        </person-group>
        <article-title>Room semantics inference using random forest and relational graph convolutional networks: a case study of research building</article-title>
        <source>Transactions in GIS</source>
        <year iso-8601-date="2021">2021</year>
        <volume>25</volume>
        <issue>1</issue>
        <fpage>71</fpage>
        <lpage>111</lpage>
        <pub-id pub-id-type="doi">10.1111/tgis.12664</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-22">
      <label>Huang &amp; Mamoulis (2017)</label>
      <element-citation publication-type="other">
        <person-group person-group-type="author">
          <name>
            <surname>Huang</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Mamoulis</surname>
            <given-names>N</given-names>
          </name>
        </person-group>
        <article-title>Heterogeneous information network embedding for meta path based proximity</article-title>
        <year iso-8601-date="2017">2017</year>
        <source>ArXiv preprint</source>
        <pub-id pub-id-type="doi">10.48550/arXiv.1701.05291</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-23">
      <label>Isdahl &amp; Gundersen (2019)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>Isdahl</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Gundersen</surname>
            <given-names>OE</given-names>
          </name>
        </person-group>
        <article-title>Out-of-the-box reproducibility: a survey of machine learning platforms</article-title>
        <year iso-8601-date="2019">2019</year>
        <conf-name>2019 15th International Conference on eScience (eScience)</conf-name>
        <publisher-loc>San Diego, CA, USA</publisher-loc>
        <publisher-name>IEEE</publisher-name>
        <fpage>86</fpage>
        <lpage>95</lpage>
      </element-citation>
    </ref>
    <ref id="ref-24">
      <label>Kingma &amp; Ba (2015)</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Kingma</surname>
            <given-names>DP</given-names>
          </name>
          <name>
            <surname>Ba</surname>
            <given-names>J</given-names>
          </name>
        </person-group>
        <person-group person-group-type="editor">
          <name>
            <surname>Bengio</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>LeCun</surname>
            <given-names>Y</given-names>
          </name>
        </person-group>
        <article-title>Adam: a method for stochastic optimization</article-title>
        <source>3rd International Conference on Learning Representations, ICLR 2015, San Diego, CA, USA, May 7–9, 2015, Conference Track Proceedings</source>
        <year iso-8601-date="2015">2015</year>
      </element-citation>
    </ref>
    <ref id="ref-25">
      <label>Kipf &amp; Welling (2017)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>Kipf</surname>
            <given-names>TN</given-names>
          </name>
          <name>
            <surname>Welling</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>Semi-supervised classification with graph convolutional networks</article-title>
        <year iso-8601-date="2017">2017</year>
        <conf-name>5th International Conference on Learning Representations, ICLR 2017, Toulon, France, April 24–26, 2017, Conference Track Proceedings</conf-name>
        <comment>OpenReview.net</comment>
      </element-citation>
    </ref>
    <ref id="ref-26">
      <label>Klusowski &amp; Wu (2018)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>Klusowski</surname>
            <given-names>JM</given-names>
          </name>
          <name>
            <surname>Wu</surname>
            <given-names>Y</given-names>
          </name>
        </person-group>
        <article-title>Counting motifs with graph sampling</article-title>
        <year iso-8601-date="2018">2018</year>
        <conf-name>Proceedings of the 31st Conference On Learning Theory</conf-name>
        <publisher-name>PMLR</publisher-name>
        <fpage>1966</fpage>
        <lpage>2011</lpage>
      </element-citation>
    </ref>
    <ref id="ref-27">
      <label>Kuptsov (2022)</label>
      <element-citation publication-type="other">
        <person-group person-group-type="author">
          <name>
            <surname>Kuptsov</surname>
            <given-names>L</given-names>
          </name>
        </person-group>
        <article-title>Einstein rule – Encyclopedia of Mathematics</article-title>
        <year iso-8601-date="2022">2022</year>
        <uri xlink:href="http://encyclopediaofmath.org/index.php?title=Einstein_rule&amp;oldid=11443">http://encyclopediaofmath.org/index.php?title=Einstein_rule&amp;oldid=11443</uri>
      </element-citation>
    </ref>
    <ref id="ref-28">
      <label>Li, Han &amp; Wu (2018)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>Li</surname>
            <given-names>Q</given-names>
          </name>
          <name>
            <surname>Han</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Wu</surname>
            <given-names>X-M</given-names>
          </name>
        </person-group>
        <article-title>Deeper insights into graph convolutional networks for semi-supervised learning</article-title>
        <year iso-8601-date="2018">2018</year>
        <conf-name>Proceedings of the AAAI Conference on Artificial Intelligence</conf-name>
        <fpage>32</fpage>
      </element-citation>
    </ref>
    <ref id="ref-29">
      <label>Mylavarapu et al. (2020)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>Mylavarapu</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Sandhu</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Vijayan</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Krishna</surname>
            <given-names>KM</given-names>
          </name>
          <name>
            <surname>Ravindran</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Namboodiri</surname>
            <given-names>A</given-names>
          </name>
        </person-group>
        <article-title>Towards accurate vehicle behaviour classification with multi-relational graph convolutional networks</article-title>
        <year iso-8601-date="2020">2020</year>
        <conf-name>2020 IEEE Intelligent Vehicles Symposium (IV)</conf-name>
        <publisher-loc>Las Vegas, NV, USA</publisher-loc>
        <publisher-name>IEEE</publisher-name>
        <fpage>321</fpage>
        <lpage>327</lpage>
      </element-citation>
    </ref>
    <ref id="ref-30">
      <label>Nickel et al. (2016)</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Nickel</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Murphy</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Tresp</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Gabrilovich</surname>
            <given-names>E</given-names>
          </name>
        </person-group>
        <article-title>A review of relational machine learning for knowledge graphs</article-title>
        <source>Proceedings of the IEEE</source>
        <year iso-8601-date="2016">2016</year>
        <volume>104</volume>
        <issue>1</issue>
        <fpage>11</fpage>
        <lpage>33</lpage>
        <pub-id pub-id-type="doi">10.1109/JPROC.2015.2483592</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-31">
      <label>Noy et al. (2019)</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Noy</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Gao</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Jain</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Narayanan</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Patterson</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Taylor</surname>
            <given-names>J</given-names>
          </name>
        </person-group>
        <article-title>Industry-scale knowledge graphs: lessons and challenges</article-title>
        <source>Communications of the ACM</source>
        <year iso-8601-date="2019">2019</year>
        <volume>62</volume>
        <issue>8</issue>
        <fpage>36</fpage>
        <lpage>43</lpage>
        <pub-id pub-id-type="doi">10.1145/3331166</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-32">
      <label>Paszke et al. (2019)</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Paszke</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Gross</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Massa</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Lerer</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Bradbury</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Chanan</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Killeen</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Lin</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Gimelshein</surname>
            <given-names>N</given-names>
          </name>
          <name>
            <surname>Antiga</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Desmaison</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Kopf</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Yang</surname>
            <given-names>EZ</given-names>
          </name>
          <name>
            <surname>DeVito</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Raison</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Tejani</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Chilamkurthy</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Steiner</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Fang</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Bai</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Chintala</surname>
            <given-names>S</given-names>
          </name>
        </person-group>
        <person-group person-group-type="editor">
          <name>
            <surname>Wallach</surname>
            <given-names>HM</given-names>
          </name>
          <name>
            <surname>Larochelle</surname>
            <given-names>H</given-names>
          </name>
          <name>
            <surname>Beygelzimer</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>d’Alché Buc</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Fox</surname>
            <given-names>EB</given-names>
          </name>
          <name>
            <surname>Garnett</surname>
            <given-names>R</given-names>
          </name>
        </person-group>
        <article-title>PyTorch: an imperative style, high-performance deep learning library</article-title>
        <source>Advances in Neural Information Processing Systems 32: Annual Conference on Neural Information Processing Systems 2019, NeurIPS 2019, December 8–14, 2019, Vancouver, BC, Canada</source>
        <year iso-8601-date="2019">2019</year>
        <fpage>8024</fpage>
        <lpage>8035</lpage>
      </element-citation>
    </ref>
    <ref id="ref-33">
      <label>Paulheim (2016)</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Paulheim</surname>
            <given-names>H</given-names>
          </name>
        </person-group>
        <article-title>Knowledge graph refinement: a survey of approaches and evaluation methods</article-title>
        <source>Semantic Web</source>
        <year iso-8601-date="2016">2016</year>
        <volume>8</volume>
        <issue>3</issue>
        <fpage>489</fpage>
        <lpage>508</lpage>
        <pub-id pub-id-type="doi">10.3233/SW-160218</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-34">
      <label>Rossi et al. (2021)</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Rossi</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Barbosa</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Firmani</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Matinata</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Merialdo</surname>
            <given-names>P</given-names>
          </name>
        </person-group>
        <article-title>Knowledge graph embedding for link prediction: a comparative analysis</article-title>
        <source>ACM Transactions on Knowledge Discovery from Data</source>
        <year iso-8601-date="2021">2021</year>
        <volume>15</volume>
        <issue>2</issue>
        <fpage>1</fpage>
        <lpage>49</lpage>
        <pub-id pub-id-type="doi">10.1145/3424672</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-35">
      <label>Ruffinelli, Broscheit &amp; Gemulla (2020)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>Ruffinelli</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Broscheit</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Gemulla</surname>
            <given-names>R</given-names>
          </name>
        </person-group>
        <article-title>You CAN teach an old dog new tricks! On training knowledge graph embeddings</article-title>
        <year iso-8601-date="2020">2020</year>
        <conf-name>8th International Conference on Learning Representations, ICLR 2020, Addis Ababa, Ethiopia, April 26–30, 2020</conf-name>
      </element-citation>
    </ref>
    <ref id="ref-36">
      <label>Schlichtkrull et al. (2018)</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Schlichtkrull</surname>
            <given-names>MS</given-names>
          </name>
          <name>
            <surname>Kipf</surname>
            <given-names>TN</given-names>
          </name>
          <name>
            <surname>Bloem</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Berg</surname>
            <given-names>Rv d</given-names>
          </name>
          <name>
            <surname>Titov</surname>
            <given-names>I</given-names>
          </name>
          <name>
            <surname>Welling</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <person-group person-group-type="editor">
          <name>
            <surname>Gangemi</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Navigli</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Vidal</surname>
            <given-names>M-E</given-names>
          </name>
          <name>
            <surname>Hitzler</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Troncy</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Hollink</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Tordai</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Alam</surname>
            <given-names>M</given-names>
          </name>
        </person-group>
        <article-title>Modeling relational data with graph convolutional networks</article-title>
        <source>The Semantic Web. ESWC 2018. Lecture Notes in Computer Science</source>
        <year iso-8601-date="2018">2018</year>
        <volume>10843</volume>
        <publisher-loc>Cham</publisher-loc>
        <publisher-name>Springer</publisher-name>
        <fpage>593</fpage>
        <lpage>607</lpage>
        <pub-id pub-id-type="doi">10.1007/978-3-319-93417-4_38</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-37">
      <label>Sinha et al. (2020)</label>
      <element-citation publication-type="other">
        <person-group person-group-type="author">
          <name>
            <surname>Sinha</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Sodhani</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Pineau</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Hamilton</surname>
            <given-names>WL</given-names>
          </name>
        </person-group>
        <article-title>Evaluating logical generalization in graph neural networks</article-title>
        <year iso-8601-date="2020">2020</year>
        <source>ArXiv preprint</source>
        <pub-id pub-id-type="doi">10.48550/arXiv.2003.06560</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-38">
      <label>Tatman, VanderPlas &amp; Dane (2018)</label>
      <element-citation publication-type="confproc">
        <person-group person-group-type="author">
          <name>
            <surname>Tatman</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>VanderPlas</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Dane</surname>
            <given-names>S</given-names>
          </name>
        </person-group>
        <article-title>A practical taxonomy of reproducibility for machine learning research</article-title>
        <year iso-8601-date="2018">2018</year>
        <conf-name>Reproducibility in Machine Learning Workshop at ICML 2018</conf-name>
      </element-citation>
    </ref>
    <ref id="ref-39">
      <label>Wang et al. (2020)</label>
      <element-citation publication-type="other">
        <person-group person-group-type="author">
          <name>
            <surname>Wang</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Zheng</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Ye</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Gan</surname>
            <given-names>Q</given-names>
          </name>
          <name>
            <surname>Li</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Song</surname>
            <given-names>X</given-names>
          </name>
          <name>
            <surname>Zhou</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Ma</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Yu</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Gai</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Xiao</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>He</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Karypis</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Li</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Zhang</surname>
            <given-names>Z</given-names>
          </name>
        </person-group>
        <article-title>Deep graph library: a graph-centric, highly-performant package for graph neural networks</article-title>
        <year iso-8601-date="2020">2020</year>
        <comment>Technical Report</comment>
        <pub-id pub-id-type="doi">10.48550/arXiv.1909.01315</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-40">
      <label>Wu et al. (2021)</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Wu</surname>
            <given-names>Z</given-names>
          </name>
          <name>
            <surname>Pan</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Chen</surname>
            <given-names>F</given-names>
          </name>
          <name>
            <surname>Long</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Zhang</surname>
            <given-names>C</given-names>
          </name>
          <name>
            <surname>Yu</surname>
            <given-names>PS</given-names>
          </name>
        </person-group>
        <article-title>A comprehensive survey on graph neural networks</article-title>
        <source>IEEE Transactions on Neural Networks and Learning Systems</source>
        <year iso-8601-date="2021">2021</year>
        <volume>32</volume>
        <issue>1</issue>
        <fpage>4</fpage>
        <lpage>24</lpage>
        <pub-id pub-id-type="doi">10.1109/TNNLS.2020.2978386</pub-id>
        <pub-id pub-id-type="pmid">32217482</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-41">
      <label>Yang et al. (2015)</label>
      <element-citation publication-type="book">
        <person-group person-group-type="author">
          <name>
            <surname>Yang</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Yih</surname>
            <given-names>W-t</given-names>
          </name>
          <name>
            <surname>He</surname>
            <given-names>X</given-names>
          </name>
          <name>
            <surname>Gao</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Deng</surname>
            <given-names>L</given-names>
          </name>
        </person-group>
        <person-group person-group-type="editor">
          <name>
            <surname>Bengio</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>LeCun</surname>
            <given-names>Y</given-names>
          </name>
        </person-group>
        <article-title>Embedding entities and relations for learning and inference in knowledge bases</article-title>
        <source>3rd International Conference on Learning Representations, ICLR 2015, San Diego, CA, USA, May 7–9, 2015, Conference Track Proceedings</source>
        <year iso-8601-date="2015">2015</year>
      </element-citation>
    </ref>
  </ref-list>
</back>
