<?properties open_access?>
<?DTDIdentifier.IdentifierValue -//NLM//DTD Journal Publishing DTD v2.3 20070202//EN?>
<?DTDIdentifier.IdentifierType public?>
<?SourceDTD.DTDName journalpublishing.dtd?>
<?SourceDTD.Version 2.3?>
<?ConverterInfo.XSLTName jp2nlmx2.xsl?>
<?ConverterInfo.Version 2?>
<front>
  <journal-meta>
    <journal-id journal-id-type="nlm-ta">Nucleic Acids Res</journal-id>
    <journal-id journal-id-type="publisher-id">nar</journal-id>
    <journal-id journal-id-type="hwp">nar</journal-id>
    <journal-title-group>
      <journal-title>Nucleic Acids Research</journal-title>
    </journal-title-group>
    <issn pub-type="ppub">0305-1048</issn>
    <issn pub-type="epub">1362-4962</issn>
    <publisher>
      <publisher-name>Oxford University Press</publisher-name>
    </publisher>
  </journal-meta>
  <article-meta>
    <article-id pub-id-type="pmcid">3013662</article-id>
    <article-id pub-id-type="pmid">21037260</article-id>
    <article-id pub-id-type="doi">10.1093/nar/gkq1054</article-id>
    <article-id pub-id-type="publisher-id">gkq1054</article-id>
    <article-categories>
      <subj-group subj-group-type="heading">
        <subject>Articles</subject>
      </subj-group>
    </article-categories>
    <title-group>
      <article-title>New tools and methods for direct programmatic access to the dbSNP relational database</article-title>
    </title-group>
    <contrib-group>
      <contrib contrib-type="author">
        <name>
          <surname>Saccone</surname>
          <given-names>Scott F.</given-names>
        </name>
        <xref ref-type="aff" rid="AFF1">
          <sup>1</sup>
        </xref>
        <xref ref-type="corresp" rid="COR1">*</xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Quan</surname>
          <given-names>Jiaxi</given-names>
        </name>
        <xref ref-type="aff" rid="AFF1">
          <sup>1</sup>
        </xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Mehta</surname>
          <given-names>Gaurang</given-names>
        </name>
        <xref ref-type="aff" rid="AFF1">
          <sup>2</sup>
        </xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Bolze</surname>
          <given-names>Raphael</given-names>
        </name>
        <xref ref-type="aff" rid="AFF1">
          <sup>2</sup>
        </xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Thomas</surname>
          <given-names>Prasanth</given-names>
        </name>
        <xref ref-type="aff" rid="AFF1">
          <sup>2</sup>
        </xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Deelman</surname>
          <given-names>Ewa</given-names>
        </name>
        <xref ref-type="aff" rid="AFF1">
          <sup>2</sup>
        </xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Tischfield</surname>
          <given-names>Jay A.</given-names>
        </name>
        <xref ref-type="aff" rid="AFF1">
          <sup>3</sup>
        </xref>
      </contrib>
      <contrib contrib-type="author">
        <name>
          <surname>Rice</surname>
          <given-names>John P.</given-names>
        </name>
        <xref ref-type="aff" rid="AFF1">
          <sup>1</sup>
        </xref>
        <xref ref-type="aff" rid="AFF1">
          <sup>4</sup>
        </xref>
      </contrib>
    </contrib-group>
    <aff id="AFF1"><sup>1</sup>Department of Psychiatry, Washington University, <sup>2</sup>Information Sciences Institute, University of Southern California, <sup>3</sup>Department of Genetics, Rutgers University and <sup>4</sup>Department of Genetics, Washington University, USA</aff>
    <author-notes>
      <corresp id="COR1">*To whom correspondence should be addressed. Tel: <phone>+1 314 286 2581</phone>; Fax: <fax>+1 314 286 2577</fax>; Email: <email>ssaccone@wustl.edu</email></corresp>
    </author-notes>
    <!--For NAR both ppub and collection dates generated for PMC processing 1/27/05 beck-->
    <pub-date pub-type="collection">
      <month>1</month>
      <year>2011</year>
    </pub-date>
    <pub-date pub-type="ppub">
      <month>1</month>
      <year>2011</year>
    </pub-date>
    <pub-date pub-type="epub">
      <day>30</day>
      <month>10</month>
      <year>2010</year>
    </pub-date>
    <pub-date pub-type="pmc-release">
      <day>30</day>
      <month>10</month>
      <year>2010</year>
    </pub-date>
    <!-- PMC Release delay is 0 months and 0 days and was based on the
							<pub-date pub-type="epub"/>. -->
    <volume>39</volume>
    <issue>Database issue</issue>
    <issue-title>Database issue</issue-title>
    <fpage>D901</fpage>
    <lpage>D907</lpage>
    <history>
      <date date-type="received">
        <day>7</day>
        <month>8</month>
        <year>2010</year>
      </date>
      <date date-type="rev-recd">
        <day>1</day>
        <month>10</month>
        <year>2010</year>
      </date>
      <date date-type="accepted">
        <day>13</day>
        <month>10</month>
        <year>2010</year>
      </date>
    </history>
    <permissions>
      <copyright-statement>© The Author(s) 2010. Published by Oxford University Press.</copyright-statement>
      <copyright-year>2010</copyright-year>
      <license license-type="creative-commons" xlink:href="http://creativecommons.org/licenses/by-nc/2.5">
        <license-p><!--CREATIVE COMMONS-->This is an Open Access article distributed under the terms of the Creative Commons Attribution Non-Commercial License (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by-nc/2.5">http://creativecommons.org/licenses/by-nc/2.5</ext-link>), which permits unrestricted non-commercial use, distribution, and reproduction in any medium, provided the original work is properly cited.</license-p>
      </license>
    </permissions>
    <abstract>
      <p>Genome-wide association studies often incorporate information from public biological databases in order to provide a biological reference for interpreting the results. The dbSNP database is an extensive source of information on single nucleotide polymorphisms (SNPs) for many different organisms, including humans. We have developed free software that will download and install a local MySQL implementation of the dbSNP relational database for a specified organism. We have also designed a system for classifying dbSNP tables in terms of common tasks we wish to accomplish using the database. For each task we have designed a small set of custom tables that facilitate task-related queries and provide entity-relationship diagrams for each task composed from the relevant dbSNP tables. In order to expose these concepts and methods to a wider audience we have developed web tools for querying the database and browsing documentation on the tables and columns to clarify the relevant relational structure. All web tools and software are freely available to the public at <ext-link ext-link-type="uri" xlink:href="http://cgsmd.isi.edu/dbsnpq">http://cgsmd.isi.edu/dbsnpq</ext-link>. Resources such as these for programmatically querying biological databases are essential for viably integrating biological information into genetic association experiments on a genome-wide scale.</p>
    </abstract>
  </article-meta>
</front>
<body>
  <sec>
    <title>INTRODUCTION</title>
    <p>Integrating information from biological databases into high-throughput experiments, such as genome-wide association studies (GWAS), requires a database management system (DBMS) that is capable of handling very high volume and that is equipped with resources for dealing with the complex relational structure commonly seen in these databases. For example one strategy that can be used after a GWAS when selecting single nucleotide polymorphisms (SNPs) for further research is to preferentially target SNPs with evidence of biological relevance (<xref ref-type="bibr" rid="B1">1</xref>,<xref ref-type="bibr" rid="B2">2</xref>). If a SNP resides in a gene from a pathway theorized to be relevant to the phenotype or if there is evidence that the SNP has a non-neutral effect on gene expression, this biological information may increase the priority for further study of the SNP, such as additional genotyping in a replication sample. The implementation of such a strategy requires (i) direct programmatic access to biological databases in order to efficiently and viably implement the strategy on a genome-wide scale and (ii) a systematic method of isolating the relevant information within the complex network of objects and relationships within these databases. Ideally, we should also require (iii) methods for identifying the specific sequence of experiments that produced this information and for tracing these experiments back to their core biologics and original organisms in order to establish the credibility of the database and viably assess the reliability of the information being retrieved. This work is a description of our efforts to develop tools for utilizing the dbSNP relational database that meet these criteria.</p>
    <p>The dbSNP database (<xref ref-type="bibr" rid="B3">3</xref>,<xref ref-type="bibr" rid="B4">4</xref>) is a repository that accepts submissions of data for SNPs and other structural variation such as short deletions and insertions for a multitude of organisms. It provides mapping data onto a number of conventional genomes, such as the human reference genome <italic>GRCh37</italic> (<ext-link ext-link-type="uri" xlink:href="http://www.ncbi.nlm.nih.gov/projects/genome/assembly/grc/human">http://www.ncbi.nlm.nih.gov/projects/genome/assembly/grc/human</ext-link>), as well as mapping and functional information for gene transcripts. The database has a complex relational structure and through the tracking of submitted data users can retrieve detailed information on the experiments that led to the discovery of the variants, as well as genotype data in certain populations. dbSNP has recently been substantially expanded by data from the 1000 Genomes project (<xref ref-type="bibr" rid="B5">5</xref>).</p>
    <p>Any algorithm incorporating information from a biological database on a genome-wide scale will benefit substantially from the implementation of the database using a high performance DBMS such as MySQL (<ext-link ext-link-type="uri" xlink:href="http:/www.mysql.com">http:/www.mysql.com</ext-link>), PostgreSQL (<ext-link ext-link-type="uri" xlink:href="http://www.postgresql.org/">http://www.postgresql.org/</ext-link>), MSSQL (<ext-link ext-link-type="uri" xlink:href="http://www.microsoft.com">http://www.microsoft.com</ext-link>) or Oracle (<ext-link ext-link-type="uri" xlink:href="http://www.oracle.com">http://www.oracle.com</ext-link>). Direct programmatic access to a high quality DBMS provides critical support for efficiently executed complex queries to very large databases, where a properly constructed index can mean the difference between a query taking days and minutes. The use of a conventional query language, such as SQL (<xref ref-type="bibr" rid="B6">6</xref>), should be used to maintain consistency across independent databases and facilitate cross-database integration, which is common practice when integrating biological information into a GWAS.</p>
    <p>Many of the common biological databases found on the internet, such as dbSNP (<xref ref-type="bibr" rid="B3">3</xref>,<xref ref-type="bibr" rid="B4">4</xref>,<xref ref-type="bibr" rid="B7">7</xref>) and the University of California at Santa Cruz (UCSC) genome browser database (<xref ref-type="bibr" rid="B8">8</xref>), allow users to download the data in a format conducive to creating a local version of the relational database. dbSNP provides the data in a MSSQL (Microsoft) format and UCSC provides schemas compatible with MySQL. UCSC offers a small number of tables related to dbSNP containing only summary information, excluding some key information such as details on samples used and experimental methodology. It allows users to directly query their MySQL database over the internet, while dbSNP does not.</p>
    <p>Querying these databases over the internet is not a viable solution due to the quantity of data involved. The transfer of such large amounts of data over the internet would substantially increase query execution time and place a very heavy burden on public servers. We have developed tools for downloading and implementing a local copy of the dbSNP relational database using the freely available MySQL DBMS. That is the local version exists on the user's machine so that queries to the database are done locally rather than over the internet. While dbSNP provides numerous online tools for querying and visualizing the database, as well as a download facility for retrieving the database in Microsoft MSSQL format, we have supplemented these tools with our own software for downloading and constructing a local MySQL relational database implementation of dbSNP for a specified organism. Because converting from MSSQL to MySQL is not straightforward, and the file system used in the dbSNP download facility is quite complex, our software greatly simplifies the task of implementing the relational database on a local machine. Our software was developed and tested on the Linux platform. Because it was developed using the Perl programming language, it should be readily portable to other platforms such as Microsoft Windows. This suite of tools and the conventional and freely available MySQL DBMS will allow programmers to implement complex algorithms using a fast, structured interface to the database, making the execution of these algorithms on a genome-wide scale much more viable.</p>
    <p>While many public biological databases provide programmers with a means of creating their own local copy, this method of usage is often overshadowed by other means of data access, such as web-based query and visualization tools and proprietary application programmatic interfaces (APIs) such as those offered by Ensembl (<xref ref-type="bibr" rid="B9">9</xref>). The preference for these alternatives can result in less documentation and resources provided for recreating the internal relational database, making it more difficult for programmers to understand the nature of the objects and their relationships in the database. The objects of particular importance are the biologics, the experiments and the results of these experiments. The relational model is well suited to represent the basic flow of information resulting from these experiments thereby making it easier to assess the quality and reliability of the information being retrieved. More sophisticated models may be necessary to capture the entire spectrum of experimental metadata (<xref ref-type="bibr" rid="B10">10</xref>), although this is not necessary for some applications such as integrating biological information into a GWAS.</p>
    <p>We have embraced the relational model as a means of elucidating the complex relational structure of the dbSNP database. We have divided the database into groups of tables corresponding to specific tasks we wish to accomplish and provide entity-relationship (ER) diagrams in the <ext-link ext-link-type="uri" xlink:href="http://nar.oxfordjournals.org/cgi/content/full/gkq1054/DC1">supplementary data</ext-link> for each task. The task model clarifies key parts of the database and suggests specific queries that should be used to accomplish each task. The ER diagrams illustrate the relationships between task-related tables and aid in the construction of queries. The task model and ER diagrams also provide the user with a clearer view of the sequence of experiments that led to the data and a means of querying specific information on the nature of those experiments.</p>
    <p>To make these resources available to a wider audience we have developed a simple web-based query tool (<ext-link ext-link-type="uri" xlink:href="http://cgsmd.isi.edu/dbsnpq">http://cgsmd.isi.edu/dbsnpq</ext-link>) that is integrated with a database documentation tool (<ext-link ext-link-type="uri" xlink:href="http://cgsmd.isi.edu/dbdoc">http://cgsmd.isi.edu/dbdoc</ext-link>) allowing users with a wide range of backgrounds to perform a variety of tasks with the dbSNP relational database. All tools and software are freely available to the public.</p>
  </sec>
  <sec>
    <title>METHODS AND TOOLS</title>
    <sec>
      <title>A task-based representation of dbSNP</title>
      <p><xref ref-type="table" rid="T1">Table 1</xref> describes the tasks we wish to accomplish with the dbSNP relational database. We use the task concept because in practice the goal is not necessarily to retrieve the full spectrum of information available, but is instead to retrieve only the portion relevant to a specific application, such as cross referencing the results of a GWAS. <xref ref-type="fig" rid="F1">Figure 1</xref> shows the relationship between our tasks and the tables in the dbSNP database (see <ext-link ext-link-type="uri" xlink:href="http://nar.oxfordjournals.org/cgi/content/full/gkq1054/DC1">Supplementary Table S1</ext-link> for descriptions of the dbSNP tables) and illustrates some of the relational structure among the tables. The tables were downloaded from the dbSNP FTP server (<ext-link ext-link-type="ftp" xlink:href="ftp://ftp.ncbi.nlm.nih.gov">ftp://ftp.ncbi.nlm.nih.gov</ext-link>) and correspond to build 131 of the human component of the database. In the <ext-link ext-link-type="uri" xlink:href="http://nar.oxfordjournals.org/cgi/content/full/gkq1054/DC1">Supplementary data</ext-link> we have provided a more detailed description of each task, including ER diagrams showing the schemas and relationships for the relevant tables and sample queries with output. We attempted to define the tasks so that the number of related tables is manageable and leads to interpretable ER diagrams. While we developed these methods and tools for human applications, because the database structure is consistent across different organisms, our system should translate to the other organisms maintained by dbSNP with minor modifications.
<fig id="F1" position="float"><label>Figure 1.</label><caption><p>The tasks and corresponding dbSNP tables from our classification scheme. A tree structure is used to partially represent the relationships between the tables. All tables except those listed under ‘Local Tables’ are directly from dbSNP. Tables with asterisks have names in the dbSNP database that are prefixed by the dbSNP build and suffixed by the representative genome build, such as <italic>b131_ContigInfo_37_1</italic> in build 131 of the human database.</p></caption><graphic xlink:href="gkq1054f1"/></fig>
<table-wrap id="T1" position="float"><label>Table 1.</label><caption><p>Descriptions of the tasks used in our classification scheme for the tables in the dbSNP database</p></caption><table frame="hsides" rules="groups"><thead align="left"><tr><th rowspan="1" colspan="1">Task</th><th rowspan="1" colspan="1">Description</th></tr></thead><tbody align="left"><tr><td rowspan="1" colspan="1">Submission</td><td rowspan="1" colspan="1">Determine the source of the submission such as specific laboratories or researchers, the populations used, any associated publications and how the submissions cluster into ‘reference SNP’ identification numbers (a group of ‘ss’ SNP IDs correspond to a unique ‘rs’ ID via the table <italic>SNPSubSNPLink</italic>).</td></tr><tr><td rowspan="1" colspan="1">Experimental methods</td><td rowspan="1" colspan="1">Determine the experimental methods used to produce the data, such as direct DNA sequencing, DNA hybridization and DHPLC (denaturing high pressure liquid chromatography).</td></tr><tr><td rowspan="1" colspan="1">Validation</td><td rowspan="1" colspan="1">Assess the reliability of the information and evaluate whether or not a reported variant is truly a genetic polymorphism or is just an experimental artifact. Methods include determining if there are multiple submissions with at least one non-computational observation and confirmation by observation of positive frequency in a genotyped sample.</td></tr><tr><td rowspan="1" colspan="1">Classification</td><td rowspan="1" colspan="1">Determine if the variants are classified as being a true SNP, insertion, deletion and so on.</td></tr><tr><td rowspan="1" colspan="1">Sample information</td><td rowspan="1" colspan="1">Retrieve information on the biological samples used, such as ethnicity and the number of samples used for a submission.</td></tr><tr><td rowspan="1" colspan="1">Alleles and frequency data</td><td rowspan="1" colspan="1">Retrieve the alleles observed for the variant, which DNA strand was used and the frequencies of the alleles and genotypes in various populations.</td></tr><tr><td rowspan="1" colspan="1">Genome mapping</td><td rowspan="1" colspan="1">Retrieve information on how the variants map to various reference genomes, such as the physical mapping coordinates and the quality of the alignments.</td></tr><tr><td rowspan="1" colspan="1">Genes and function</td><td rowspan="1" colspan="1">Retrieve information on relationships between the variants and genes, such as SNP/gene transcript functional properties (missense mutations, frameshifts, UTR regions and so on).</td></tr><tr><td rowspan="1" colspan="1">Flanking sequence</td><td rowspan="1" colspan="1">Retrieve the flanking DNA sequences used to define the variant. This can be useful when conducting custom genotyping experiments for variants not represented by commercial SNP microarrays.</td></tr><tr><td rowspan="1" colspan="1">Individual genotyping</td><td rowspan="1" colspan="1">Retrieve submitted individual genotypes.</td></tr><tr><td rowspan="1" colspan="1">Summary information</td><td rowspan="1" colspan="1">Retrieve summary information for a reference SNP ID—an amalgamation the tasks above.</td></tr></tbody></table></table-wrap></p>
      <p>For each task we designed a small set of tables which we refer to as ‘local tables’ (<ext-link ext-link-type="uri" xlink:href="http://nar.oxfordjournals.org/cgi/content/full/gkq1054/DC1">Supplementary Table S3</ext-link>). We derived these from the original dbSNP tables in order to facilitate the tasks by providing the relevant information in a more conducive form. These local tables are often denormalized in the sense that certain numeric foreign keys are replaced by their text values and duplicate keys are replaced by comma-separated lists. While this may lead to inefficient storage the benefit is faster access to the information, which can be crucial when using the database for genome-wide analysis. Another option is to use views instead of physical tables. A view acts like a physical table but is really a query to one or more existing tables and therefore occupies no additional space. Some of our local tables have too complex a derivation to be implemented as a view and for others the queries to a view take significantly longer than to a physical table, particularly when the physical table is implemented with special indexes that improve the performance of the query. We believe the performance increase outweighs the issue of increased storage and therefore tend to use physical local tables rather than views.</p>
      <p>A routine application of the dbSNP database to a GWAS experiment is to retrieve basic annotation, such as from our table <italic>_loc_snp_summary</italic>, for an entire commercial SNP microarray (see the section ‘Summary Information’ in the <ext-link ext-link-type="uri" xlink:href="http://nar.oxfordjournals.org/cgi/content/full/gkq1054/DC1">Supplementary data</ext-link> for details on the table <italic>_loc_snp_summary</italic>). For dbSNP human build 131 and the Illumina 1 M SNP microarray (<ext-link ext-link-type="uri" xlink:href="http://www.illumina.com">http://www.illumina.com</ext-link>), which contains one million SNPs, this results in 143 million bytes of data. This is an unwieldy amount of information to query over the internet and illustrates the need for direct access to this information on a local machine. A more substantial query would be to retrieve dbSNP allele frequency data for the Illumina 1 M array via our local table <italic>_loc_allele_freqs</italic> which results in 799 million bytes of data.</p>
      <p>The examples in the <ext-link ext-link-type="uri" xlink:href="http://nar.oxfordjournals.org/cgi/content/full/gkq1054/DC1">Supplementary data</ext-link> provide a snapshot of the flow of information in the dbSNP database and the precise types of data being stored. These examples follow the tasks in <xref ref-type="fig" rid="F1">Figure 1</xref>, starting with Submission and proceeding clockwise. These represent a typical cycle of experiments and applications, from the discovery of a variant to confirmation by genotyping in multiple samples followed by genome mapping properties and gene transcript analysis and ending with representative flanking sequence to be used for additional genotyping experiments such as disease mapping studies. Our examples convey the relational structure of the database through ER diagrams and provide a detailed view of the data through example queries with output tables.</p>
    </sec>
    <sec>
      <title>Software for downloading and implementing dbSNP</title>
      <p>We have developed software to automate the process of downloading data and schema files from dbSNP, converting the dbSNP MSSQL schema files to MySQL and loading the data into a local MySQL server. The software is written in the Perl programming language and is executed via a UNIX command line using the syntax <italic>dbsnp.pl [command] [options]</italic>. <ext-link ext-link-type="uri" xlink:href="http://nar.oxfordjournals.org/cgi/content/full/gkq1054/DC1">Supplementary Table S4</ext-link> lists the commands and their descriptions (see the section titled ‘Download Script’ in the <ext-link ext-link-type="uri" xlink:href="http://nar.oxfordjournals.org/cgi/content/full/gkq1054/DC1">Supplemenary data</ext-link>). The script is freely available to the public as part of the ‘dbSNP Downloader’ package which can be obtained at <ext-link ext-link-type="uri" xlink:href="http://cgsmd.isi.edu/dbsnpq/downloads.php">http://cgsmd.isi.edu/dbsnpq/downloads.php</ext-link>. We also provide MySQL ‘dumps’ of the human dbSNP database either as a single file containing the entire database or as a separate file for each table. These files are easily imported into a local MySQL database. The set of tables for which we provide downloads is not comprehensive—the remaining tables can be implemented using <italic>dbsnp.pl</italic>.</p>
    </sec>
    <sec>
      <title>A web-based query tool</title>
      <p>We have developed a web-based tool, dbSNP-Q (<ext-link ext-link-type="uri" xlink:href="http://cgsmd.isi.edu/dbsnpq">http://cgsmd.isi.edu/dbsnpq</ext-link>), for querying the human data from our MySQL implementation of the dbSNP relational database. This tool has a straightforward interface for entering SNPs and selecting a simple predefined query or entering a custom MySQL query. This allows users with a wide range of backgrounds to accomplish a variety of tasks. In addition to SNPs, users may enter genes and genomic regions in order to retrieve all the corresponding SNPs. There is also an option to look up and add all SNPs in linkage disequilibrium (LD) with the entered SNPs using one of eleven HapMap Phase III populations. Queries may be viewed directly in the browser or downloaded in Excel or tab-delimited text format. The jQuery JavaScript framework (<ext-link ext-link-type="uri" xlink:href="http://www.jquery.com">http://www.jquery.com</ext-link>) ensures the interface is browser-independent and is a true interactive web-based application rather than a continuously re-loaded web page. dbSNP-Q is a model-view-controller (MVC) application: it uses Ajax technology as implemented by the jQuery plug-in jqGrid (<ext-link ext-link-type="uri" xlink:href="http://www.trirand.net">http://www.trirand.net</ext-link>) to enable users to viably work with 10 s of millions of SNPs because the core logic, such as sorting and paging through the results of the query, is handled by our server. We have also implemented a vertical view technique that is useful for tables with many columns: clicking on a row immediately displays a separate table showing the contents of only that row as a two-column table.</p>
    </sec>
    <sec>
      <title>A web-based database documentation tool</title>
      <p>We have developed a web-based tool, dbDoc (<ext-link ext-link-type="uri" xlink:href="http://cgsmd.isi.edu/dbdoc">http://cgsmd.isi.edu/dbdoc</ext-link>), that provides documentation for any MySQL database. The tool provides documentation and summary information on databases, individual tables, individual columns and, when available, relationships between tables and columns. It uses a web-based hierarchical navigation system to explore the database starting with a complete list of tables which can then be navigated down to documentation at the individual column level. It also provides support for grouping tables into categories identified by ‘tags’; in the case of dbSNP we use the tasks described in <xref ref-type="table" rid="T1">Table 1</xref> (<ext-link ext-link-type="uri" xlink:href="http://cgsmd.isi.edu/dbdoc/db.php?db=dbsnp_human_131#tags">http://cgsmd.isi.edu/dbdoc/db.php?db=dbsnp_human_131#tags</ext-link>). In comparison, the dbSNP online data dictionary (<ext-link ext-link-type="uri" xlink:href="http://www.ncbi.nlm.nih.gov/projects/SNP/snp_db_list_table.cgi">http://www.ncbi.nlm.nih.gov/projects/SNP/snp_db_list_table.cgi</ext-link>) requires users to search for tables and columns. This excludes the display of a complete list of the tables, which we believe is very useful for understanding the content of the database. dbDoc includes a search tool equipped a word completion feature making it easier for users to find documentation.</p>
      <p>dbDoc is integrated into our query tool dbSNP-Q. When a user selects a predefined query in dbSNP-Q, a table showing documentation on each of the columns is displayed beneath the query results. The column descriptions are linked back to dbDoc so the user may browse additional documentation.</p>
    </sec>
  </sec>
  <sec>
    <title>DISCUSSION</title>
    <p>One of the themes in the development of these tools is the ability to establish the credibility of a biological database and assess the reliability of the information being retrieved from it by providing a means of tracing the information through the sequence experiments that generated the information, ideally back to the original biologics and organisms. We feel it is important to obtain this information if the data is being used to guide other experiments, such as post-GWAS prioritization of follow up studies. We also believe the information should be provided in such a way that it can be programmatically incorporated into an application such as GWAS prioritization through a DBMS such as MySQL that uses a conventional query language and table relationship paradigm and is supported by a wide variety of programming languages such as Perl and Hypertext Preprocessor (PHP).</p>
    <p>A case in point is the dbSNP relational database which contains information on the labs and scientists that performed the experiments, the technology and the samples used in those experiments and the methods used to map the variants to the reference genomes and determine any relationships to known gene transcripts. dbSNP provides the data and schemas for all the information in their database, as well as an online data dictionary documenting the tables (<ext-link ext-link-type="uri" xlink:href="http://www.ncbi.nlm.nih.gov/projects/SNP/snp_db_list_table.cgi">http://www.ncbi.nlm.nih.gov/projects/SNP/snp_db_list_table.cgi</ext-link>) and an online Handbook (<ext-link ext-link-type="uri" xlink:href="http://www.ncbi.nlm.nih.gov/bookshelf/br.fcgi?book=handbook&amp;part=ch5">http://www.ncbi.nlm.nih.gov/bookshelf/br.fcgi?book=handbook&amp;part=ch5</ext-link>). While this is a tremendous resource to investigators using SNP data, we have developed tools that enhance this resource and support our goal of establishing a programmatic interface to biological databases and promoting credibility and reliability. The task of implementing a MySQL copy of dbSNP is difficult to accomplish manually due to the MSSQL conversion not being straightforward and the complexity of dbSNP storage system for schemas and data. Furthermore, our task-based table classification system with ER diagrams and custom local tables facilitate usage of the database. dbSNP does provide an ER diagram of their database at <ext-link ext-link-type="ftp" xlink:href="ftp://ftp.ncbi.nih.gov/snp/database/erd_dbSNP.pdf">ftp://ftp.ncbi.nih.gov/snp/database/erd_dbSNP.pdf</ext-link>. At the time of writing this diagram was last updated in 2005 and some tables in the diagram are obsolete. While it does divide the tables into different subject areas, the result is still quite complex. We believe that focusing on more narrowly defined tasks leads to a more manageable set of tables and therefore a more viable resource for programmers.</p>
    <p>The UCSC (<xref ref-type="bibr" rid="B8">8</xref>) and Ensembl (<xref ref-type="bibr" rid="B9">9</xref>) sites are two other popular sources of biological information that provide data and schemas in MySQL format as well as direct MySQL access. The tables from the UCSC human database relevant to dbSNP, for example <italic>snp130</italic> and <italic>snp130CodingDbSnp</italic> for build 130, provide summary information similar to our <italic>_loc_snp_summary</italic> table. The Ensembl database offers additional information (<ext-link ext-link-type="uri" xlink:href="http://pre.ensembl.org/info/docs/api/variation">http://pre.ensembl.org/info/docs/api/variation</ext-link>), but both sources lack data on submitters and technological methods which we believe detracts from the credibility of the database.</p>
    <p>A limitation in our methods is determining when there are errors in the dbSNP data (<xref ref-type="bibr" rid="B7">7</xref>,<xref ref-type="bibr" rid="B11">11</xref>) as we provide no resources to specifically address this issue. Our goal is to first clarify the structure of the database in terms of identifying what it is we intend to do with the information, hence the task-based representation. The next steps in developing tools that utilize databases such as dbSNP should be to determine whether it is necessary to incorporate additional validation mechanisms and then implement these mechanisms in such a way that any quality-control procedures that affect the data are clearly traceable, in the same way we trace the experiments that produced the data.</p>
    <p>An additional service that may be provided in future implementations of these tools is the provision of probe sequence data from commercial SNP microarrays such as those offered by Affymetrix (<ext-link ext-link-type="uri" xlink:href="http://affymetrix.com">http://affymetrix.com</ext-link>) and Illumina (<ext-link ext-link-type="uri" xlink:href="http://illumina.com">http://illumina.com</ext-link>). While we do provide the dbSNP flanking sequence data that was originally reported by submitters, it may be useful to obtain probe sequence data directly from the manufacturers and provide this data to investigators using similar relational database methods. One application would be the resolution of strand-ambiguous genotype calls.</p>
    <p>We have developed a systematic workflow for retrieving and processing data from dbSNP and implementing a local MySQL relational database. This workflow will provide a robust solution for working with future releases of dbSNP. The primary utility for automating this workflow is our <italic>dbSNP Downloader</italic> package that is freely available to the public at <ext-link ext-link-type="uri" xlink:href="http://cgsmd.isi.edu/dbsnpq/downloads.php">http://cgsmd.isi.edu/dbsnpq/downloads.php</ext-link>. Future releases may involve changes to the format and structure of the files on the dbSNP download site, such as changes to dbSNP database schema files and we will modify our software to accommodate these changes. We have found that these changes may sometimes be subtle and yet have serious consequences, such as a text file that suddenly uses Windows line delimiters when the format was UNIX in the previous download from dbSNP. This highlights the importance of having a robust system for downloading and processing data. Our dbSNP Downloader package system will enhance our ability to ensure the dbSNP-Q web tool provides the most recent build of human dbSNP data.</p>
    <p>In order to allow these resources to broaden and remain useful to the general scientific community rather than only to programmers, we will expand our dbSNP-Q and dbDoc web tools and accompanying software packages such as <italic>dbSNP Downloader</italic> to include experimental genomic data from sources other than dbSNP. This expansion would be subject to the limitations dictated by our goal of establishing credible relational databases of information that can be traced back through specific experiments and processes to the original subjects and biologics. For example it is not clear if it is practical to develop new utilities for implementing the complete UCSC and Ensembl databases. One reason is that these sites in particular already provide resources for implementing local versions of their databases using software such as MySQL. Another reason is that the information provided by these sites is often derived from other sources such as dbSNP. Our goal, as in the case of dbSNP, is to develop databases for specific experimental sources using the traceability criteria to establish credibility. Nevertheless, integrating these extensive genomic databases into a common resource that includes our dbSNP tools could improve the ability of researchers to integrate a vast array of genomic experimental data using conventional programming methods and therefore this undertaking will be explored. Another resource is the HapMap database, which is already integrated indirectly into the dbSNP-Q web tool for the purpose for querying data for all SNPs in LD with specified SNPs. We are currently designing a HapMap relational database similar to our dbSNP implementation. One difficulty is that the HapMap site (<ext-link ext-link-type="uri" xlink:href="http://hapmap.ncbi.nlm.nih.gov">http://hapmap.ncbi.nlm.nih.gov</ext-link>) does not provide any form of relational database schema to model such aspects as population data and the different technologies used to produce the genotype data. Therefore these relational database models must be developed independently.</p>
    <p>A key theme in our work is programmatic access to the database, by which we mean a DBMS that is supported by conventional programming languages so that complex algorithms can be implementing using a fast access paradigm to the database. For example we prefer the widely used Perl programming language (<ext-link ext-link-type="uri" xlink:href="http://www.perl.org">http://www.perl.org</ext-link>) along with the module Perl::DBI (<ext-link ext-link-type="uri" xlink:href="http://dbi.perl.org">http://dbi.perl.org</ext-link>) for MySQL support. Web software development can take advantage of the Linux-Apache-MySQL-PHP (LAMP) and Ajax programming paradigms, where MySQL-friendly PHP scripts can be used to develop web applications, such as our own SNP prioritization tool (<ext-link ext-link-type="uri" xlink:href="https://spot.cgsmd.isi.edu">https://spot.cgsmd.isi.edu</ext-link>) (<xref ref-type="bibr" rid="B2">2</xref>) and the dbSNP-Q query tool (<ext-link ext-link-type="uri" xlink:href="http://cgsmd.isi.edu/dbsnpq">http://cgsmd.isi.edu/dbsnpq</ext-link>). MySQL is a very widely used DBMS with freely available client and server software and numerous professional grade development tools (<ext-link ext-link-type="uri" xlink:href="http://dev.mysql.com">http://dev.mysql.com</ext-link>). The ability to implement local MySQL copies of large biological databases will be conducive to the development of public tools for integrating this information into other biological experiments such as GWAS.</p>
  </sec>
  <sec>
    <title>SUPPLEMENTARY DATA</title>
    <p><ext-link ext-link-type="uri" xlink:href="http://nar.oxfordjournals.org/cgi/content/full/gkq1054/DC1">Supplementary Data</ext-link> are available at NAR Online.</p>
  </sec>
  <sec>
    <title>FUNDING</title>
    <p><funding-source>National Institute on Drug Abuse</funding-source> (<award-id>K01 DA024722</award-id> to S.F.S.); <funding-source>American Cancer Society</funding-source> (<award-id>IRG 5801050</award-id> to S.F.S.); <funding-source>National Institute on Mental Health</funding-source> (<award-id>U24 MH068457</award-id> to J.A.T.). Funding for open access charge: <funding-source>National Institutes of Health</funding-source> grants [<award-id>DA024722</award-id> (50%) and <award-id>MH068457</award-id> (50%)].</p>
    <p><italic>Conflict of interest statement</italic>. None declared.</p>
  </sec>
</body>
<back>
  <ack>
    <title>ACKNOWLEDGEMENTS</title>
    <p>The authors are grateful to the following individuals for testing our software: Andrew Schrage, Richard McEachin and Sharon Ryan. The authors are also very grateful for the assistance received from the dbSNP administrators. The authors thank the reviewers for their comments and suggestions, which helped to improve the quality of the article. Finally, the authors thank the editor, Dr Michael Galperin, for the suggestion of making this work accessible to a wider scientific audience, which led to the development of the dbSNP-Q web tool.</p>
  </ack>
  <ref-list>
    <title>REFERENCES</title>
    <ref id="B1">
      <label>1</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Saccone</surname>
            <given-names>SF</given-names>
          </name>
          <name>
            <surname>Saccone</surname>
            <given-names>NL</given-names>
          </name>
          <name>
            <surname>Swan</surname>
            <given-names>GE</given-names>
          </name>
          <name>
            <surname>Madden</surname>
            <given-names>PA</given-names>
          </name>
          <name>
            <surname>Goate</surname>
            <given-names>AM</given-names>
          </name>
          <name>
            <surname>Rice</surname>
            <given-names>JP</given-names>
          </name>
          <name>
            <surname>Bierut</surname>
            <given-names>LJ</given-names>
          </name>
        </person-group>
        <article-title>Systematic biological prioritization after a genome-wide association study: an application to nicotine dependence</article-title>
        <source>Bioinformatics</source>
        <year>2008</year>
        <volume>24</volume>
        <fpage>1805</fpage>
        <lpage>1811</lpage>
        <pub-id pub-id-type="pmid">18565990</pub-id>
      </element-citation>
    </ref>
    <ref id="B2">
      <label>2</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Saccone</surname>
            <given-names>SF</given-names>
          </name>
          <name>
            <surname>Bolze</surname>
            <given-names>R</given-names>
          </name>
          <name>
            <surname>Thomas</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Quan</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Mehta</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Deelman</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Tischfield</surname>
            <given-names>JA</given-names>
          </name>
          <name>
            <surname>Rice</surname>
            <given-names>JP</given-names>
          </name>
        </person-group>
        <article-title>SPOT: a web-based tool for using biological databases to prioritize SNPs after a genome-wide association study</article-title>
        <source>Nucleic Acids Res.</source>
        <year>2010</year>
        <volume>38</volume>
        <issue>Suppl.</issue>
        <fpage>W201</fpage>
        <lpage>209</lpage>
        <pub-id pub-id-type="pmid">20529875</pub-id>
      </element-citation>
    </ref>
    <ref id="B3">
      <label>3</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Sayers</surname>
            <given-names>EW</given-names>
          </name>
          <name>
            <surname>Barrett</surname>
            <given-names>T</given-names>
          </name>
          <name>
            <surname>Benson</surname>
            <given-names>DA</given-names>
          </name>
          <name>
            <surname>Bolton</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Bryant</surname>
            <given-names>SH</given-names>
          </name>
          <name>
            <surname>Canese</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Chetvernin</surname>
            <given-names>V</given-names>
          </name>
          <name>
            <surname>Church</surname>
            <given-names>DM</given-names>
          </name>
          <name>
            <surname>Dicuccio</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Federhen</surname>
            <given-names>S</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Database resources of the National Center for Biotechnology Information</article-title>
        <source>Nucleic Acids Res.</source>
        <year>2010</year>
        <volume>38</volume>
        <issue>Database issue</issue>
        <fpage>D5</fpage>
        <lpage>D16</lpage>
        <pub-id pub-id-type="pmid">19910364</pub-id>
      </element-citation>
    </ref>
    <ref id="B4">
      <label>4</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Sherry</surname>
            <given-names>ST</given-names>
          </name>
          <name>
            <surname>Ward</surname>
            <given-names>MH</given-names>
          </name>
          <name>
            <surname>Kholodov</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Baker</surname>
            <given-names>J</given-names>
          </name>
          <name>
            <surname>Phan</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Smigielski</surname>
            <given-names>EM</given-names>
          </name>
          <name>
            <surname>Sirotkin</surname>
            <given-names>K</given-names>
          </name>
        </person-group>
        <article-title>dbSNP: the NCBI database of genetic variation</article-title>
        <source>Nucleic Acids Res.</source>
        <year>2001</year>
        <volume>29</volume>
        <fpage>308</fpage>
        <lpage>311</lpage>
        <pub-id pub-id-type="pmid">11125122</pub-id>
      </element-citation>
    </ref>
    <ref id="B5">
      <label>5</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Kuehn</surname>
            <given-names>BM</given-names>
          </name>
        </person-group>
        <article-title>1000 Genomes Project promises closer look at variation in human genome</article-title>
        <source>JAMA</source>
        <year>2008</year>
        <volume>300</volume>
        <fpage>2715</fpage>
        <pub-id pub-id-type="pmid">19088343</pub-id>
      </element-citation>
    </ref>
    <ref id="B6">
      <label>6</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Jamison</surname>
            <given-names>DC</given-names>
          </name>
        </person-group>
        <article-title>Structured Query Language (SQL) fundamentals</article-title>
        <source>Curr. Protoc. Bioinformatics</source>
        <year>2003</year>
        <comment>Chapter 9, Unit 9.2</comment>
      </element-citation>
    </ref>
    <ref id="B7">
      <label>7</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Day</surname>
            <given-names>IN</given-names>
          </name>
        </person-group>
        <article-title>dbSNP in the detail and copy number complexities</article-title>
        <source>Hum. Mutat.</source>
        <year>2009</year>
        <volume>31</volume>
        <fpage>2</fpage>
        <lpage>4</lpage>
        <pub-id pub-id-type="pmid">20024941</pub-id>
      </element-citation>
    </ref>
    <ref id="B8">
      <label>8</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Rhead</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Karolchik</surname>
            <given-names>D</given-names>
          </name>
          <name>
            <surname>Kuhn</surname>
            <given-names>RM</given-names>
          </name>
          <name>
            <surname>Hinrichs</surname>
            <given-names>AS</given-names>
          </name>
          <name>
            <surname>Zweig</surname>
            <given-names>AS</given-names>
          </name>
          <name>
            <surname>Fujita</surname>
            <given-names>PA</given-names>
          </name>
          <name>
            <surname>Diekhans</surname>
            <given-names>M</given-names>
          </name>
          <name>
            <surname>Smith</surname>
            <given-names>KE</given-names>
          </name>
          <name>
            <surname>Rosenbloom</surname>
            <given-names>KR</given-names>
          </name>
          <name>
            <surname>Raney</surname>
            <given-names>BJ</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>The UCSC genome browser database: update 2010</article-title>
        <source>Nucleic Acids Res.</source>
        <year>2010</year>
        <volume>38</volume>
        <fpage>D613</fpage>
        <lpage>619</lpage>
        <pub-id pub-id-type="pmid">19906737</pub-id>
      </element-citation>
    </ref>
    <ref id="B9">
      <label>9</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Flicek</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Aken</surname>
            <given-names>BL</given-names>
          </name>
          <name>
            <surname>Ballester</surname>
            <given-names>B</given-names>
          </name>
          <name>
            <surname>Beal</surname>
            <given-names>K</given-names>
          </name>
          <name>
            <surname>Bragin</surname>
            <given-names>E</given-names>
          </name>
          <name>
            <surname>Brent</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Chen</surname>
            <given-names>Y</given-names>
          </name>
          <name>
            <surname>Clapham</surname>
            <given-names>P</given-names>
          </name>
          <name>
            <surname>Coates</surname>
            <given-names>G</given-names>
          </name>
          <name>
            <surname>Fairley</surname>
            <given-names>S</given-names>
          </name>
          <etal/>
        </person-group>
        <article-title>Ensembl's 10th year</article-title>
        <source>Nucleic Acids Res.</source>
        <year>2010</year>
        <volume>38</volume>
        <fpage>D557</fpage>
        <lpage>562</lpage>
        <pub-id pub-id-type="pmid">19906699</pub-id>
      </element-citation>
    </ref>
    <ref id="B10">
      <label>10</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Jones</surname>
            <given-names>AR</given-names>
          </name>
          <name>
            <surname>Lister</surname>
            <given-names>AL</given-names>
          </name>
        </person-group>
        <article-title>Managing experimental data using FuGE</article-title>
        <source>Methods Mol. Biol.</source>
        <year>2009</year>
        <volume>604</volume>
        <fpage>333</fpage>
        <lpage>343</lpage>
        <pub-id pub-id-type="pmid">20013382</pub-id>
      </element-citation>
    </ref>
    <ref id="B11">
      <label>11</label>
      <element-citation publication-type="journal">
        <person-group person-group-type="author">
          <name>
            <surname>Musumeci</surname>
            <given-names>L</given-names>
          </name>
          <name>
            <surname>Arthur</surname>
            <given-names>JW</given-names>
          </name>
          <name>
            <surname>Cheung</surname>
            <given-names>FS</given-names>
          </name>
          <name>
            <surname>Hoque</surname>
            <given-names>A</given-names>
          </name>
          <name>
            <surname>Lippman</surname>
            <given-names>S</given-names>
          </name>
          <name>
            <surname>Reichardt</surname>
            <given-names>JK</given-names>
          </name>
        </person-group>
        <article-title>Single Nucleotide Differences (SNDs) in the dbSNP Database May Lead to Errors in Genotyping and Haplotyping Studies</article-title>
        <source>Hum. Mutat.</source>
        <year>2010</year>
        <volume>31</volume>
        <fpage>67</fpage>
        <lpage>73</lpage>
        <pub-id pub-id-type="pmid">19877174</pub-id>
      </element-citation>
    </ref>
  </ref-list>
</back>
